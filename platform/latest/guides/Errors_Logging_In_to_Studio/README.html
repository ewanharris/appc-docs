<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Errors Logging In to Studio</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta content="Scroll EclipseHelp Exporter" name="generator"/>

    <link type="text/css" rel="stylesheet"/>
    <link type="text/css" rel="stylesheet"/>
    <link type="text/css" rel="stylesheet" media="print"/>
</head>
<body>
    <div class="container">
        <div class="header"/>

        <div id="30083289" class="content">
            <h1>Errors Logging In to Studio</h1>
    <div class="section section-2 " id="30083289_ErrorsLoggingIntoStudio-Contents">
        <h2 class="heading "><span>Contents</span></h2>
    <p>
    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Errors_Logging_In_to_Studio-section-30083289_ErrorsLoggingIntoStudio-Overview">Overview</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Errors_Logging_In_to_Studio-section-30083289_ErrorsLoggingIntoStudio-Troubleloggingin">Trouble logging in</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Errors_Logging_In_to_Studio-section-30083289_ErrorsLoggingIntoStudio-LaunchStudiofromthecommandline">Launch Studio from the command line</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Errors_Logging_In_to_Studio-section-30083289_ErrorsLoggingIntoStudio-Checkthelogfileforthrownexceptions">Check the log file for thrown exceptions</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Errors_Logging_In_to_Studio-section-30083289_ErrorsLoggingIntoStudio-OSX">OS X</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Errors_Logging_In_to_Studio-section-30083289_ErrorsLoggingIntoStudio-Windows">Windows</a>    </p>
</li></ul></li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Errors_Logging_In_to_Studio-section-30083289_ErrorsLoggingIntoStudio-Loginfailureduetoenvironmentvariables">Login failure due to environment variables</a>    </p>
</li></ul></li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Errors_Logging_In_to_Studio-section-30083289_ErrorsLoggingIntoStudio-Repeatedprompting(orFailingtoprompt)forcredentials">Repeated prompting (or Failing to prompt) for credentials</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Errors_Logging_In_to_Studio-section-30083289_ErrorsLoggingIntoStudio-DeleteKeyChainentry">Delete KeyChain entry</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Errors_Logging_In_to_Studio-section-30083289_ErrorsLoggingIntoStudio-ProvidingaccesstoKeychainservice">Providing access to Keychain service</a>    </p>
</li></ul></li></ul>    </div>
    <div class="section section-2 " id="30083289_ErrorsLoggingIntoStudio-Overview">
        <h2 class="heading "><span>Overview</span></h2>
    <p>
If you are unable to log in to Studio, please try the following diagnostic steps and then submit this as part of your question on the Q &amp; A forum.    </p>
    </div>
    <div class="section section-2 " id="30083289_ErrorsLoggingIntoStudio-Troubleloggingin">
        <h2 class="heading "><span>Trouble logging in</span></h2>
    <div class="section section-3 " id="30083289_ErrorsLoggingIntoStudio-LaunchStudiofromthecommandline">
        <h3 class="heading "><span>Launch Studio from the command line</span></h3>
<ol class=" "><li class=" ">    <p>
Try the to login using the <tt class=" ">appc login</tt> command or using the command below on the command line:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">curl -F </code><code class="string">"username=XXXX"</code><code class="plain"> -F </code><code class="string">"password=YYYY"</code><code class="plain"> https:</code><code class="comments">//dashboard.appcelerator.com/api/v1/auth/login</code></div>
</div>
</div>    <p>
(replacing XXXX and YYYY with your username and password. The username needs to be url-escaped, like user@company.com =&gt; user%40company.com)    </p>
</li><li class=" ">    <p>
If the above command returns success, try to run Studio from the command line and then log in. Check the generated exception log on the command line.    </p>
<ul class=" "><li class=" ">    <p>
From Mac: open a terminal and run <tt class=" ">&lt;install_dir&gt;/AppceleratorStudio.app/Contents/MacOS/AppceleratorStudio</tt> (by default, the installation directory is <tt class=" ">/Applications/Titanium Studio</tt>)    </p>
</li><li class=" ">    <p>
From Windows: open a command prompt and run <tt class=" ">&lt;install_dir&gt;\AppceleratorStudio.exe -consoleLog</tt> (by default, the installation directory is <tt class=" ">C:\Users\&lt;username&gt;\AppData\Local\Titanium Studio</tt>)    </p>
</li></ul></li></ol>    </div>
    <div class="section section-3 " id="30083289_ErrorsLoggingIntoStudio-Checkthelogfileforthrownexceptions">
        <h3 class="heading "><span>Check the log file for thrown exceptions</span></h3>
    <p>
Check the <strong class=" ">Studio log</strong> file to see if an exception was thrown when attempting to login. See <a class="document-link " href="#!/guide/Accessing_the_Log_File">Accessing the Log File</a> for details on how to access the log file.    </p>
    <p>
If the exception generated is<strong class=" "> javax.net.ssl.SSLHandshakeException</strong>, <strong class=" ">javax.net.ssl.SSLPeerUnverifiedException</strong> or <strong class=" ">&quot;PKIX path building failed&quot;</strong>, it means that the required certificate could not be added to Java's certificate store. You need to manually download and import the necessary certificates.    </p>
    <div class="section section-4 " id="30083289_ErrorsLoggingIntoStudio-OSX">
        <h4 class="heading "><span>OS X</span></h4>
    <p>
For <strong class=" ">Appcelerator Studio</strong>, on an OS X system, run:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">openssl s_client -showcerts -connect dashboard.appcelerator.com:</code><code class="value">443</code><code class="plain"> &lt;/dev/</code><code class="keyword">null</code><code class="plain"> </code><code class="value">2</code><code class="plain">&gt;/dev/</code><code class="keyword">null</code><code class="plain">|openssl x509 -outform PEM &gt;dashboard.pem</code></div>
<div class="line"><code class="plain">sudo keytool -</code><code class="keyword">import</code><code class="plain"> -keystore /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security/cacerts -alias dashboard -file dashboard.pem</code></div>
</div>
</div>    <p>
For <strong class=" ">Titanium Studio</strong>, on an OS X system, run:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">openssl s_client -showcerts -connect api.appcelerator.com:</code><code class="value">443</code><code class="plain"> &lt;/dev/</code><code class="keyword">null</code><code class="plain"> </code><code class="value">2</code><code class="plain">&gt;/dev/</code><code class="keyword">null</code><code class="plain">|openssl x509 -outform PEM &gt;mycertfile.pem</code></div>
<div class="line"><code class="plain">sudo keytool -</code><code class="keyword">import</code><code class="plain"> -keystore /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security/cacerts -alias my_cert -file mycertfile.pem</code></div>
</div>
</div>    <p>
The first command downloads the server certificate, and the second command imports it to system Java's cacerts store.    </p>
    </div>
    <div class="section section-4 " id="30083289_ErrorsLoggingIntoStudio-Windows">
        <h4 class="heading "><span>Windows</span></h4>
    <p>
Use the following steps:    </p>
<ol class=" "><li class=" ">    <p>
Download <a class="attachment-link " href="./attachments_37683930_1_InstallCert.jar">InstallCert.jar</a> to a local directory.    </p>
</li><li class=" ">    <p>
Open <tt class=" ">cmd.exe</tt>.    </p>
</li><li class=" ">    <p>
Change directory into the directory and run <tt class=" ">java -classpath InstallCert.jar InstallCert dashboard.appcelerator.com</tt>.    </p>
</li><li class=" ">    <p>
It should output the same exception stacktrace as above and detect what certificate needs to be added; enter <tt class=" ">1</tt>.    </p>
</li></ol>    <p>
Let it run until it finishes, and afterward, Java should be able to complete a handshake with the host, and you could verify by running the program again.    </p>
    </div>
    </div>
    <div class="section section-3 " id="30083289_ErrorsLoggingIntoStudio-Loginfailureduetoenvironmentvariables">
        <h3 class="heading "><span>Login failure due to environment variables</span></h3>
    <p>
If you cannot log into Studio even though you entered valid username and password information and the same credentials are valid on appcelerator.com does work, it might be due one of the following possible causes:    </p>
<ul class=" "><li class=" ">    <p>
The NODE_ENV environment variable is set to &quot;development&quot;. The appc-platform-sdk module essentially assumes you are an internal developer for Appcelerator and forces you to a pre-production or development environment if you have it configured.    </p>
</li><li class=" ">    <p>
You don't have development info configured. Studio will send you to a pre-prod environment.    </p>
</li><li class=" ">    <p>
Pre-prod only environments has certain accounts whitelisted for login and returns 4xx invalid login for everyone else.    </p>
</li></ul>    <p>
If one of these issues matches your problem, try these suggestions to fix it:    </p>
<ul class=" "><li class=" ">    <p>
<strong class=" ">Use another (namespaced) environment variable</strong>. This is only useful for your engineers internally. Use a namespace like APPC_NODE_ENV. The NODE_ENV environment variable can be used by other developers and other projects for many uses (for better or worse).    </p>
</li><li class=" ">    <p>
If you're in development mode, print out the top of appc commands that hit the API. If you're going to silently change how your entire module behaves for the end user, based on this common environment variable, you should at least read that you're in a development/pre-production mode and print this out to the user.    </p>
</li></ul>    <p>
    </p>
    </div>
    </div>
    <div class="section section-2 " id="30083289_ErrorsLoggingIntoStudio-Repeatedprompting(orFailingtoprompt)forcredentials">
        <h2 class="heading "><span>Repeated prompting (or Failing to prompt) for credentials</span></h2>
    <p>
If Studio fails to save the user credentials, it prompts you to enter userId and password every time it is restarted. This could be resultant of either change in master password of OS secure keyring, or corrupted secured storage. To resolve this issue, please try the following diagnostic steps and verify whether they address the problem. The Studio log will have series of exceptions on similar lines:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">!MESSAGE (Build </code><code class="value">3.1</code><code class="plain">.</code><code class="value">1.1364101697</code><code class="plain">) [ERROR]  Failed to save the signed-in user</code></div>
<div class="line"><code class="plain">!STACK </code><code class="value">0</code></div>
<div class="line"><code class="plain">org.eclipse.equinox.security.storage.StorageException: No password provided.</code></div>
<div class="line"><code class="plain">    at org.eclipse.equinox.internal.security.storage.SecurePreferencesRoot.getModulePassword(SecurePreferencesRoot.java:</code><code class="value">304</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at org.eclipse.equinox.internal.security.storage.SecurePreferencesRoot.getPassword(SecurePreferencesRoot.java:</code><code class="value">224</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at org.eclipse.equinox.internal.security.storage.SecurePreferences.put(SecurePreferences.java:</code><code class="value">224</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at org.eclipse.equinox.internal.security.storage.SecurePreferencesWrapper.put(SecurePreferencesWrapper.java:</code><code class="value">110</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at com.appcelerator.titanium.core.TitaniumUserManager.saveSignedInUser(TitaniumUserManager.java:</code><code class="value">474</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at com.appcelerator.titanium.rcp.IDEWorkbenchWindowAdvisor.postWindowOpen(IDEWorkbenchWindowAdvisor.java:</code><code class="value">376</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at org.eclipse.ui.internal.WorkbenchWindow.fireWindowOpened(WorkbenchWindow.java:</code><code class="value">1365</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at org.eclipse.ui.internal.WorkbenchWindow.open(WorkbenchWindow.java:</code><code class="value">826</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at org.eclipse.ui.internal.Workbench$</code><code class="value">70</code><code class="plain">.runWithException(Workbench.java:</code><code class="value">3724</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:</code><code class="value">31</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:</code><code class="value">35</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:</code><code class="value">135</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:</code><code class="value">3563</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:</code><code class="value">3212</code><code class="plain">)</code></div>
</div>
</div>    <p>
    <span style="color: #2b4771;">
Deleting the secure storage from Studio    </span>
    </p>
<ul class=" "><li class="line number2 index1 alt1 ">    <p>
Go to Preferences &gt; General &gt; Security &gt; Secure Storage.    </p>
</li><li class="line number2 index1 alt1 ">    <p>
In the Contents tab, select the '[Default Secure Storage]' item in the list and delete it.    </p>
</li><li class="line number2 index1 alt1 ">    <p>
Restart Studio.    </p>
</li><li class="line number2 index1 alt1 ">    <p>
Since the secure storage contents are deleted, Studio will prompt for user and password during startup. Restart again and if it still prompts for user/password, please try the following other workarounds.    </p>
</li></ul>    <div class="section section-3 " id="30083289_ErrorsLoggingIntoStudio-DeleteKeyChainentry">
        <h3 class="heading "><span>Delete KeyChain entry</span></h3>
<ul class=" "><li class=" ">    <p>
Open Keychain Access utility in Mac (Applications &gt; Utilities &gt; Keychain Access).    </p>
</li><li class=" ">    <p>
Search for the service &quot;equinox.secure.storage&quot; in Keychain Access.    </p>
</li><li class=" ">    <p>
If possible, create a backup copy and then, delete the service.    </p>
</li><li class=" ">    <p>
Restart Studio.    </p>
</li><li class=" ">    <p>
Since the secure storage contents are deleted, Studio will prompt for user and password during startup. Restart again and if it still prompts for user/password, please try the following other workarounds.    </p>
</li></ul>    </div>
    <div class="section section-3 " id="30083289_ErrorsLoggingIntoStudio-ProvidingaccesstoKeychainservice">
        <h3 class="heading "><span>Providing access to Keychain service</span></h3>
<ul class=" "><li class=" ">    <p>
Open Keychain Access utility in Mac (Applications &gt; Utilities &gt; Keychain Access).    </p>
</li><li class=" ">    <p>
    <span style="color: #000000;">
Search for the service 'equinox.secure.storage' in Keychain Access.    </span>
    </p>
</li><li class=" ">    <p>
    <span style="color: #000000;">
Open the properties of 'equinox.secure.storage' service and then assign additional privileges to be accessed by the required/all applications (either make sure that Studio is added to access the keychain, or choose to 'Allow all applications to access this item' in Access Control section).    </span>
    <span style="color: #000000;">
<br/>    </span>
    </p>
</li><li class=" ">    <p>
Restart Studio.    </p>
</li><li class=" ">    <p>
Since the secure storage contents are deleted, Studio will prompt for user and password during startup. Restart again and if it still prompts for user/password, please try the following other workarounds.<br/>    <span style="color: #000000;">
     </span>
    </p>
</li></ul>    </div>
    </div>
        </div><a id="editButton" href="https://wiki.appcelerator.org/pages/editpage.action?pageId=30083289"><span>Edit</span></a>
    
        <div class="footer">
            Created with <a href="http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence" target="_blank">Scroll EclipseHelp Exporter for Confluence</a>.
        </div>
    </div>
</body>
</html>
