<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Arrow on Azure</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta content="Scroll EclipseHelp Exporter" name="generator"/>

    <link type="text/css" rel="stylesheet"/>
    <link type="text/css" rel="stylesheet"/>
    <link type="text/css" rel="stylesheet" media="print"/>
</head>
<body>
    <div class="container">
        <div class="header"/>

        <div id="46236168" class="content">
            <h1>Arrow on Azure</h1>
    <div class="section section-2 " id="46236168_ArrowonAzure-Overview">
        <h2 class="heading "><span>Overview</span></h2>
    <p>
Arrow Builder is also available on the Azure Marketplace as a pre-built Ubuntu virtual machine.  <a class="external-link external-link" href="http://www.appcelerator.com/ArrowOnAzure" target="_blank">Read more about the Arrow + Azure offer </a><a class="external-link external-link" href="http://www.appcelerator.com/ArrowOnAzure" target="_blank">here</a>.    </p>
    </div>
    <div class="section section-2 " id="46236168_ArrowonAzure-GettingStarted">
        <h2 class="heading "><span>Getting Started</span></h2>
    <p>
For more information on Arrow, getting started with Appcelerator tooling, etc. see the following:    </p>
<ul class=" "><li class=" ">    <p>
<a class="external-link external-link" href="http://www.appcelerator.com/signup/" target="_blank">Sign up</a> for an Appcelerator account    </p>
</li><li class=" ">    <p>
<a class="external-link external-link" href="http://web.appcelerator.com/tools" target="_blank">Download</a> the Appcelerator development tools    </p>
</li><li class=" ">    <p>
See the <a class="external-link external-link" href="#!/guide/Arrow_Quick_Start">quick start guide</a> for Arrow    </p>
</li><li class=" ">    <p>
There's a lot <a class="external-link external-link" href="#!/guide/Arrow_Builder">more info</a> about developing Arrow apps in the documentation, so make sure to <a class="external-link external-link" href="#!/guide/Arrow_Builder">check it out</a>    </p>
</li></ul>    </div>
    <div class="section section-2 " id="46236168_ArrowonAzure-Setup">
        <h2 class="heading "><span>Setup</span></h2>
<ol class=" "><li class=" ">    <p>
<a class="external-link external-link" href="http://www.appcelerator.com/ArrowOnAzure" target="_blank">Sign up</a> for an Azure account    </p>
</li><li class=" ">    <p>
Create the Arrow VM from the Azure marketplace.    </p>
</li><li class=" ">    <p>
Ensure port endpoints 80, 8080, and 443 are open (They should already be). <a class="external-link external-link" href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-set-up-endpoints/" target="_blank">Instructions here.</a>    </p>
</li></ol>    </div>
    <div class="section section-2 " id="46236168_ArrowonAzure-RunningthePublishingServer">
        <h2 class="heading "><span>Running the Publishing Server</span></h2>
    <p>
The Arrow VM is installed on a normal Ubuntu 14.04 linux server.  You can use it like you would any Ubuntu server.  One important thing to note: To start / stop the Arrow publishing features manually, there is an <i class=" ">init.d/arrowd</i> script that can be run.  e.g.  <i class=" ">`sudo /etc/init.d/arrowd start`</i> will start the publishing server on your VM, so you can easily publish your arrow app to it.  The publishing service allows you to easily publish your app to the VM without having to jump on your VM and manually install the Arrow and app and run it.  Because this is in the init.d directory, it should auto-start the publishing service automatically.    </p>
    </div>
    <div class="section section-2 " id="46236168_ArrowonAzure-Publishing">
        <h2 class="heading "><span>Publishing</span></h2>
    <p>
Developing an Arrow app for Azure is the same as developing an Arrow app for Appcelerator's cloud.  You develop locally on your machine and when you're ready to publish, you will use the Appcelerator CLI to publish the app to the Azure VM.  For guides on how to build an Arrow app, please refer <a class="external-link external-link" href="#!/guide/Arrow_Builder">here</a>.    </p>
    <p>
To publish an Arrow app to the AzureVM:    </p>
<ol class=" "><li class=" ">    <p>
In the command line go to the Arrow project.  i.e. <i class=" ">cd /path/to/your/project</i>    </p>
</li><li class=" ">    <p>
Run the command:  <i class=" ">appc publish &lt;url to your VM&gt;:8080/&lt;deploy id&gt; </i>e.g. <i class=" ">appc publish <a class="external-link external-link" href="http://myvm.cloudapp.net:8080/12345678987654321" target="_blank">http://myvm.cloudapp.net:8080/12345678987654321</a></i>    </p>
</li><li class=" ">    <p>
The app should then deploy to your VM and be running on port 80 so you should be able to visit: <a class="external-link external-link" href="http://myvmurl.cloudapp.net" target="_blank">http://myvmurl.cloudapp.net</a> and see your app running    </p>
</li></ol>    <p>
    <span style="color: #ff6600;">
<strong class=" ">SPECIAL NOTE:</strong>  As of this writing, you must use version 5.2.0-55 or newer of the CLI to publish to Azure.  To use this version, run the following command: <strong class=" "><i class=" ">appc use 5.2.0-55</i></strong><i class=" "> .  You can check your version via: <strong class=" ">appc -v</strong></i>    </span>
    </p>
    <div class="section section-3 " id="46236168_ArrowonAzure-DeployID">
        <h3 class="heading "><span>Deploy ID</span></h3>
    <p>
For security reasons, the VM's deploy ID is required to publish to the Azure VM.  You can find the deploy ID two ways:    </p>
<ol class=" "><li class=" ">    <p>
ssh in to the Azure VM and you'll find the deploy ID here: <i class=" ">/var/lib/cloud/data/instance-id </i>.  You can quickly read it via <i class=" ">cat /var/lib/cloud/data/instance-id</i>    </p>
</li><li class=" ">    <p>
The Azure Portal will have the deploy ID of your VM by navigating to your VM and finding the deploy ID on the right side. (see screenshot below)    </p>
        <img src="images/download/attachments/46236168/R7u6Nk-keDVHhgJGHAjarMEkSJBqtDXYpq-EskOrOpQ.png" alt="images/download/attachments/46236168/R7u6Nk-keDVHhgJGHAjarMEkSJBqtDXYpq-EskOrOpQ.png" class="confluence-embedded-image" width="500"/>
        </li></ol>    <p>
    </p>
    <p>
Once you have that, per the instructions above, you can run the <i class=" ">appc publish</i> command to publish your app.    </p>
    </div>
    </div>
    <div class="section section-2 " id="46236168_ArrowonAzure-Unpublishing">
        <h2 class="heading "><span>Unpublishing</span></h2>
    <p>
If you need to unpublish the Arrow app from your VM, you can run the following command:    </p>
    <p>
<i class=" ">appc unpublish &lt;url to your VM&gt;:8080/&lt;deploy id&gt; </i>    </p>
    <p>
e.g. <i class=" ">appc unpublish <a class="external-link external-link" href="http://myvm.cloudapp.net:8080/12345678987654321" target="_blank">http://myvm.cloudapp.net:8080/12345678987654321</a></i>    </p>
    </div>
        </div><a id="editButton" href="https://wiki.appcelerator.org/pages/editpage.action?pageId=46236168"><span>Edit</span></a>
    
        <div class="footer">
            Created with <a href="http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence" target="_blank">Scroll EclipseHelp Exporter for Confluence</a>.
        </div>
    </div>
</body>
</html>
