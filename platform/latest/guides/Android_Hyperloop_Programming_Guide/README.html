<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Android Hyperloop Programming Guide</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta content="Scroll EclipseHelp Exporter" name="generator"/>

    <link type="text/css" rel="stylesheet"/>
    <link type="text/css" rel="stylesheet"/>
    <link type="text/css" rel="stylesheet" media="print"/>
</head>
<body>
    <div class="container">
        <div class="header"/>

        <div id="46253495" class="content">
            <h1>Android Hyperloop Programming Guide</h1>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Hyperloop_Programming_Guide-section-46253495_AndroidHyperloopProgrammingGuide-Requirements">Requirements</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Hyperloop_Programming_Guide-section-46253495_AndroidHyperloopProgrammingGuide-Classes">Classes</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Hyperloop_Programming_Guide-section-46253495_AndroidHyperloopProgrammingGuide-Instantiation">Instantiation</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Hyperloop_Programming_Guide-section-46253495_AndroidHyperloopProgrammingGuide-Methodsandfields">Methods and fields</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Hyperloop_Programming_Guide-section-46253495_AndroidHyperloopProgrammingGuide-Methodresolution">Method resolution</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Hyperloop_Programming_Guide-section-46253495_AndroidHyperloopProgrammingGuide-Casting">Casting</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Hyperloop_Programming_Guide-section-46253495_AndroidHyperloopProgrammingGuide-Interfaces">Interfaces</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Hyperloop_Programming_Guide-section-46253495_AndroidHyperloopProgrammingGuide-Creatingyourownclasses">Creating your own classes</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Hyperloop_Programming_Guide-section-46253495_AndroidHyperloopProgrammingGuide-UsingThird-partylibraries">Using Third-party libraries</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Hyperloop_Programming_Guide-section-46253495_AndroidHyperloopProgrammingGuide-JARs">JARs</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Hyperloop_Programming_Guide-section-46253495_AndroidHyperloopProgrammingGuide-AARs">AARs</a>    </p>
</li></ul>    <div class="section section-2 " id="46253495_AndroidHyperloopProgrammingGuide-Requirements">
        <h2 class="heading "><span>Requirements</span></h2>
    <p>
You&rsquo;ll need to have the following minimum requirements to use Hyperloop for Android:    </p>
<ul class=" "><li class=" ">    <p>
Titanium 5.4.0+    </p>
</li><li class=" ">    <p>
Android 2.3.3+ SDK    </p>
</li></ul>    <p>
Configure the plugin in tiapp.xml:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">&lt;plugins&gt;</code></div>
<div class="line"><code class="plain">    &lt;plugin&gt;hyperloop&lt;/plugin&gt;</code></div>
<div class="line"><code class="plain">&lt;/plugins&gt;</code></div>
</div>
</div>    <p>
Configure the module in tiapp.xml:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">&lt;modules&gt;</code></div>
<div class="line"><code class="plain">    &lt;module&gt;hyperloop&lt;/module&gt;</code></div>
<div class="line"><code class="plain">&lt;/modules&gt;</code></div>
</div>
</div>    </div>
    <div class="section section-2 " id="46253495_AndroidHyperloopProgrammingGuide-Classes">
        <h2 class="heading "><span>Classes</span></h2>
    <p>
Classes in Hyperloop map to the underlying classes defined in Java. For example, if you have a class such as <tt class=" ">android.view.View</tt> defined, you would reference it using a standard require such as:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">var</code><code class="plain"> View = require(</code><code class="string">'android.view.View'</code><code class="plain">);</code></div>
</div>
</div>    <p>
    </p>
    <p>
This will return the <tt class=" ">View</tt> class object. Meaning, it&rsquo;s not an instance of a <tt class=" ">View</tt>, but the <tt class=" ">View</tt> class itself.    </p>
    <p>
Once you have a the Class reference returned from <tt class=" ">require</tt>, you can call normal JavaScript property and functions against it. Remember, at this point calling functions or properties against the class object above will be accessing Class level (static) Java methods (not instance level).    </p>
    <p>
For example, you could get the generated view id of the View using the example:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">var</code><code class="plain"> generatedId = View.generateViewId();</code></div>
</div>
</div>    <p>
This is because <tt class=" ">generateViewId</tt> is defined as a static method.    </p>
    </div>
    <div class="section section-2 " id="46253495_AndroidHyperloopProgrammingGuide-Instantiation">
        <h2 class="heading "><span>Instantiation</span></h2>
    <p>
To instantiate a native Class and create an instance, you can use <tt class=" ">new</tt> just as you normally do in Javascript or Java:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">var</code><code class="plain"> view = </code><code class="keyword">new</code><code class="plain"> View(activity);</code></div>
</div>
</div>    </div>
    <div class="section section-2 " id="46253495_AndroidHyperloopProgrammingGuide-Methodsandfields">
        <h2 class="heading "><span>Methods and fields</span></h2>
    <p>
Methods in Java are mapped to JavaScript functions. Fields in Java are mapped to JavaScript property accessors. static methods or fields (such as constants) will be attached to the class type. For example:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">class</code><code class="plain"> Example {</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">int</code><code class="plain"> field;</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">final</code><code class="plain"> String staticString = </code><code class="string">""</code><code class="plain">;</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> method(</code><code class="keyword">int</code><code class="plain"> argument);</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">boolean</code><code class="plain"> staticMethod();</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div>    <p>
Would map to the following in JavaScript:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">example.field = 123;</code></div>
<div class="line"><code class="plain">Example.staticString;</code></div>
<div class="line"><code class="plain">example.method(567);</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> result = Example.staticMethod();</code></div>
</div>
</div>    </div>
    <div class="section section-2 " id="46253495_AndroidHyperloopProgrammingGuide-Methodresolution">
        <h2 class="heading "><span>Method resolution</span></h2>
    <p>
If a class has overloads for a method (multiple forms of the method with different signatures, but the same name), we will attempt to match the correct method to invoke on the Java side by matching the passed in arguments to the closest match. Typically, this involves matching the name, number of arguments and the ability to convert the passed in arguments (in-order) to the method&rsquo;s parameter types. We are slightly more liberal in accepting numeric primitives than typical method resolution due to the conversion of JS Numbers.    </p>
    </div>
    <div class="section section-2 " id="46253495_AndroidHyperloopProgrammingGuide-Casting">
        <h2 class="heading "><span>Casting</span></h2>
    <p>
Sometimes interfaces define generic return types such as <tt class=" ">Object</tt> and you will need to cast them to a different type to then reference methods and properties of the class. You can pass along the object you want to wrap to the constructor of the type you want to wrap it in. For example, suppose the result of the function returned an <tt class=" ">Object</tt> but you know the implementation is actually a <tt class=" ">View</tt>. You could use the following:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">var</code><code class="plain"> view = </code><code class="keyword">new</code><code class="plain"> View(object);</code></div>
<div class="line"><code class="comments">// call View instance methods on view variable</code></div>
</div>
</div>    <p>
<strong class=" ">Be careful with casting</strong>: If you cast an object which is actually something different, you will experience an error and likely a crash.    </p>
    <p>
You can also cast a Titanium UI Component into its equivalent. For example, this would work:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">var</code><code class="plain"> tiView = Ti.UI.createView( { backgroundColor : </code><code class="string">"red"</code><code class="plain"> } );</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> nativeView = </code><code class="keyword">new</code><code class="plain"> View(tiView);</code></div>
<div class="line"><code class="plain">console.log(</code><code class="string">'X (relative to parent): '</code><code class="plain">, nativeView.getLeft());</code></div>
</div>
</div>    </div>
    <div class="section section-2 " id="46253495_AndroidHyperloopProgrammingGuide-Interfaces">
        <h2 class="heading "><span>Interfaces</span></h2>
    <p>
Interfaces may be implemented using a Javascript syntax similar to an anonymous Java class. Call the constructor of the interface type with a JS object that contains properties that match the interface method names, and corresponding values as function that implement them. For example, to create an instance that implements <tt class=" ">android.view.View.OnTouchListener</tt>:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">var</code><code class="plain"> OnTouchListener = require(</code><code class="string">'android.view.View.OnTouchListener'</code><code class="plain">),</code></div>
<div class="line"><code class="plain">	listener = </code><code class="keyword">new</code><code class="plain"> OnTouchListener({</code></div>
<div class="line"><code class="plain">		onTouch: </code><code class="keyword">function</code><code class="plain">(v, event) {</code></div>
<div class="line"><code class="plain">			</code><code class="comments">// Do some work here</code></div>
<div class="line"><code class="plain">		</code><code class="keyword">return</code><code class="plain"> </code><code class="keyword">true</code><code class="plain">;</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">});</code></div>
</div>
</div>    </div>
    <div class="section section-2 " id="46253495_AndroidHyperloopProgrammingGuide-Creatingyourownclasses">
        <h2 class="heading "><span>Creating your own classes</span></h2>
    <p>
Currently, extending Java classes from Javascript is not supported in the latest version.    </p>
    </div>
    <div class="section section-2 " id="46253495_AndroidHyperloopProgrammingGuide-UsingThird-partylibraries">
        <h2 class="heading "><span>Using Third-party libraries</span></h2>
    <p>
You can use Third-party libraries in Hyperloop.    </p>
    </div>
    <div class="section section-2 " id="46253495_AndroidHyperloopProgrammingGuide-JARs">
        <h2 class="heading "><span>JARs</span></h2>
    <p>
Simply place the JAR files into the <tt class=" ">platform/android</tt> folder of your app. Hyperloop will pick up the JAR files and will generate necessary bindings and include the JARs in your app.    </p>
    </div>
    <div class="section section-2 " id="46253495_AndroidHyperloopProgrammingGuide-AARs">
        <h2 class="heading "><span>AARs</span></h2>
    <p>
Simply place the AAR files into the <tt class=" ">platform/android</tt> folder of your app. Hyperloop will pick up the AAR files and will generate necessary bindings, extract resources, extract and use the classes.jar, *.so file, etc.    </p>
    </div>
        </div><a id="editButton" href="https://wiki.appcelerator.org/pages/editpage.action?pageId=46253495"><span>Edit</span></a>
    
        <div class="footer">
            Created with <a href="http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence" target="_blank">Scroll EclipseHelp Exporter for Confluence</a>.
        </div>
    </div>
</body>
</html>
