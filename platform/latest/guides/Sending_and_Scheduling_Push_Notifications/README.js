Ext.data.JsonP['Sending_and_Scheduling_Push_Notifications']({"guide":"<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n<head>\n    <title>Sending and Scheduling Push Notifications</title>\n\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n    <meta content=\"Scroll EclipseHelp Exporter\" name=\"generator\"/>\n\n    <link type=\"text/css\" rel=\"stylesheet\"/>\n    <link type=\"text/css\" rel=\"stylesheet\"/>\n    <link type=\"text/css\" rel=\"stylesheet\" media=\"print\"/>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\"/>\n\n        <div id=\"43298780\" class=\"content\">\n            <h1>Sending and Scheduling Push Notifications</h1>\n    <p>\nThis guide explains how to send and schedule push notifications in Appcelerator Dashboard.    </p>\n    <p>\n    </p>\n<ul class=\"toc-indentation \"><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-OverviewofSendingPushNotifications\">Overview of Sending Push Notifications</a>    </p>\n</li><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-Sendingpushnotifications\">Sending push notifications</a>    </p>\n</li><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-AboutNotificationPayloads\">About Notification Payloads</a>    </p>\n<ul class=\"toc-indentation \"><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-CustomJSONpayloads\">Custom JSON payloads</a>    </p>\n</li><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-AboutJSONPayloadsDeliveredtoDevices\">About JSON Payloads Delivered to Devices </a>    </p>\n</li><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-NotificationFeatures\">Notification Features</a>    </p>\n<ul class=\"toc-indentation \"><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-InteractiveNotifications(iOS8andlater)\">Interactive Notifications (iOS 8 and later)</a>    </p>\n</li><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-SilentPushNotifications(iOS7andlater)\">Silent Push Notifications (iOS 7 and later)</a>    </p>\n</li><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-badgesNotificationBadges\">Notification Badges</a>    </p>\n</li><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-soundsNotificationSounds\">Notification Sounds</a>    </p>\n</li><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-androidAndroid-specificpayloadfields\">Android-specific payload fields</a>    </p>\n</li></ul></li></ul></li><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-Troubleshootingcommonerrors\">Troubleshooting common errors</a>    </p>\n<ul class=\"toc-indentation \"><li class=\" \">    <p>\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-'Subscriptionnotfound'error\">'Subscription not found' error</a>    </p>\n</li></ul></li></ul>    <div class=\"section section-2 \" id=\"43298780_SendingandSchedulingPushNotifications-OverviewofSendingPushNotifications\">\n        <h2 class=\"heading \"><span>Overview of Sending Push Notifications</span></h2>\n    <p>\n    <span id=\"43298780_SendingandSchedulingPushNotifications-overview\"><a class=\"confluence-anchor-link\" name=\"43298780_SendingandSchedulingPushNotifications-overview\"/></span>\n    </p>\n    <p>\nDashboard let you send push notifications to your Android and iOS application users. Arrow Push acts the <i class=\" \">push provider</i> on behalf of your application; that is, it communicates with the Google Cloud Messaging for Android (GCM) service or Apple Push Notification Service (APNS).    </p>\n    <p>\nBefore you can send a push notification from Dashboard, the following must be done first:    </p>\n<ul class=\" \"><li class=\" \">    <p>\nIn Dashboard, <a class=\"external-link external-link\" href=\"#!/guide/Configuring_push_services\">configure Arrow Push</a> to communicate with GCM or APNS.    </p>\n</li><li class=\" \">    <p>\nYour application needs to do the following:    </p>\n<ul class=\" \"><li class=\" \">    <p>\n<a class=\"external-link external-link\" href=\"#!/guide/Subscribing_to_push_notifications-section-37551717_Subscribingtopushnotifications-Obtainingadevicetoken\">Obtain a device token</a> from APNS or GCM, respectively.    </p>\n</li><li class=\" \">    <p>\nSubscribe the user to at least one push notification <i class=\" \">channel</i>. Channels provide a publish-subscribe model for push notifications. There are two ways an application can subscribe a user to receive push notifications: <a class=\"external-link external-link\" href=\"#!/guide/Subscribing_to_push_notifications-section-37551717_Subscribingtopushnotifications-SubscribingtoPushNotificationswithUserSessions\">session-based subscriptions</a> and <a class=\"external-link external-link\" href=\"#!/guide/Subscribing_to_push_notifications-section-37551717_Subscribingtopushnotifications-SubscribingtoPushNotificationswithDeviceTokens\">token-based subscriptions</a>.    </p>\n</li></ul></li></ul>    <p>\nHow your application subscribes its users (session- or token-base subscriptions) affect, to a degree, your options for delivering notifications. In short, if you need to send notifications to specific Arrow users, use session-based subscriptions. For instance, a mobile banking app would want to notify individual account holders. If you don't need to target specific users, token-based subscriptions are a good approach, as it doesn't require the additional step of setting up an Arrow account.    </p>\n    </div>\n    <div class=\"section section-2 \" id=\"43298780_SendingandSchedulingPushNotifications-Sendingpushnotifications\">\n        <h2 class=\"heading \"><span>Sending push notifications</span></h2>\n    <p>\nTo send a push notification, you provide Dashboard with the following information:    </p>\n<ul class=\" \"><li class=\" \">    <p>\n<strong class=\" \">Notification recipients and channel &ndash; </strong>If your application users were subscribed using <i class=\" \">session-based subscriptions</i>, you can send a notification to specific Arrow users subscribed to a particular channel. For token-based subscriptions, you can send notifications to all users subscribed to particular channel, or all users regardless of their channel subscriptions.    </p>\n</li><li class=\" \">    <p>\n<strong class=\" \">Notification schedule &ndash; </strong>You can send a notification immediately, or schedule it to be sent at a future date and time. Scheduled notifications can be one-time or recurring.    </p>\n</li><li class=\" \">    <p>\n<strong class=\" \">Notification payload &ndash; </strong>The content of the notification, which consists minimally of an alert string to display, and optionally a sound to play or badge display. See <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-AboutNotificationPayloads\">About Notification Payloads</a>.    </p>\n</li></ul>    <p>\nTo send a notification to users located in a geographic area, the application must have first provided their current location to Arrow. For details, see <a class=\"external-link external-link\" href=\"#!/guide/Subscribing_to_push_notifications-section-37551717_Subscribingtopushnotifications-UpdatingSubscriptionswithDeviceLocation\">Updating Subscriptions with Device Location</a>.    </p>\n    <p>\nDashboard provides two views for sending notifications, <strong class=\" \">Standard</strong> and <strong class=\" \">Advanced.</strong> The Standard view provides an easy way to send notifications without having to understand the payload structure. In the  Advanced view you manually create the JSON payload. The advanced form provides additional flexibility, such as including custom payload fields.    </p>\n    <p>\nIf you prefer can use the <a class=\"external-link external-link\" href=\"/arrowdb/latest/#!/api/PushNotifications-method-notify\">PushNotification.notify</a> or <a class=\"external-link external-link\" href=\"/arrowdb/latest/#!/api/PushNotifications-method-notify_token\">PushNotification.notify_tokens</a> REST APIs to send push notifications.    </p>\n    <p>\n<strong class=\" \">To send a push notification from Dashboard:</strong>    </p>\n<ol class=\" \"><li class=\" \">    <p>\nIn Dashboard, select your application from the Apps menu.    </p>\n</li><li class=\" \">    <p>\nFrom the left-side navigation, select <strong class=\" \">Cloud &gt; Push Notifications</strong>.    </p>\n</li><li class=\" \">    <p>\nClick <strong class=\" \">Send Push Notification</strong> to open the Send Push Notification form<strong class=\" \">. </strong>    </p>\n</li><li class=\" \">    <p>\nSelect either the <strong class=\" \">Standard</strong> or <strong class=\" \">Advanced</strong> tab.    </p>\n</li><li class=\" \">    <p>\nSelect <strong class=\" \">Recipients</strong> and (optionally) the notification <strong class=\" \">Channel Name</strong>:    </p>\n<ol class=\" \"><li class=\" \">    <p>\nTo send a notification to all users regardless of their channel subscriptions, select <strong class=\" \">All Users</strong><strong class=\" \"> </strong>and leave the <strong class=\" \">Channel Name</strong> field blank.    </p>\n</li><li class=\" \">    <p>\nTo send a notification to all users subscribed to a particular channel, select <strong class=\" \">All Users</strong> and enter the channel name in the <strong class=\" \">Channel Name</strong> field.    </p>\n</li><li class=\" \">    <p>\nTo send a notification to specific users who are subscribed to a particular channel<i class=\" \">,</i> select <strong class=\" \">Specific Users</strong>, then:    </p>\n<ol class=\" \"><li class=\" \">    <p>\nClick the add<strong class=\" \"> (+)</strong> button in the <strong class=\" \">To Users</strong> field.    </p>\n</li><li class=\" \">    <p>\nSelect the desired recipients from the list of users. To locate a particular user, enter their username in the search field.    </p>\n</li><li class=\" \">    <p>\nIn the <strong class=\" \">Channel Name</strong> field enter the name of the target channel subscription. Note: You must specify a channel when sending a notification to specific users.    </p>\n</li></ol></li><li class=\" \">    <p>\nTo send a notification to all users located within a geographic selection, select <strong class=\" \">Geographic Selection,</strong> then:    </p>\n<ol class=\" \"><li class=\" \">    <p>\nClick the add (<strong class=\" \">+</strong>) button in the <strong class=\" \">Place</strong> field and select an existing <a class=\"external-link external-link\" href=\"#!/guide/Managing_Places\">Place</a>. This defines the center points of the geographic selection. The selected Place must have a defined latitude and longitude.    </p>\n</li><li class=\" \">    <p>\nIn the <strong class=\" \">Radius</strong> field, enter the distance (in Miles or Meters) from the selected Place to define the size of the geographic selection.    </p>\n</li></ol></li></ol></li><li class=\" \">    <p>\nTo specify when to deliver the notification, in the <strong class=\" \">Send When</strong> field select one of the following options:    </p>\n<ol class=\" \"><li class=\" \">    <p>\nTo send the notification immediately, select <strong class=\" \">Send Now.</strong>    </p>\n</li><li class=\" \">    <p>\nTo schedule a one-time notification, select <strong class=\" \">One-Time</strong> and then select the delivery date and time (All times are in UTC.)    </p>\n</li><li class=\" \">    <p>\nTo schedule a recurring notification, select <strong class=\" \">Recurring,</strong> select the start date and time, the end date, and the recurrence interval: <strong class=\" \">Daily, Weekly,</strong> or <strong class=\" \">Monthly.</strong> (All times are in UTC.)    </p>\n</li></ol></li><li class=\" \">    <p>\nTo define the notification payload using the <strong class=\" \">Standard</strong> view:    </p>\n<ol class=\" \"><li class=\" \">    <p>\nIn the <strong class=\" \">Alert</strong> field enter the notification message to display on the device.    </p>\n</li><li class=\" \">    <p>\nIn the <strong class=\" \">Badge</strong> field, enter a badge value. See <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-badges\">Notification Badges</a> for details.    </p>\n</li><li class=\" \">    <p>\nIn the <strong class=\" \">Sound</strong> field, select <strong class=\" \">None, Default,</strong> or <strong class=\" \">Custom. </strong>See <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-sounds\">Notification Sounds</a> for details.    </p>\n</li><li class=\" \">    <p>\nFor iOS devices:    </p>\n<ol class=\" \"><li class=\" \">    <p>\nIn the <strong class=\" \">Content-Available</strong> field, check the box to indicate that new content is available. This is used to support Newsstand apps and background content downloads.    </p>\n</li><li class=\" \">    <p>\nIn the <strong class=\" \">Category</strong> field, enter the name of the category to use for interactive notifications. See <a class=\"external-link external-link\" href=\"#!/guide/iOS_Interactive_Notifications\">iOS Interactive Notifications</a>.    </p>\n</li></ol></li><li class=\" \">    <p>\nFor Android devices:    </p>\n<ol class=\" \"><li class=\" \">    <p>\nin the <strong class=\" \">Vibrate</strong> field select No or Yes to have the device vibrate or not upon receipt of the notification.    </p>\n</li><li class=\" \">    <p>\nIn the <strong class=\" \">Title</strong> field (Android, only) select the title to display with the Alert message. See <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-title\">Notification Titles</a> for details.    </p>\n</li><li class=\" \">    <p>\nIn the <strong class=\" \">Icon</strong> field (Android, only), specify the name of the image file to display as the notification icon. See <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-icon\">Notification Icons</a> for details.    </p>\n</li></ol></li></ol></li><li class=\" \">    <p>\nTo define the notification payload using the <strong class=\" \">Advanced</strong> view:    </p>\n<ol class=\" \"><li class=\" \">    <p>\nIn the <strong class=\" \">Custom JSON</strong> field enter a valid JSON string (see     <span style=\"color: #000000;\">\n<a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-CustomJSONpayloads\">Custom JSON Payloads</a> for details).<br/>    </span>\n    <span style=\"color: #000000;\">\n        <img src=\"images/download/attachments/43298780/advanced_form2.png\" alt=\"images/download/attachments/43298780/advanced_form2.png\" class=\"confluence-embedded-image confluence-content-image-border\" width=\"600\"/>\n    <br/>    </span>\n    </p>\n</li></ol></li><li class=\" \">    <p>\n    <span style=\"color: #000000;\">\nClick <strong class=\" \">Save Changes</strong>.     </span>\n    </p>\n</li></ol>    </div>\n    <div class=\"section section-2 \" id=\"43298780_SendingandSchedulingPushNotifications-AboutNotificationPayloads\">\n        <h2 class=\"heading \"><span>About Notification Payloads</span></h2>\n    <p>\nThe content, or <i class=\" \">payload</i>, of a push notification is a JSON-encoded object whose fields contain the payload values. The JSON object typically contains one of the  &quot;standard&quot; notification fields. Standard fields are supported by both iOS and Android devices. Some fields are platform-specific, such as <tt class=\" \">icon</tt> or <tt class=\" \">title</tt>, that are only used by Android, or <tt class=\" \">category</tt> and <tt class=\" \">content-available</tt>, that are only used by iOS 8 devices and later.    </p>\n    <p>\nStandard fields include the following:    </p>\n<ul class=\" \"><li class=\" \">    <p>\n<tt class=\" \">alert</tt> &ndash;  The notification message displayed to the user.    </p>\n</li><li class=\" \">    <p>\n<tt class=\" \">badge</tt> &ndash; A number to display with the notification. See <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-badges\">Notification badges</a>.    </p>\n</li><li class=\" \">    <p>\n<tt class=\" \">sound</tt> &ndash; The name of an audio file to play when the notification arrives, minus its extension. See <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-sounds\">Notification sounds</a>.    </p>\n</li></ul>    <p>\nAndroid devices support the following additional fields:    </p>\n<ul class=\" \"><li class=\" \">    <p>\n<tt class=\" \">icon</tt> &ndash; The name of the image file to display as the icon, minus its extension.    </p>\n</li><li class=\" \">    <p>\n<tt class=\" \">title</tt> &ndash; Title displayed above the alert text. Defaults to the application name.    </p>\n</li><li class=\" \">    <p>\n<tt class=\" \">vibrate</tt> &ndash; A boolean that the device to vibrate momentarily upon receipt.    </p>\n</li></ul>    <p>\nSee Android-specific notification fields for more information about specifying these fields.    </p>\n    <p>\niOS 8 devices and later support the following additional fields:    </p>\n<ul class=\" \"><li class=\" \">    <p>\n<tt class=\" \">category</tt> &ndash;     <span style=\"color: #000000;\">\nThe name of the category to use for interactive notifications. See     </span>\n<a class=\"external-link external-link\" href=\"#!/guide/iOS_Interactive_Notifications\">iOS Interactive Notifications</a>    <span style=\"color: #000000;\">\n for more information.    </span>\n    </p>\n</li><li class=\" \">    <p>\n<tt class=\" \">content-available</tt> &ndash;  If set to <strong class=\" \">1</strong>, indicates that new content is available.     <span style=\"color: #000000;\">\nThis is used to support Newsstand apps and background content downloads.    </span>\n    </p>\n</li></ul>    <p>\nThe payload can also include custom fields that your application can read and use as desired. See <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-CustomJSONpayloads\">Custom JSON Payloads</a> for an example of using custom fields.    </p>\n    <div class=\"section section-3 \" id=\"43298780_SendingandSchedulingPushNotifications-CustomJSONpayloads\">\n        <h3 class=\"heading \"><span>Custom JSON payloads</span></h3>\n    <p>\nDashboard provides two forms, Standard and Advanced, for you to compose the payload. In the Standard form, you use common form controls to compose the payload, without having to write JSON code. In the the Advanced form you manually enter the JSON-encoded string that's sent in the notification. The JSON object can contain any of the standard fields discussed in <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-AboutNotificationPayloads\">About Notification Payloads</a>, or custom fields specific to your application. For example, the following payload contains <tt class=\" \">alert</tt> and <tt class=\" \">sound</tt> fields, as well as a custom field named <tt class=\" \">high_score</tt>.    </p>\n    <p>\n        <img src=\"images/download/attachments/43298780/custom_json.png\" alt=\"images/download/attachments/43298780/custom_json.png\" class=\"confluence-embedded-image confluence-content-image-border\" width=\"599\"/>\n            </p>\n    <p>\nBelow is a more advanced custom JSON payload:    </p>\n<div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"confbox programlisting scroll-unprocessed\">\n<div class=\"defaultnew syntaxhighlighter\">\n<div class=\"line\"><code class=\"plain\">{</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"alert\"</code><code class=\"plain\">: </code><code class=\"string\">\"Sample alert\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"badge\"</code><code class=\"plain\">: </code><code class=\"string\">\"+2\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"category\"</code><code class=\"plain\">: </code><code class=\"string\">\"sampleCategory\"</code><code class=\"plain\">, </code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"icon\"</code><code class=\"plain\">: </code><code class=\"string\">\"little_star\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"sound\"</code><code class=\"plain\">: </code><code class=\"string\">\"door_bell\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"title\"</code><code class=\"plain\">: </code><code class=\"string\">\"Example\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"vibrate\"</code><code class=\"plain\">: </code><code class=\"keyword\">true</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"custom_field_1\"</code><code class=\"plain\">: </code><code class=\"string\">\"Arrow Push Rocks!\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"custom_field_2\"</code><code class=\"plain\">: </code><code class=\"string\">\"Hi Push\"</code></div>\n<div class=\"line\"><code class=\"plain\">}</code></div>\n</div>\n</div>    <p>\nWhen the device receives this payload, it will do the following:    </p>\n<ul class=\" \"><li class=\" \">    <p>\nDisplay the &quot;Sample alert&quot; message.    </p>\n</li><li class=\" \">    <p>\nIncrement the current badge value by two.    </p>\n</li><li class=\" \">    <p>\nPlay the &quot;door_bell&quot; audio file.    </p>\n</li><li class=\" \">    <p>\nOn Android devices:    </p>\n<ul class=\" \"><li class=\" \">    <p>\nThe notification title will be set to &quot;Example&quot;    </p>\n</li><li class=\" \">    <p>\nThe device will vibrate    </p>\n</li><li class=\" \">    <p>\nThe &quot;little_star&quot; icon will be displayed in the notification area.    </p>\n</li></ul></li><li class=\" \">    <p>\nOn iOS 8 devices and later:    </p>\n<ul class=\" \"><li class=\" \">    <p>\nThe user notification actions associated with the &quot;sampleCategory&quot; user notification category.    </p>\n</li></ul></li></ul>    </div>\n    <div class=\"section section-3 \" id=\"43298780_SendingandSchedulingPushNotifications-AboutJSONPayloadsDeliveredtoDevices\">\n        <h3 class=\"heading \"><span>About JSON Payloads Delivered to Devices</span></h3>\n    <p>\nThe notification payload  that Arrow Push delivers to GCM or APNS is slightly modified from the original JSON payload you provide to Dashboard. Also, the payloads are slightly different for Android and iOS devices.    </p>\n    <p>\nFor Android, all Android-specific fields are contained in an <strong class=\" \"><tt class=\" \">android</tt></strong> dictionary, while all other iOS-only and custom fields are top-level keys of the payload. For example, the payload shown in <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-CustomJSONpayloads\">Custom JSON payloads</a> will be delivered to an Android application as follows:    </p>\n<div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"confbox programlisting scroll-unprocessed\">\n<div class=\"defaultnew syntaxhighlighter\">\n<div class=\"line\"><code class=\"plain\">{</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"android\"</code><code class=\"plain\">: {</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"string\">\"title\"</code><code class=\"plain\">: </code><code class=\"string\">\"Example\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"string\">\"alert\"</code><code class=\"plain\">: </code><code class=\"string\">\"Sample alert\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"string\">\"icon\"</code><code class=\"plain\">: </code><code class=\"string\">\"little_star\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"string\">\"badge\"</code><code class=\"plain\">: </code><code class=\"string\">\"+2\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"string\">\"sound\"</code><code class=\"plain\">: </code><code class=\"string\">\"door_bell\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"string\">\"vibrate\"</code><code class=\"plain\">: </code><code class=\"keyword\">true</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    },</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"category\"</code><code class=\"plain\">: </code><code class=\"string\">\"sampleCategory\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"custom_field_1\"</code><code class=\"plain\">: </code><code class=\"string\">\"Arrow Push Services Rocks!\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"custom_field_2\"</code><code class=\"plain\">: </code><code class=\"string\">\"Hi Push\"</code></div>\n<div class=\"line\"><code class=\"plain\">}</code></div>\n</div>\n</div>    <p>\nFor iOS devices, all iOS-specific fields are contained in an <strong class=\" \"><tt class=\" \">aps</tt></strong> dictionary, while all Android-specific and custom fields are top-level keys of the payload. For example, For example, the payload shown in <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-CustomJSONpayloads\">Custom JSON payloads</a> will be delivered to an iOS application as follows:    </p>\n<div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"confbox programlisting scroll-unprocessed\">\n<div class=\"defaultnew syntaxhighlighter\">\n<div class=\"line\"><code class=\"plain\">{</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"aps\"</code><code class=\"plain\">: {</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"string\">\"alert\"</code><code class=\"plain\">: </code><code class=\"string\">\"Sample alert\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"string\">\"badge\"</code><code class=\"plain\">: </code><code class=\"string\">\"+2\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"string\">\"category\"</code><code class=\"plain\">: </code><code class=\"string\">\"sampleCategory\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">        </code><code class=\"string\">\"sound\"</code><code class=\"plain\">: </code><code class=\"string\">\"door_bell\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    },</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"title\"</code><code class=\"plain\">: </code><code class=\"string\">\"Example\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"icon\"</code><code class=\"plain\">: </code><code class=\"string\">\"little_star\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"vibrate\"</code><code class=\"plain\">: </code><code class=\"keyword\">true</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"custom_field_1\"</code><code class=\"plain\">: </code><code class=\"string\">\"Arrow Push Rocks!\"</code><code class=\"plain\">,</code></div>\n<div class=\"line\"><code class=\"plain\">    </code><code class=\"string\">\"custom_field_2\"</code><code class=\"plain\">: </code><code class=\"string\">\"Hi Push\"</code></div>\n<div class=\"line\"><code class=\"plain\">}</code></div>\n</div>\n</div>    <p>\n    </p>\n    </div>\n    <div class=\"section section-3 \" id=\"43298780_SendingandSchedulingPushNotifications-NotificationFeatures\">\n        <h3 class=\"heading \"><span>Notification Features</span></h3>\n    <div class=\"section section-4 \" id=\"43298780_SendingandSchedulingPushNotifications-InteractiveNotifications(iOS8andlater)\">\n        <h4 class=\"heading \"><span>Interactive Notifications (iOS 8 and later)</span></h4>\n    <p>\n    <span style=\"color: #484848;\">\nAs of Titanium SDK v3.4.0 you can create interactive notifications, which users running iOS 8 or later can respond to without launching the application to the foreground.     </span>\n    </p>\n    <p>\n    <span style=\"color: #484848;\">\n        <img src=\"images/download/attachments/43298780/InteractiveBannerMessage.png\" alt=\"images/download/attachments/43298780/InteractiveBannerMessage.png\" class=\"confluence-embedded-image\"/>\n        </span>\n    </p>\n    <p>\nYour Titanium application defines one or more a <i class=\" \">notification categories</i>, each of which consists of one or more <i class=\" \">notification actions</i>. When you <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-Sendingpushnotifications\">create a push notification</a> in Dashboard, the <strong class=\" \">Category</strong> form field lets you specify the category of interactive notification to display when the push notification arrives.    </p>\n    <p>\n<strong class=\" \">To create an interactive notification:</strong>    </p>\n<ol class=\" \"><li class=\" \">    <p>\nIn your Titanium application:    </p>\n<ol class=\" \"><li class=\" \">    <p>\n<a class=\"external-link external-link\" href=\"#!/guide/iOS_Interactive_Notifications-section-40930452_iOSInteractiveNotifications-CreateaNotificationAction\">Create and configure notification actions</a>.    </p>\n</li><li class=\" \">    <p>\n<a class=\"external-link external-link\" href=\"#!/guide/iOS_Interactive_Notifications-section-40930452_iOSInteractiveNotifications-CreateaNotificationCategory\">Create notification categories</a> and assign notification actions to them.    </p>\n</li><li class=\" \">    <p class=\"_mce_tagged_br\">\n<a class=\"external-link external-link\" href=\"#!/guide/iOS_Interactive_Notifications-section-40930452_iOSInteractiveNotifications-RegisterNotificationCategories\">Register the application</a> for the desired notification categories, and to receive push notifications.    </p>\n</li><li class=\" \">    <p>\nRegister an event listener for the <tt class=\" \">remotenotificationaction</tt> event, to respond to user actions when they interact with the notification.    </p>\n</li></ol></li><li class=\" \">    <p>\nIn Dashboard, send a new push notification and set the <strong class=\" \">Category</strong> field to the desired notification category to use.    </p>\n        <img src=\"images/download/attachments/43298780/push_notification.png\" alt=\"images/download/attachments/43298780/push_notification.png\" class=\"confluence-embedded-image\"/>\n        </li></ol>    <p>\nWhen the notification arrives, the device displays the set of actions defined by the category. The <a class=\"external-link external-link\" href=\"#!/api/Titanium.App.iOS-event-remotenotificationaction\">remotenotificationaction</a> event fires when the user interacts with the notification.    </p>\n    </div>\n    <div class=\"section section-4 \" id=\"43298780_SendingandSchedulingPushNotifications-SilentPushNotifications(iOS7andlater)\">\n        <h4 class=\"heading \"><span>Silent Push Notifications (iOS 7 and later)</span></h4>\n    <p>\nThe <strong class=\" \">Content-Available</strong> form field lets you silently notify a Titanium or native iOS/Android application, without alerting the user at all. A silent push is often used to alert the application that new content is available to download. Once the download (or other task) initiated by the silent push is complete, the application can display a notification to the user that new content is available.    </p>\n    <p>\n        <img src=\"images/download/attachments/43298780/content-available.png\" alt=\"images/download/attachments/43298780/content-available.png\" class=\"confluence-embedded-image\"/>\n            </p>\n    <p>\nFor detailed steps on enabling silent push notifications in your Titanium application, see <a class=\"external-link external-link\" href=\"#!/guide/iOS_Background_Services-section-37539664_iOSBackgroundServices-SilentPush\">Silent Push</a> in the Titanium SDK guides.    </p>\n    </div>\n    <div class=\"section section-4 \" id=\"43298780_SendingandSchedulingPushNotifications-badgesNotificationBadges\">\n        <h4 class=\"heading \"><span>Notification Badges</span></h4>\n    <p>\nA <strong class=\" \">badge</strong> is a number displayed over the application icon (on iOS), or in the notification area (on Android). You can specify a specific badge value to display (<strong class=\" \">2</strong> or <strong class=\" \">10</strong>, for example), or a number prefixed by plus (<strong class=\" \">+</strong>) or minus (<strong class=\" \">-</strong>) symbol (<strong class=\" \">+3</strong> or <strong class=\" \">-6</strong>, for example). When prefixed, the currently displayed badge number is incremented or decremented by the specified amount, respectively.     <span style=\"color: #000000;\">\nTo remove an application badge on iOS, specify a badge value of     </span>\n<strong class=\" \">0</strong>    <span style=\"color: #000000;\">\n (zero).    </span>\n    </p>\n    <p>\n        <img src=\"images/download/attachments/43298780/ios_notifiy.png\" alt=\"images/download/attachments/43298780/ios_notifiy.png\" class=\"confluence-embedded-image confluence-content-image-border\" width=\"300\"/>\n            </p>\n    <p>\n        <img src=\"images/download/attachments/43298780/android_badge.png\" alt=\"images/download/attachments/43298780/android_badge.png\" class=\"confluence-embedded-image\"/>\n            </p>\n    </div>\n    <div class=\"section section-4 \" id=\"43298780_SendingandSchedulingPushNotifications-soundsNotificationSounds\">\n        <h4 class=\"heading \"><span>Notification Sounds</span></h4>\n    <p>\nThe <tt class=\" \">sound</tt> field in a notification payload specifies the name (minus the extension) of a local sound file resource to play the notification arrives. When a push notification arrives, you can specify a custom sound to play, the default system sound, or no sound.    </p>\n<ul class=\" \"><li class=\" \">    <p>\nFor Android applications built with Titanium, place the file in the <tt class=\" \">/Resources/sound</tt> directory.    </p>\n</li><li class=\" \">    <p>\nFor iOS applications built with Titanium, place the file in the <tt class=\" \">/Resources</tt> directory.    </p>\n</li><li class=\" \">    <p>\nFor native Android applications, place the file in the <tt class=\" \">/assets/sound</tt> directory.    </p>\n</li><li class=\" \">    <p>\nFor native iOS applications, place the file in the main bundle.    </p>\n</li></ul>    </div>\n    <div class=\"section section-4 \" id=\"43298780_SendingandSchedulingPushNotifications-androidAndroid-specificpayloadfields\">\n        <h4 class=\"heading \"><span>Android-specific payload fields</span></h4>\n    <p>\nIn addition to the standard notification fields <tt class=\" \">(alert, badge,</tt> and <tt class=\" \">sound)</tt> Android devices support the following fields:    </p>\n<ul class=\" \"><li class=\" \">    <p>\n<tt class=\" \">title</tt>    </p>\n</li><li class=\" \">    <p>\n<tt class=\" \">icon</tt>    </p>\n</li><li class=\" \">    <p>\n<tt class=\" \">vibrate</tt>    </p>\n</li></ul>    <p>\nTitanium application may also specify any of the properties in <a class=\"external-link external-link\" href=\"#!/api/Titanium.Android.Notification\">Titanium.Android.Notification</a>, except for <tt class=\" \">contentIntent</tt> or <tt class=\" \">deleteIntent</tt>. For instance, you can add a <tt class=\" \">tickerText</tt> field to the notification payload     <span style=\"color: #484848;\">\nthat scrolls the specified text across the notification area.    </span>\n    </p>\n    <div class=\"section section-5 \" id=\"43298780_SendingandSchedulingPushNotifications-titleTitlefield\">\n        <h5 class=\"heading \"><span>Title field</span></h5>\n    <p>\n<strong class=\" \">Title</strong> &ndash; A string to display above the alert message in the notification area. If not specified in the payload, the application's name is displayed, as specified by the <strong class=\" \">&lt;name&gt;</strong> element in your <a class=\"external-link external-link\" href=\"#!/guide/tiapp.xml_and_timodule.xml_Reference\">project's tiapp.xml</a> file.    </p>\n    <p>\n        <img src=\"images/download/attachments/43298780/title_alert.png\" alt=\"images/download/attachments/43298780/title_alert.png\" class=\"confluence-embedded-image confluence-content-image-border\" width=\"341\"/>\n            </p>\n    </div>\n    <div class=\"section section-5 \" id=\"43298780_SendingandSchedulingPushNotifications-Iconfield\">\n        <h5 class=\"heading \"><span>Icon field</span></h5>\n    <p>\n    <span id=\"43298780_SendingandSchedulingPushNotifications-icon\"><a class=\"confluence-anchor-link\" name=\"43298780_SendingandSchedulingPushNotifications-icon\"/></span>\nThe <tt class=\" \">icon</tt> payload field specifies an image to display with the notification on Android devices. (For image specifications, see <a class=\"document-link \" href=\"#!/guide/Icons_and_Splash_Screens-section-29004897_IconsandSplashScreens-NotificationIcons\">Icons and Splash Screens: Notification Icons</a>.) It's value is the name of a local image file, minus the extension of the icon to display. The file must be placed your project's <strong class=\" \">/res/drawable</strong> folder for native Android applications, or the <strong class=\" \">/Resources</strong> folder Titanium applications. By default, the application's icon is displayed with the notification.    </p>\n<div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"confbox programlisting scroll-unprocessed\">\n<div class=\"defaultnew syntaxhighlighter\">\n<div class=\"line\"><code class=\"plain\">{</code></div>\n<div class=\"line\"><code class=\"plain\">\t</code><code class=\"string\">\"alert\"</code><code class=\"plain\">: </code><code class=\"string\">\"You're a star!\"</code></div>\n<div class=\"line\"><code class=\"plain\">\t</code><code class=\"string\">\"icon\"</code><code class=\"plain\"> : </code><code class=\"string\">\"little_star\"</code></div>\n<div class=\"line\"><code class=\"plain\">}</code></div>\n</div>\n</div>    <p>\n        <img src=\"images/download/attachments/43298780/icon_location.png\" alt=\"images/download/attachments/43298780/icon_location.png\" class=\"confluence-embedded-image confluence-content-image-border\" width=\"355\"/>\n            </p>\n    </div>\n    <div class=\"section section-5 \" id=\"43298780_SendingandSchedulingPushNotifications-vibrateVibratefield\">\n        <h5 class=\"heading \"><span>Vibrate field</span></h5>\n    <p>\nA boolean that specifies whether the device should vibrate when the notification arrives.    </p>\n    </div>\n    </div>\n    </div>\n    </div>\n    <div class=\"section section-2 \" id=\"43298780_SendingandSchedulingPushNotifications-Troubleshootingcommonerrors\">\n        <h2 class=\"heading \"><span>Troubleshooting common errors</span></h2>\n    <p>\nThis section lists errors that may occur when sending push notifications.    </p>\n    <div class=\"section section-3 \" id=\"43298780_SendingandSchedulingPushNotifications-'Subscriptionnotfound'error\">\n        <h3 class=\"heading \"><span>'Subscription not found' error</span></h3>\n    <p>\nIn general, this error indicates that the recipients you selected are not subscribed to the specified channel. If you're sending a notification to specific Arrow users, make sure that those users are subscribed to the specified channel. Or, if you're sending a token-based notification (not to specific users) make sure that channel name you specified has at least one subscriber. See <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-Viewingsubscribeddevices\">Viewing subscribed devices</a> for more information.    </p>\n    <p>\nWhen <a class=\"document-link \" href=\"#!/guide/Sending_and_Scheduling_Push_Notifications-section-43298780_SendingandSchedulingPushNotifications-SendingandSchedulingPushNotifications-sendSendingpushnotifications\">sending</a> a geo-based push notification, this error can also indicate that no devices were found in the selected geographic area. Try the following:    </p>\n<ul class=\" \"><li class=\" \">    <p>\nMake sure your application is sending its current location to Arrow. See <a class=\"external-link external-link\" href=\"#!/guide/Subscribing_to_push_notifications-section-37551717_Subscribingtopushnotifications-UpdatingSubscriptionswithDeviceLocation\">Updating Subscriptions with Device Location</a>. Devices must report their location to Arrow to enable geo-based push.    </p>\n</li><li class=\" \">    <p>\nTry using a larger <strong class=\" \">Radius</strong> value to encompass a larger geographic area.    </p>\n</li></ul>    <p>\n    </p>\n    </div>\n    </div>\n        </div><a id=\"editButton\" href=\"https://wiki.appcelerator.org/pages/editpage.action?pageId=43298780\"><span>Edit</span></a>\n    \n        <div class=\"footer\">\n            Created with <a href=\"http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence\" target=\"_blank\">Scroll EclipseHelp Exporter for Confluence</a>.\n        </div>\n    </div>\n</body>\n</html>\n","title":"Sending and Scheduling Push Notifications"});