Ext.data.JsonP['Android_Intent_Filters']({"guide":" <!doctype html> <html> <head> <title>Android Intent Filters</title> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"> </meta></head> <body> <div class=\"container\"> <div class=\"header\"/> <div id=\"src-43287610\" class=\"content\"> <h1>Android Intent Filters</h1> <p> </p> <ul class=\"toc-indentation\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Android_Intent_Filters-section-src-43287610_AndroidIntentFilters-Introduction\">Introduction</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Android_Intent_Filters-section-src-43287610_AndroidIntentFilters-Receiveanimplicitintent\">Receive an implicit intent</a> </p> <ul class=\"toc-indentation\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Android_Intent_Filters-section-src-43287610_AndroidIntentFilters-ModifytheAndroidmanifestsection\">Modify the Android manifest section</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Android_Intent_Filters-section-src-43287610_AndroidIntentFilters-Declareintentfilters\">Declare intent filters</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Android_Intent_Filters-section-src-43287610_AndroidIntentFilters-Retrievedatapassedtotheactivity\">Retrieve data passed to the activity</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Android_Intent_Filters-section-src-43287610_AndroidIntentFilters-Respondtothecallingactivity\">Respond to the calling activity</a> </p> </li></ul></li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Android_Intent_Filters-section-src-43287610_AndroidIntentFilters-MIMETypeintentfilterexample\">MIME Type intent filter example</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Android_Intent_Filters-section-src-43287610_AndroidIntentFilters-URIintentfilterexample\">URI intent filter example</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Android_Intent_Filters-section-src-43287610_AndroidIntentFilters-Launchmode\">Launch mode</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Android_Intent_Filters-section-src-43287610_AndroidIntentFilters-Furtherreading\">Further reading</a> </p> </li></ul> <div class=\"section section-2\" id=\"src-43287610_AndroidIntentFilters-Introduction\"> <h2 class=\"heading\"><span>Introduction</span></h2> <p>Android Intent Filters give applications the ability to receive implicit intents from other Android applications. An intent is a message object, usually containing data, sent by another application to start a new application to handle the data. Intents are sent to the Android OS, which directs the intent to the appropriate application to handle the data. If more than one application can handle the data, Android presents a dialog to the user to select an application to launch. An intent filter indicates to the Android OS that your application can handle certain data types or URIs. For example, if a user opens their browser and highlights some text, the user can share that text with other Android apps, such as an e-mail application, SMS application or a social networking application. </p> <div class=\"tablewrap\"> <table class=\"confluenceTable\"> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p>The user highlights the text and<br>clicks the <strong>Share</strong> button. </br></p> </td> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p>The <strong>Share</strong> dialog appears and<br>the user can select the application<br>to send the text to, such as... </br></br></p> </td> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p>...an e-mail application, </p> </td> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p>...an SMS application </p> </td> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p>...or a social networking<br>application like Google+. </br></p> </td> </tr> <tr> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p> <img src=\"images/download/attachments/43287298/HighlightText.png\" alt=\"images/download/attachments/43287298/HighlightText.png\" class=\"confluence-embedded-image\"> </img></p> </td> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p> <img src=\"images/download/attachments/43287298/ShareDialog.png\" alt=\"images/download/attachments/43287298/ShareDialog.png\" class=\"confluence-embedded-image\"> </img></p> </td> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p> <img src=\"images/download/attachments/43287298/EmailClient.png\" alt=\"images/download/attachments/43287298/EmailClient.png\" class=\"confluence-embedded-image\"> </img></p> </td> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p> <img src=\"images/download/attachments/43287298/SmsClient.png\" alt=\"images/download/attachments/43287298/SmsClient.png\" class=\"confluence-embedded-image\"> </img></p> </td> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p> <img src=\"images/download/attachments/43287298/GooglePlusShare.png\" alt=\"images/download/attachments/43287298/GooglePlusShare.png\" class=\"confluence-embedded-image\"> </img></p> <p> </p> </td> </tr> </tbody> </table> </div> </div> <div class=\"section section-2\" id=\"src-43287610_AndroidIntentFilters-Receiveanimplicitintent\"> <h2 class=\"heading\"><span>Receive an implicit intent</span></h2> <p>To advertise to the Android OS that the application can receive an implicit intent, declare <tt class=\"\">&lt;intent-filter&gt;</tt> elements in the <tt>tiapp.xml</tt> file for each data type you want the application to receive. </p> <div class=\"section section-3\" id=\"src-43287610_AndroidIntentFilters-ModifytheAndroidmanifestsection\"> <h3 class=\"heading\"><span>Modify the Android manifest section</span></h3> <p>Before declaring an intent filter, you need to copy the <tt class=\"\">&lt;activity&gt;</tt> node containing your application&apos;s default root activity from the <tt class=\"\">build/android/AndroidManifest.xml</tt> file to the Android manifest section in the <tt>tiapp.xml</tt> file. </p> <ol class=\"\"><li class=\"\"> <p>Build your project once to generate the <tt>AndroidManifest.xml</tt> file. </p> </li><li class=\"\"> <p>Open the <tt class=\"\">build/android/AndroidManifest.xml</tt> file and and copy the <tt class=\"\">&lt;activity&gt;</tt> node that contains your default root activity. The <tt>android:name</tt> attribute will contain the name of your application. </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"title\">android/build/AndroidManifest.xml</div> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\" data-title=\"android/build/AndroidManifest.xml\"> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">manifest</code><code class=\"plain\"> </code><code class=\"color1\">xmlns:android</code><code class=\"plain\">=</code><code class=\"string\">&quot;http://schemas.android.com/apk/res/android&quot;</code><code class=\"plain\"> </code><code class=\"color1\">package</code><code class=\"plain\">=</code><code class=\"string\">&quot;com.example.sample&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:versionCode</code><code class=\"plain\">=</code><code class=\"string\">&quot;1&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:versionName</code><code class=\"plain\">=</code><code class=\"string\">&quot;1.0&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-sdk </code><code class=\"color1\">android:minSdkVersion</code><code class=\"plain\">=</code><code class=\"string\">&quot;14&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:targetSdkVersion</code><code class=\"plain\">=</code><code class=\"string\">&quot;19&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">application</code><code class=\"plain\"> </code><code class=\"color1\">android:icon</code><code class=\"plain\">=</code><code class=\"string\">&quot;@drawable/appicon&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:label</code><code class=\"plain\">=</code><code class=\"string\">&quot;My App&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;MyappApplication&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:debuggable</code><code class=\"plain\">=</code><code class=\"string\">&quot;false&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:theme</code><code class=\"plain\">=</code><code class=\"string\">&quot;@style/Theme.AppCompat&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\">&#xA0;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;!-- Copy this activity node --&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">activity</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;.YourapplicationnameActivity&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:label</code><code class=\"plain\">=</code><code class=\"string\">&quot;@string/app_name&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:theme</code><code class=\"plain\">=</code><code class=\"string\">&quot;@style/Theme.Titanium&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:configChanges</code><code class=\"plain\">=</code><code class=\"string\">&quot;keyboardHidden|orientation|screenSize&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.action.MAIN&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">category</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.category.LAUNCHER&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">activity</code><code class=\"plain\">&gt;&#xA0;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">activity</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;org.appcelerator.titanium.TiActivity&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:configChanges</code><code class=\"plain\">=</code><code class=\"string\">&quot;keyboardHidden|orientation|screenSize&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">activity</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;org.appcelerator.titanium.TiTranslucentActivity&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:configChanges</code><code class=\"plain\">=</code><code class=\"string\">&quot;keyboardHidden|orientation|screenSize&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:theme</code><code class=\"plain\">=</code><code class=\"string\">&quot;@style/Theme.AppCompat.Translucent&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">activity</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;ti.modules.titanium.ui.android.TiPreferencesActivity&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:configChanges</code><code class=\"plain\">=</code><code class=\"string\">&quot;screenSize&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">application</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.INTERNET&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.ACCESS_WIFI_STATE&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.ACCESS_COARSE_LOCATION&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.ACCESS_FINE_LOCATION&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.ACCESS_MOCK_LOCATION&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;/</code><code class=\"keyword\">manifest</code><code class=\"plain\">&gt;</code></div> </div> </div> </li><li class=\"\"> <p>Paste the default root activity into the Android section of your <tt class=\"\">tiapp.xml</tt> file inside the <tt class=\"\">&lt;application&gt;</tt> element. You may need to add the &lt;<tt class=\"\">manifest&gt;</tt> and &lt;<tt class=\"\">application&gt;</tt> elements to the &lt;<tt class=\"\">android&gt;</tt> element of your <tt>tiapp.xml</tt> file: </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"title\">tiapp.xml</div> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\" data-title=\"tiapp.xml\"> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">ti</code><code class=\"plain\">:app </code><code class=\"color1\">xmlns:ti</code><code class=\"plain\">=</code><code class=\"string\">&quot;http://ti.appcelerator.org&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">android</code><code class=\"plain\"> </code><code class=\"color1\">xmlns:android</code><code class=\"plain\">=</code><code class=\"string\">&quot;http://schemas.android.com/apk/res/android&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">manifest</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">application</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">activity</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;.YourapplicationnameActivity&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:label</code><code class=\"plain\">=</code><code class=\"string\">&quot;@string/app_name&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:theme</code><code class=\"plain\">=</code><code class=\"string\">&quot;@style/Theme.Titanium&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:configChanges</code><code class=\"plain\">=</code><code class=\"string\">&quot;keyboardHidden|orientation|screenSize&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.action.MAIN&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">category</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.category.LAUNCHER&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">activity</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">application</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">manifest</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">android</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;/</code><code class=\"keyword\">ti</code><code class=\"plain\">:app&gt;</code></div> </div> </div> </li></ol> <p>Note that the <tt class=\"\">&lt;activity&gt;</tt> node you just copied over already contains an <tt>&lt;intent-filter&gt;</tt> element. The elements inside the filter describe to the Android OS that this activity is the initial activity to launch for the application. Do not remove this intent filter or the application will not be available in the application launcher menu. </p> <div class=\"confbox admonition admonition-note aui-message warning shadowed information-macro\"> <p>If you change the name of the application, you will need to copy the newly generated <tt class=\"\">android:name</tt> value from the <tt class=\"\">AndroidManifest.xml</tt> file and overwrite the old value in the <tt>tiapp.xml</tt> file. </p> </div> </div> <div class=\"section section-3\" id=\"src-43287610_AndroidIntentFilters-Declareintentfilters\"> <h3 class=\"heading\"><span>Declare intent filters</span></h3> <p>To declare an intent filter, add <strong class=\"\"> <tt class=\"\">&lt;intent-filter&gt;</tt> </strong> elements as children of the <tt class=\"\">&lt;activity&gt;</tt> describing the default root activity of the application. For each <tt>&lt;intent-filter&gt;</tt>, you must add: </p> <ul class=\"\"><li class=\"\"> <p>one or more <tt>&lt;action&gt;</tt> elements to it to describe which actions the activity can perform </p> </li><li class=\"\"> <p>the <tt>&lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;</tt> element to allow it to receive implicit intents as well as any additional categories you want to add to describe the purpose of the activity </p> </li><li class=\"\"> <p>and a &lt;<tt>data&gt;</tt> element describing which data types the activity can receive </p> </li></ul> <p>The elements are described in more detail below. </p> <p>After adding an &lt;intent-filter&gt; tag, add the following children elements to it: </p> <ul class=\"\"><li class=\"\"> <p><strong class=\"\"> <tt class=\"\">&lt;action/&gt;</tt> </strong> element: Describes which actions the activity can do. Assign the <tt class=\"\">android:name</tt> attribute an action. An action is one of the <tt class=\"\">ACTION_*</tt> constants from the <a class=\"external-link external-link\" href=\"http://developer.android.com/reference/android/content/Intent.html\" target=\"_blank\">Android Intent class</a>. Remove the <tt class=\"\">ACTION_</tt> prefix from the constant, then prefix it with the <tt>android.intent.action</tt> namespace. Examples: </p> <ul class=\"\"><li class=\"\"> <p><tt>&lt;action android:name=&quot;android.intent.action.SEND&quot;/&gt;</tt>: Data can be sent to the activity. </p> </li><li class=\"\"> <p><tt>&lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;</tt>: Data can be viewed by the activity. </p> </li></ul></li><li class=\"\"> <p><strong class=\"\"> <tt class=\"\">&lt;category/&gt;</tt> </strong> element: Provides additional details about the activity. Assign the <tt class=\"\">android:name</tt> attribute a category. A category is one of the <tt class=\"\">CATEGORY_*</tt> constants from the <a class=\"external-link external-link\" href=\"http://developer.android.com/reference/android/content/Intent.html\" target=\"_blank\">Android Intent class</a>. Remove the <tt class=\"\">CATEGORY_</tt> prefix from the constant, then prefix it with the <tt>android.intent.category</tt> namespace. Examples: </p> <ul class=\"\"><li class=\"\"> <p><tt>&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;</tt>: Indicates that the activity can be invoked from a browser by clicking a link </p> </li></ul></li><li class=\"\"> <p><strong class=\"\"> <tt class=\"\">&lt;data/&gt;</tt> </strong>element: Describes the data type the activity can handle. You can either describe the data type as a MIME type with the <tt class=\"\">android:mimeType</tt> attribute or as an URI using the <tt class=\"\">android:scheme</tt>, <tt class=\"\">android:host</tt>, <tt class=\"\">android:port</tt>, <tt class=\"\">android:path</tt>, <tt class=\"\">android:pathPrefix</tt> and <tt class=\"\">android:pathPattern</tt> attributes that take on the form: <tt class=\"\">&lt;scheme&gt;://&lt;host&gt;:&lt;port&gt;/[&lt;path&gt;|&lt;pathPrefix&gt;|&lt;pathPattern&gt;]</tt>. Note that all URI attributes are optional except if the <tt class=\"\">scheme</tt> attribute is not defined, all other URI attributes are ignored, and if the <tt class=\"\">host</tt> attribute is not defined, all other URI attributes except <tt>scheme</tt> are ignored. Examples: </p> <ul class=\"\"><li class=\"\"> <p><tt>&lt;data android:mimeType=&quot;image/*&quot;/&gt;</tt>: Activity can accept intents with the image/* MIME type depending on the action. </p> </li><li class=\"\"> <p><tt class=\"\">&lt;data android:scheme=&quot;http&quot; host=&quot;www.fakedomain.com&quot;/&gt;</tt>: Activity can accept URIs that start with <tt>http://www.fakedomain.com</tt> depending on the action. </p> </li></ul></li></ul> <p> </p> <div class=\"confbox admonition admonition-info aui-message hint shadowed information-macro\"> <p>For the actions and categories, you can also define your own custom action and category names. Use a reverse domain scheme to name the actions and categories to avoid potential conflicts, for example, <tt class=\"\">com.appcelerator.action.LINT</tt> or <tt>org.foo.category.SUPER</tt>. The custom actions and categories are only useful to communicate between your applications and application activities using intents. </p> </div> <p>Additionally, you can overwrite the appearance of the option in the <strong class=\"\">Share</strong> dialog by using the following <tt>&lt;intent-filter&gt;</tt> attributes: </p> <ul class=\"\"><li class=\"\"> <p><tt class=\"\">android:icon</tt>: Icon to display in the <strong class=\"\">Share</strong> dialog. Place the icon file in the <tt class=\"\">/platform/android/res/drawable/</tt> folder and reference the image file by removing its extension and prefixing it with <tt class=\"\">@drawable/</tt>, for example, <tt>@drawable/filename</tt>. By default, uses the application&apos;s icon. </p> </li><li class=\"\"> <p><tt class=\"\">android:label</tt>: Title displayed in the <strong>Share</strong> dialog. By default, uses the application name. </p> </li><li class=\"\"> <p><tt class=\"\">android:priority</tt>: Integer used to determine the priority to give to the application. By default, set to <tt class=\"\">0</tt>. Can be assigned a value between <tt class=\"\">-1000</tt> and <tt>1000</tt>, inclusive. </p> </li></ul> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"title\">tiapp.xml</div> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\" data-title=\"tiapp.xml\"> <div class=\"line\"><code class=\"plain\">&lt;!-- slimmed down some of the nodes for example --&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">ti</code><code class=\"plain\">:app&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">android</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">manifest</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">application</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">activity</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;.YourapplicationnameActivity&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;!-- default intent filter for launching activity --&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.action.MAIN&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">category</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.category.LAUNCHER&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;!-- example filter to retrieve or view plain text --&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;!-- adds a custom title and icon for the share option --&gt; </code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter </code><code class=\"color1\">android:label</code><code class=\"plain\">=</code><code class=\"string\">&quot;Translate To Pig Latin&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:icon</code><code class=\"plain\">=</code><code class=\"string\">&quot;@drawable/pig&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">data</code><code class=\"plain\"> </code><code class=\"color1\">android:mimeType</code><code class=\"plain\">=</code><code class=\"string\">&quot;text/plain&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.action.SEND&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.action.VIEW&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">category</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.category.DEFAULT&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">activity</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">application</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">manifest</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">android</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;/</code><code class=\"keyword\">ti</code><code class=\"plain\">:app&gt;</code></div> </div> </div> </div> <div class=\"section section-3\" id=\"src-43287610_AndroidIntentFilters-Retrievedatapassedtotheactivity\"> <h3 class=\"heading\"><span>Retrieve data passed to the activity</span></h3> <p>To retrieve data sent to an activity using an intent, the application needs to retrieve the intent that launched the activity, then use the Intent reference to get the data URI or extras sent with the intent. </p> <ul class=\"\"><li class=\"\"> <p>To get the intent of the root activity, use the <tt>Titanium.App.Android.launchIntent</tt> property. </p> </li><li class=\"\"> <p>To get the intent of an activity that has an <strong class=\"\">open</strong> Window or TabGroup, get a reference to the activity using the <tt class=\"\">activity</tt> property of the Window or TabGroup object, then access the intent using the activity&apos;s <tt class=\"\">intent</tt> property or <tt>getIntent()</tt> method. </p> </li><li class=\"\"> <p>To get the intent of other activities, use the <tt class=\"\">Titanium.Android.currentActivity</tt> property to get a reference to the activity, then access the intent using the activity&apos;s <tt class=\"\">intent</tt> property or <tt>getIntent()</tt> method. </p> </li></ul> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"comments\">// Retrieve intent that launched the application (root activity)</code></div> <div class=\"line\"><code class=\"keyword\">var</code><code class=\"plain\"> rootIntent = Ti.App.Android.launchIntent;</code></div> <div class=\"line\"><code class=\"comments\">// Retrieve intent that launched the window</code></div> <div class=\"line\"><code class=\"keyword\">var</code><code class=\"plain\"> uiActivity = win.activity;</code></div> <div class=\"line\"><code class=\"keyword\">var</code><code class=\"plain\"> uiIntent = uiActivity.getIntent();</code></div> <div class=\"line\"><code class=\"comments\">// Retrieve intent that launch the activity</code></div> <div class=\"line\"><code class=\"keyword\">var</code><code class=\"plain\"> activity = Ti.Android.currentActivity;</code></div> <div class=\"line\"><code class=\"keyword\">var</code><code class=\"plain\"> intent = activity.getIntent();</code></div> </div> </div> <p><u> <br> </br></u> </p> <p><u class=\"\">To retrieve the data URI sent with the intent</u>, simply access the <tt class=\"\">data</tt> property of the intent or call the intent&apos;s <tt>getData()</tt> method. </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"keyword\">var</code><code class=\"plain\"> uri = intent.getData();</code></div> </div> </div> <p><u class=\"\">To retrieve extras sent with the intent</u>, call the intent&apos;s <tt class=\"\">hasExtra()</tt> method and pass it the property to retrieve to verify the data exists, then call one of the intent&apos;s <tt>get*Extra()</tt> methods and pass it the same property name to retrieve the data. </p> <p>The example below checks for EXTRA_TEXT data sent with the intent. </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"keyword\">var</code><code class=\"plain\"> extra;</code></div> <div class=\"line\"><code class=\"keyword\">if</code><code class=\"plain\"> (intent.hasExtra(Ti.Android.EXTRA_TEXT) &amp;&amp; (extra = intent.getStringExtra(Ti.Android.EXTRA_TEXT))) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"comments\">// Do something with the extra</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> </div> </div> </div> <div class=\"section section-3\" id=\"src-43287610_AndroidIntentFilters-Respondtothecallingactivity\"> <h3 class=\"heading\"><span>Respond to the calling activity</span></h3> <p>To send a response back to the calling activity, the called activity needs to call its <tt class=\"\">setResult()</tt> method, then call the <tt>finish()</tt> method to close the called activity in order to send the result. </p> <div class=\"confbox admonition admonition-note aui-message warning shadowed information-macro\"> <p>The calling activity needs to call the <tt class=\"\">startActivityForResult()</tt> method instead of the <tt class=\"\">startActivity()</tt> in order to process the result. See <a class=\"document-link\" href=\"#!/guide/Android_Intents-section-src-43287298_AndroidIntents-Startanactivitywithanintent\">Android Intents: Start an activity with an intent</a>. </p> </div> <p>Pass a <tt class=\"\">Titanium.Android.RESULT_*</tt> constant to the <tt>setResult()</tt> method to indicate the result of the activity and an optional intent object as the second parameter. Use the intent object to send data back to the calling activity. </p> <p>The example below returns a string once the activity is created. </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"title\">someactivity.js</div> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\" data-title=\"someactivity.js\"> <div class=\"line\"><code class=\"comments\">// Get a reference to this activity</code></div> <div class=\"line\"><code class=\"keyword\">var</code><code class=\"plain\"> activity = Ti.Android.currentActivity;</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"comments\">// Bind callback to activity&apos;s create event</code></div> <div class=\"line\"><code class=\"plain\">activity.onCreate = </code><code class=\"keyword\">function</code><code class=\"plain\">() {</code></div> <div class=\"line\"><code class=\"plain\">&#xA0;</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"comments\">// Create a blank activity to send data back</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">var</code><code class=\"plain\"> intent = Ti.Android.createIntent({});</code></div> <div class=\"line\"><code class=\"plain\"> intent.putExtra(Ti.Android.EXTRA_TEXT, </code><code class=\"string\">&apos;foobar&apos;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\">&#xA0;</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"comments\">// Set the result code and send data back to calling activity</code></div> <div class=\"line\"><code class=\"plain\"> activity.setResult(Ti.Android.RESULT_OK, intent);</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"comments\">// Close the activity to return the result</code></div> <div class=\"line\"><code class=\"plain\"> activity.finish();</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> </div> </div> </div> </div> <div class=\"section section-2\" id=\"src-43287610_AndroidIntentFilters-MIMETypeintentfilterexample\"> <h2 class=\"heading\"><span>MIME Type intent filter example</span></h2> <p>This example creates an Alloy application that will accept a string from an external application to set the text in a text area widget. </p> <p>The view code for the application displays a text area and button. </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"title\">app/views/index.xml</div> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\" data-title=\"app/views/index.xml\"> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">Alloy</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">Window</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">TextArea</code><code class=\"plain\"> </code><code class=\"color1\">id</code><code class=\"plain\">=</code><code class=\"string\">&apos;textArea&apos;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">Button</code><code class=\"plain\"> </code><code class=\"color1\">id</code><code class=\"plain\">=</code><code class=\"string\">&apos;button&apos;</code><code class=\"plain\"> </code><code class=\"color1\">onClick</code><code class=\"plain\">=</code><code class=\"string\">&apos;toPigLatin&apos;</code><code class=\"plain\">&gt;Translate&lt;/</code><code class=\"keyword\">Button</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">Window</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;/</code><code class=\"keyword\">Alloy</code><code class=\"plain\">&gt;&#xA0;</code></div> </div> </div> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"title\">app/styles/index.tss</div> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\" data-title=\"app/styles/index.tss\"> <div class=\"line\"><code class=\"string\">&quot;Window&quot;</code><code class=\"plain\"> : {</code></div> <div class=\"line\"><code class=\"plain\">\tlayout: </code><code class=\"string\">&apos;vertical&apos;</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> <div class=\"line\"><code class=\"string\">&quot;#textArea&quot;</code><code class=\"plain\"> : {</code></div> <div class=\"line\"><code class=\"plain\">\t</code><code class=\"keyword\">top</code><code class=\"plain\">: </code><code class=\"string\">&apos;25dp&apos;</code><code class=\"plain\">,</code></div> <div class=\"line\"><code class=\"plain\">\t</code><code class=\"keyword\">height</code><code class=\"plain\">: </code><code class=\"string\">&apos;500dp&apos;</code><code class=\"plain\">,</code></div> <div class=\"line\"><code class=\"plain\">\t</code><code class=\"keyword\">width</code><code class=\"plain\">: Ti.UI.FILL</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> <div class=\"line\"><code class=\"string\">&quot;#button&quot;</code><code class=\"plain\"> : {</code></div> <div class=\"line\"><code class=\"plain\">\t</code><code class=\"keyword\">top</code><code class=\"plain\">: </code><code class=\"string\">&apos;15dp&apos;</code></div> <div class=\"line\"><code class=\"plain\">}&#xA0;</code></div> </div> </div> <p>The controller code retrieves the text string sent to the application if an external application used an intent to start it. </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"title\">app/controllers/index.js</div> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\" data-title=\"app/controllers/index.js\"> <div class=\"line\"><code class=\"plain\">$.index.open();</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"keyword\">if</code><code class=\"plain\"> (OS_ANDROID) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">var</code><code class=\"plain\"> launchIntent = Ti.App.Android.launchIntent;</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">var</code><code class=\"plain\"> extra;</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">if</code><code class=\"plain\"> (launchIntent.hasExtra(Ti.Android.EXTRA_TEXT) &amp;&amp; (extra = launchIntent.getStringExtra(Ti.Android.EXTRA_TEXT))) {</code></div> <div class=\"line\"><code class=\"plain\"> $.textArea.value = extra;</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"keyword\">function</code><code class=\"plain\"> toPigLatin () {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"comments\">// translate $.textArea.value to Pig Latin or some such nonsense</code></div> <div class=\"line\"><code class=\"plain\">}&#xA0;</code></div> </div> </div> <p>Now build the application once to generate the <tt>AndroidManifest.xml</tt> file. </p> <p>Next, declare the intent filter in the <tt>tiapp.xml</tt> file. </p> <ol class=\"\"><li class=\"\"> <p>Copy the default root activity from the <tt class=\"\">AndroidManifest.xml</tt> file to the Android manifest section of the <tt>tiapp.xml</tt>. </p> </li><li class=\"\"> <p>Add an <tt class=\"\">&lt;intent-filter&gt;</tt> element as a child of the <tt>&lt;activity&gt;</tt> element. </p> </li><li class=\"\"> <p>Add a <tt class=\"\">&lt;data&gt;</tt> element as a child of the <tt class=\"\">&lt;intent-filter&gt;</tt> element, then assign <tt class=\"\">text/plain</tt> to the <tt>android:mimeType</tt> attribute to tell Android the activity can handle plain text data. </p> </li><li class=\"\"> <p>Add a <tt class=\"\">&lt;category&gt;</tt> element as a child of the <tt class=\"\">&lt;intent-filter&gt;</tt> element. Assign <tt class=\"\">android.intent.category.DEFAULT</tt> to the <tt>android:name</tt> attribute to tell Android that the activity wants to receive implicit Intents. </p> </li><li class=\"\"> <p>Add an <tt class=\"\">&lt;action&gt;</tt> element as a child of the <tt class=\"\">&lt;intent-filter&gt;</tt> element, then assign <tt class=\"\">android.intent.action.SEND</tt> to the <tt>android:name</tt> attribute to tell Android that the application can receive plain text data. </p> </li></ol> <p>Note that the activity already had an intent filter declared indicating that the application should be available in the application launcher. </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"title\">tiapp.xml</div> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\" data-title=\"tiapp.xml\"> <div class=\"line\"><code class=\"plain\">&#xA0;&lt;</code><code class=\"keyword\">ti</code><code class=\"plain\">:app&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">android</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">manifest</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">activity</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;.GibberishActivity&quot;</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"color1\">android:label</code><code class=\"plain\">=</code><code class=\"string\">&quot;Gibberish&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:theme</code><code class=\"plain\">=</code><code class=\"string\">&quot;@style/Theme.Titanium&quot;</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"color1\">android:configChanges</code><code class=\"plain\">=</code><code class=\"string\">&quot;keyboardHidden|orientation&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.action.MAIN&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">category</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.category.LAUNCHER&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter </code><code class=\"color1\">android:label</code><code class=\"plain\">=</code><code class=\"string\">&quot;Translate to Pig Latin&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">data</code><code class=\"plain\"> </code><code class=\"color1\">android:mimeType</code><code class=\"plain\">=</code><code class=\"string\">&quot;text/plain&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">category</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.category.DEFAULT&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.action.SEND&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">activity</code><code class=\"plain\">&gt;</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">manifest</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">android</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">ti</code><code class=\"plain\">:app&gt;</code></div> </div> </div> <p>You now have an app that is ready to receive Intents. Install it on either an Android device or emulator and make sure it runs. Close the application. Now you can test the Intent Filter by doing the following: </p> <div class=\"tablewrap\"> <table class=\"confluenceTable\"> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p>Open your Android browser and go to a website.<br>Select some text, then click the <strong>Share</strong> button. </br></p> </td> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p>You should be greeted with an Intent list that<br>looks something like this. </br></p> </td> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p>Select your app in the list and you will then be directed<br>to your application containing the string you highlighted. </br></p> </td> </tr> <tr> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p> <img src=\"images/download/attachments/43287610/SelectText.png\" alt=\"images/download/attachments/43287610/SelectText.png\" class=\"confluence-embedded-image\"> </img></p> </td> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p> <img src=\"images/download/attachments/43287610/ShareDialog.png\" alt=\"images/download/attachments/43287610/ShareDialog.png\" class=\"confluence-embedded-image\"> </img></p> </td> <td class=\"confluenceTd\" rowspan=\"1\" colspan=\"1\"> <p> <img src=\"images/download/attachments/43287610/ApplicationWithText.png\" alt=\"images/download/attachments/43287610/ApplicationWithText.png\" class=\"confluence-embedded-image\"> </img></p> </td> </tr> </tbody> </table> </div> </div> <div class=\"section section-2\" id=\"src-43287610_AndroidIntentFilters-URIintentfilterexample\"> <h2 class=\"heading\"><span>URI intent filter example</span></h2> <p>This example creates a very simple application that will make itself available to a very specific intent. The application will present itself in the intent list anytime we click on a link that is destined to <a class=\"external-link external-link\" href=\"http://www.appcelerator.com\" target=\"_blank\">http://www.appcelerator.com</a>. </p> <p>The code for the application simply displays a label to the user that tells them we know they just clicked on a link to www.appcelerator.com. </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"title\">Resources/app.js</div> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\" data-title=\"Resources/app.js\"> <div class=\"line\"><code class=\"plain\">Ti.UI.backgroundColor = </code><code class=\"string\">&apos;#fff&apos;</code><code class=\"plain\">;</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"keyword\">var</code><code class=\"plain\"> win = Ti.UI.createWindow();</code></div> <div class=\"line\"><code class=\"keyword\">var</code><code class=\"plain\"> label = Ti.UI.createLabel({</code></div> <div class=\"line\"><code class=\"plain\">\ttext:</code><code class=\"string\">&quot;I&apos;ll bet you just clicked on a link to http://www.appcelerator.com&quot;</code><code class=\"plain\">,</code></div> <div class=\"line\"><code class=\"plain\">\tcolor:</code><code class=\"string\">&apos;#000&apos;</code><code class=\"plain\">,</code></div> <div class=\"line\"><code class=\"plain\">\tfont: {</code></div> <div class=\"line\"><code class=\"plain\"> fontSize:32</code></div> <div class=\"line\"><code class=\"plain\">\t},</code></div> <div class=\"line\"><code class=\"plain\">\twidth:</code><code class=\"string\">&apos;80%&apos;</code></div> <div class=\"line\"><code class=\"plain\">});</code></div> <div class=\"line\"><code class=\"plain\">win.add(label);</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"plain\">win.open();</code></div> </div> </div> <p>If you build and run it, your output should look roughly like this: </p> <p> <img src=\"images/download/attachments/43287610/app.png\" alt=\"images/download/attachments/43287610/app.png\" class=\"confluence-embedded-image confluence-content-image-border\" width=\"225\" height=\"400\"> </img></p> <p>Next, declare the intent filter in the <tt>tiapp.xml</tt>. </p> <ol class=\"\"><li class=\"\"> <p>Copy the default root activity from the <tt class=\"\">AndroidManifest.xml</tt> file to the Android manifest section of the <tt>tiapp.xml</tt>. </p> </li><li class=\"\"> <p>Add an <tt class=\"\">&lt;intent-filter&gt;</tt> element as a child of the <tt>&lt;activity&gt;</tt> element. </p> </li><li class=\"\"> <p>Add a <tt class=\"\">&lt;data&gt;</tt> element as a child of the <tt class=\"\">&lt;intent-filter&gt;</tt> element, then assign <tt class=\"\">http</tt> to the <tt class=\"\">android:scheme</tt> attribute and <tt class=\"\">www.appcelerator.com</tt> to the <tt>android:host</tt> attribute. This tells Android the activity can handle HTTP requests targeted at the host <a class=\"external-link external-link\" href=\"http://www.appcelerator.com\" target=\"_blank\">www.appcelerator.com</a>. </p> </li><li class=\"\"> <p>Add a <tt class=\"\">&lt;category&gt;</tt> element as a child of the <tt class=\"\">&lt;intent-filter&gt;</tt> element. Assign <tt class=\"\">android.intent.category.DEFAULT</tt> to the <tt>android:name</tt> attribute to tell Android that the activity wants to receive implicit Intents. </p> </li><li class=\"\"> <p>Add another <tt class=\"\">&lt;category&gt;</tt> element. Assign <tt class=\"\">android.intent.category.BROWSABLE</tt> to the <tt>android:name</tt> attribute to tell Android that the request can come from the browser. </p> </li><li class=\"\"> <p>Add an <tt class=\"\">&lt;action&gt;</tt> element as a child of the <tt class=\"\">&lt;intent-filter&gt;</tt> element, then assign <tt class=\"\">android.intent.action.VIEW</tt> to the <tt>android:name</tt> attribute to states that the activity will be handling VIEW intents. </p> </li></ol> <p>Note that the activity already had an intent filter declared indicating that the application should be available in the application launcher. </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"title\">tiapp.xml</div> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\" data-title=\"tiapp.xml\"> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">ti</code><code class=\"plain\">:app&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">android</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">manifest</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">activity</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;.IntentFilterTestActivity&quot;</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"color1\">android:label</code><code class=\"plain\">=</code><code class=\"string\">&quot;Intent Filter Test&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:theme</code><code class=\"plain\">=</code><code class=\"string\">&quot;@style/Theme.Titanium&quot;</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"color1\">android:configChanges</code><code class=\"plain\">=</code><code class=\"string\">&quot;keyboardHidden|orientation&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.action.MAIN&quot;</code><code class=\"plain\"> /&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">category</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.category.LAUNCHER&quot;</code><code class=\"plain\"> /&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">data</code><code class=\"plain\"> </code><code class=\"color1\">android:scheme</code><code class=\"plain\">=</code><code class=\"string\">&quot;http&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:host</code><code class=\"plain\">=</code><code class=\"string\">&quot;www.appcelerator.com&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">category</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.category.DEFAULT&quot;</code><code class=\"plain\"> /&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">category</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.category.BROWSABLE&quot;</code><code class=\"plain\"> /&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.action.VIEW&quot;</code><code class=\"plain\"> /&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">activity</code><code class=\"plain\">&gt;</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">manifest</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">android</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">ti</code><code class=\"plain\">:app&gt;</code></div> </div> </div> <p>You now have an app that is ready to receive Intents. Install it on either an Android device or emulator and make sure it runs. Close the application. Now you can test the Intent Filter by doing the following: </p> <ol class=\"\"><li> <p>Open your Android browser. </p> </li><li> <p>Search for &quot;appcelerator&quot; on google.com. </p> </li><li> <p>Click the link for <a class=\"external-link external-link\" href=\"http://www.appcelerator.com\" target=\"_blank\">http://www.appcelerator.com</a>. </p> </li></ol> <p>You should be greeted with an Intent list that looks something like this: </p> <p> <img src=\"images/download/attachments/43287610/intent_test.png\" alt=\"images/download/attachments/43287610/intent_test.png\" class=\"confluence-embedded-image\" height=\"400\"> </img></p> <p>Select your app in the list and you will then be directed to your application containing the &quot;I&apos;ll bet you just clicked on a link to www.appcelerator.com&quot; label. </p> </div> <div class=\"section section-2\" id=\"src-43287610_AndroidIntentFilters-Launchmode\"> <h2 class=\"heading\"><span>Launch mode</span></h2> <p>Since launch modes cannot be used with Titanium Android, to offer similar behaviour to <tt class=\"\">android:launchMode= &quot;singleTask&quot;</tt> when using intent filters, you can set the <i class=\"\">intent-filter-new-task</i> property in your <tt>tiapp.xml</tt>: </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">property</code><code class=\"plain\"> </code><code class=\"color1\">name</code><code class=\"plain\">=</code><code class=\"string\">&quot;intent-filter-new-task&quot;</code><code class=\"plain\"> </code><code class=\"color1\">type</code><code class=\"plain\">=</code><code class=\"string\">&quot;bool&quot;</code><code class=\"plain\">&gt;true&lt;/</code><code class=\"keyword\">property</code><code class=\"plain\">&gt;</code></div> </div> </div> <p>This will start any activity launched from an intent filter as a new task. </p> </div> <div class=\"section section-2\" id=\"src-43287610_AndroidIntentFilters-Furtherreading\"> <h2 class=\"heading\"><span>Further reading</span></h2> <ul class=\"\"><li> <p><a class=\"external-link external-link\" href=\"http://developer.android.com/guide/topics/intents/intents-filters.html\" target=\"_blank\">Android Developers: Intents and Intent Filters</a> </p> </li><li> <p><a class=\"external-link external-link\" href=\"http://developer.android.com/guide/topics/manifest/intent-filter-element.html\" target=\"_blank\">Android Developers: &lt;intent-filter&gt;</a> </p> </li><li> <p><a class=\"external-link external-link\" href=\"http://www.appcelerator.com/blog/2011/08/android-intents/\" target=\"_blank\">Appcelerator Enterprise Mobility Blog: Android Intents</a> </p> </li></ul> </div> </div><a id=\"editButton\" href=\"https://wiki.appcelerator.org/pages/editpage.action?pageId=43287610\"><span>Edit</span></a> </div> </body> </html> ","title":"Android Intent Filters"});