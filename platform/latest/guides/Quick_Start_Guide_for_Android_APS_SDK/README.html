<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Quick Start Guide for Android APS SDK</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta content="Scroll EclipseHelp Exporter" name="generator"/>

    <link type="text/css" rel="stylesheet"/>
    <link type="text/css" rel="stylesheet"/>
    <link type="text/css" rel="stylesheet" media="print"/>
</head>
<body>
    <div class="container">
        <div class="header"/>

        <div id="43298718" class="content">
            <h1>Quick Start Guide for Android APS SDK</h1>
    <p>
    </p>
    <div class="confbox admonition admonition-warning aui-message problem shadowed information-macro">
            <div class="title">Pro or Enterprise Subscription Required</div>
        
    <p>
This Appcelerator Platform feature requires a Pro or Enterprise Subscription.    </p>
    </div>
    
    <p>
    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-Introduction">Introduction</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-Requirements">Requirements</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-Setup">Setup</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-QuickTutorial">Quick Tutorial</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-ModifytheApplication">Modify the Application</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-BuildingtheApplication">Building the Application</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-CaptureUserSessionEvents">Capture User Session Events</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-SendanAnalyticsFeatureEvent">Send an Analytics Feature Event</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-QueryCloudUsers">Query Cloud Users</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-LogintoaCloudAccount">Login to a Cloud Account</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-LogaHandledException">Log a Handled Exception</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-SetaUsernameforCrashLogs">Set a Username for Crash Logs</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-TestingtheTutorialSample">Testing the Tutorial Sample</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-NextStepsforAppceleratorAnalytics,CloudandPerformance">Next Steps for Appcelerator Analytics, Cloud and Performance</a>    </p>
</li></ul></li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-SettingupAppceleratorTest">Setting up Appcelerator Test</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-SetuptheApplication">Set up the Application</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-InstalltheTouchTestAgent">Install the TouchTest Agent</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-RecordaTestClip">Record a Test Clip</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-NextStepsforAppceleratorTest">Next Steps for Appcelerator Test</a>    </p>
</li></ul></li></ul>    <div class="section section-2 " id="43298718_QuickStartGuideforAndroidAPSSDK-Introduction">
        <h2 class="heading "><span>Introduction</span></h2>
    <p>
This guide walks through the setup of the Appcelerator Platform Services for Android applications.  The Appcelerator Platform Services SDK gives you access to the Appcelerator Analytics, Cloud and Performance services.  To enable Appcelerator Test for a project, run the <tt class=" ">AppceletatorTest</tt> utility against either the project or APK file.    </p>
    <div class="confbox panel panel">
            <div class="title">Not developing a native Android application with Java?</div>
        <p>
See the following topics to use the Appcelerator Platform Services on other platforms:    </p>
    <p>
        <img src="images/download/attachments/43298720/ios_icon.png" alt="images/download/attachments/43298720/ios_icon.png" class="confluence-embedded-image"/>
            </p>
    <p>
For native iOS applications built with Objective-C, see <a class="document-link " href="#!/guide/Quick_Start_Guide_for_iOS_APS_SDK">Quick Start Guide for iOS APS SDK</a>.    </p>
    <p>
        <img src="images/download/attachments/43298720/titanium_icon.png" alt="images/download/attachments/43298720/titanium_icon.png" class="confluence-embedded-image"/>
            </p>
    <p>
For Titanium Applications, see <a class="document-link " href="#!/guide/Quick_Start">Quick Start</a>.    </p>
    </div>
    </div>
    <div class="section section-2 " id="43298718_QuickStartGuideforAndroidAPSSDK-Requirements">
        <h2 class="heading "><span>Requirements</span></h2>
    <p>
This document assumes you have an existing Android application and are familiar with the Android toolchain to create, build and package Android applications.  The following prerequisites are also needed:    </p>
<ul class=" "><li class=" ">    <p>
Android SDK 2.3.x (API Level 10) or greater    </p>
</li><li class=" ">    <p>
Android NDK    </p>
</li><li class=" ">    <p>
Eclipse 3.6 or later with the ADT plug-in (see <a class="external-link external-link" href="http://developer.android.com/sdk/installing/installing-adt.html" target="_blank">Android Developers: ADT Plugin</a>), or the Apache Ant command-line tool (see <a class="external-link external-link" href="http://ant.apache.org/" target="_blank">Apache Ant</a>).    </p>
</li></ul>    </div>
    <div class="section section-2 " id="43298718_QuickStartGuideforAndroidAPSSDK-Setup">
        <h2 class="heading "><span>Setup</span></h2>
    <p>
Before you can use Appcelerator Services in your application you need to:    </p>
<ul class=" "><li class=" ">    <p>
Create an application in Dashboard    </p>
</li><li class=" ">    <p>
Download the SDK and <tt class=" ">appcelerator-test</tt> utility    </p>
</li><li class=" ">    <p>
Get the application keys    </p>
</li></ul>    <p>
<strong class=" ">To regisiter an Android Java, or iOS Objective-C or Swift application in Dashboard:</strong>    </p>
<ol class=" "><li class=" ">    <p>
Log in to <a class="external-link external-link" href="https://platform.appcelerator.com/" target="_blank">Appcelerator Dashboard</a>.    </p>
</li><li class=" ">    <p>
Click the Add menu (<strong class=" ">+</strong>) and select <strong class=" ">Register App for Services</strong> to open the <strong class=" ">Register App for Services</strong> form.    </p>
        <img src="images/download/attachments/43298776/RegisterAppForService.png" alt="images/download/attachments/43298776/RegisterAppForService.png" class="confluence-embedded-image"/>
            <p>
    </p>
</li><li class=" ">    <p>
In the Register App for Services form, enter an application <strong class=" ">Name</strong>, and select a <strong class=" ">Platform</strong> and <strong class=" ">Category</strong>. Optionally, you can provide a custom icon to display in Dashboard for your application, and a description. To add application team members from the organization, click the add (+) button in the Members form at right.    </p>
</li><li class=" ">    <p>
Click <strong class=" ">OK.</strong>    </p>
</li></ol>    <p>
Dashboard displays the  <strong class=" ">Platform Services</strong>  tab for your application. In the tab, you can download the APS SDK and <tt class=" ">appcelerator-test</tt> utility, and get code snippets to copy and paste into your application.    </p>
    <p>
For more information, refer to <a class="document-link " href="#!/guide/Managing_Non-Titanium_Client_Applications_in_Dashboard">Managing Non-Titanium Client Applications in Dashboard</a>.    </p>
    </div>
    <div class="section section-2 " id="43298718_QuickStartGuideforAndroidAPSSDK-QuickTutorial">
        <h2 class="heading "><span>Quick Tutorial</span></h2>
    <p>
The following tutorial demonstrates basic setup and usage of Analytics, Cloud, and Performance libraries in an Eclipse project. To complete the tutorial, you will need your application key for the Cloud, Analytics, and Performance services.  <a class="external-link external-link" href="https://github.com/appcelerator-developer-relations/APSAndroidJava" target="_blank">Download</a> a complete version of the project.    </p>
    <p>
<strong class=" ">To create a basic application using APS</strong>:    </p>
<ol class=" "><li class=" ">    <p>
In Eclipse, create a new Android project with a Blank Activity.    </p>
</li><li class=" ">    <p>
Unpack the <tt class=" ">appcelerator-sdk-android-&lt;VERSION&gt;.zip</tt> file.    </p>
</li><li class=" ">    <p>
Copy the  <tt class=" ">appcelerator-sdk-android-&lt;VERSION&gt;.jar</tt>  file to the  <tt class=" ">libs</tt>  folder of your Android project (if you wish to use Maven or Gradle, see &quot;<a class="document-link " href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK-section-43298718_QuickStartGuideforAndroidAPSSDK-BuildingtheApplication">Building the Application</a>&quot; below for setup instructions).    </p>
</li><li class=" ">    <p>
Modify the project's  <tt class=" ">AndroidManifest.xml</tt>  file to include the  <tt class=" ">ACCESS_NETWORK_STATE</tt> ,  <tt class=" ">ACCESS_WIFI_STATE</tt> ,  <tt class=" ">GET_TASKS,  </tt> <tt class=" ">INTERNET</tt> ,  <tt class=" ">READ_LOGS</tt>  and  <tt class=" ">WRITER_EXTERNAL_STORAGE</tt>  user permissions and declare the  <tt class=" ">com.appcelerator.aps.AnalyticsService</tt>  as a Service class, which allows the APS library to send analytic events to the APS servers while the application is in the background:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">AndroidManifest.xml</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">&lt;?xml version=</code><code class="string">"1.0"</code><code class="plain"> encoding=</code><code class="string">"utf-8"</code><code class="plain">?&gt;</code></div>
<div class="line"><code class="plain">&lt;manifest xmlns:android=</code><code class="string">"http://schemas.android.com/apk/res/android"</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">package</code><code class="plain">=</code><code class="string">"com.appcelerator.sample"</code></div>
<div class="line"><code class="plain">    android:versionCode=</code><code class="string">"1"</code></div>
<div class="line"><code class="plain">    android:versionName=</code><code class="string">"1.0"</code><code class="plain"> &gt;</code></div>
<div class="line"><code class="plain">    &lt;!-- Add these permissions to enable Analytics, Cloud and Performance --&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.ACCESS_NETWORK_STATE"</code><code class="plain">/&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.ACCESS_WIFI_STATE"</code><code class="plain">/&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.INTERNET"</code><code class="plain">/&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.WRITE_EXTERNAL_STORAGE"</code><code class="plain">/&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.GET_TASKS"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.READ_LOGS"</code><code class="plain">/&gt;</code></div>
<div class="line"><code class="plain">    &lt;application&gt;</code></div>
<div class="line"><code class="plain">        &lt;activity&gt;</code></div>
<div class="line"><code class="plain">            ...</code></div>
<div class="line"><code class="plain">        &lt;/activity&gt;</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">        &lt;!-- Add </code><code class="keyword">this</code><code class="plain"> service to enable Analytics --&gt;</code></div>
<div class="line"><code class="plain">        &lt;service android:name=</code><code class="string">"com.appcelerator.aps.APSAnalyticsService"</code></div>
<div class="line"><code class="plain">            android:exported=</code><code class="string">"false"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">    &lt;/application&gt;</code></div>
<div class="line"><code class="plain">&lt;/manifest&gt;</code></div>
</div>
</div></li><li class=" ">    <p>
Add the following import statement to the main Activity of the project:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">MainActivity.java</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">import</code><code class="plain"> com.appcelerator.aps.APSServiceManager;</code></div>
</div>
</div></li><li class=" ">    <p>
In the main Activity's  <tt class=" ">onCreate()</tt>  method, add the following method call to enable the APS services.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">MainActivity.java</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">APSServiceManager.getInstance().enable(getApplicationContext(), </code><code class="string">"APP_KEY"</code><code class="plain">);</code></div>
</div>
</div>    <p>
The Android application is now ready to make method calls using the APS SDK APIs.    </p>
</li></ol>    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-ModifytheApplication">
        <h3 class="heading "><span>Modify the Application</span></h3>
    <p>
Customize the application's UI to display a spinner, text field and button, and add some logic to respond to user interaction.  The spinner will display a list of available user accounts.  The user can enter their password in the text field, then click the button to log in.    </p>
<ol class=" "><li class=" ">    <p>
Open the fragment layout XML file (<tt class=" ">res/layout/fragment_main.xml</tt>) in the Graphical Layout editor.    </p>
</li><li class=" ">    <p>
Remove the &quot;Hello World!&quot; label.    </p>
</li><li class=" ">    <p>
Drag a Spinner widget, EditText widget (password text field) and Button widget into the view.<br/>        <img src="images/download/attachments/43298718/ModifyGui.png" alt="images/download/attachments/43298718/ModifyGui.png" class="confluence-embedded-image"/>
            </p>
</li><li class=" ">    <p>
In the <tt class=" ">MainActivity.java</tt> file, modify the code to save an instance of the current activity, Spinner and EditText widgets.  Modify the application to bind a <tt class=" ">doClick</tt> method to the Button's <tt class=" ">onClick</tt> listener and create an empty function called <tt class=" ">populateSpinner</tt>.  You need to also import additional packages.  In the following sections, you will add code to these handlers that call the Cloud, Analytics and Performance services.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">MainActivity.java</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="comments">// Import the following packages</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> android.app.Activity;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> android.util.Log;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> android.widget.ArrayAdapter;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> android.widget.Button;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> android.widget.EditText;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> android.widget.Spinner;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> java.util.HashMap;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> org.json.JSONArray;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> com.appcelerator.aps.APSAnalytics;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> com.appcelerator.aps.APSCloudException;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> com.appcelerator.aps.APSPerformance;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> com.appcelerator.aps.APSResponse;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> com.appcelerator.aps.APSResponseHandler;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> com.appcelerator.aps.APSServiceManager;</code></div>
<div class="line"><code class="keyword">import</code><code class="plain"> com.appcelerator.aps.APSUsers;</code></div>
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">class</code><code class="plain"> MainActivity </code><code class="keyword">extends</code><code class="plain"> ActionBarActivity {</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// Handle to current activity</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">private</code><code class="plain"> </code><code class="keyword">static</code><code class="plain"> Activity currentActivity;</code></div>
<div class="line"><code class="plain">    </code><code class="color1">@Override</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">protected</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> onCreate(Bundle savedInstanceState) {</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">super</code><code class="plain">.onCreate(savedInstanceState);</code></div>
<div class="line"><code class="plain">        setContentView(R.layout.activity_main);</code></div>
<div class="line"><code class="plain">        </code><code class="comments">// Save the current activity</code></div>
<div class="line"><code class="plain">        currentActivity = </code><code class="keyword">this</code><code class="plain">;</code></div>
<div class="line"><code class="plain">        APSServiceManager.getInstance().enable(getApplicationContext(), </code><code class="string">"APP_KEY"</code><code class="plain">);</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">if</code><code class="plain"> (savedInstanceState == </code><code class="keyword">null</code><code class="plain">) {</code></div>
<div class="line"><code class="plain">            getSupportFragmentManager().beginTransaction()</code></div>
<div class="line"><code class="plain">                    .add(R.id.container, </code><code class="keyword">new</code><code class="plain"> PlaceholderFragment())</code></div>
<div class="line"><code class="plain">                    .commit();</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">class</code><code class="plain"> PlaceholderFragment </code><code class="keyword">extends</code><code class="plain"> Fragment {</code></div>
<div class="line"><code class="plain">        </code><code class="comments">// Handle to Spinner and EditText widgets</code></div>
<div class="line"><code class="plain">    	Spinner spinner;</code></div>
<div class="line"><code class="plain">    	EditText textField;</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">public</code><code class="plain"> PlaceholderFragment() {</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain">        </code><code class="color1">@Override</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">public</code><code class="plain"> View onCreateView(LayoutInflater inflater, ViewGroup container,</code></div>
<div class="line"><code class="plain">                Bundle savedInstanceState) {</code></div>
<div class="line"><code class="plain">            View rootView = inflater.inflate(R.layout.fragment_main, container, </code><code class="keyword">false</code><code class="plain">);</code></div>
<div class="line"><code class="plain">         </code></div>
<div class="line"><code class="plain">            </code><code class="comments">// Bind the Button do the doClick method</code></div>
<div class="line"><code class="plain">            Button button = (Button)rootView.findViewById(R.id.button1);</code></div>
<div class="line"><code class="plain">            button.setOnClickListener(</code><code class="keyword">new</code><code class="plain"> Button.OnClickListener()</code></div>
<div class="line"><code class="plain">            {</code></div>
<div class="line"><code class="plain">                </code><code class="color1">@Override</code></div>
<div class="line"><code class="plain">                </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> onClick(View v){</code></div>
<div class="line"><code class="plain">                    doClick();</code></div>
<div class="line"><code class="plain">                }</code></div>
<div class="line"><code class="plain">            });</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">            </code><code class="comments">// Save the Spinner and EditText instances</code></div>
<div class="line"><code class="plain">            spinner = (Spinner)rootView.findViewById(R.id.spinner1);</code></div>
<div class="line"><code class="plain">            textField = (EditText)rootView.findViewById(R.id.editText1);</code></div>
<div class="line"><code class="plain">            </code><code class="comments">// Place holder for the next tutorial steps</code></div>
<div class="line"><code class="plain">            populateSpinner();</code></div>
<div class="line"><code class="plain">            </code><code class="keyword">return</code><code class="plain"> rootView;</code></div>
<div class="line"><code class="plain">        }      </code></div>
<div class="line"><code class="plain">        </code><code class="comments">// Placeholder for next tutorial steps</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> doClick() {         	</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">        </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> populateSpinner() {</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div></li></ol>    </div>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-BuildingtheApplication">
        <h3 class="heading "><span>Building the Application</span></h3>
    <p>
If you use Maven or Gradle as part of your build process, you will need to publish the APS SDK to your local Maven repository and add the APS SDK as a dependency to your project.    </p>
    <p>
First, unzip the APS SDK and install the dependencies into your local Maven repository:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">unzip appcelerator-sdk-android-1.0.0.zip</code></div>
<div class="line"><code class="plain">mvn </code><code class="functions">install</code><code class="plain">:</code><code class="functions">install</code><code class="plain">-</code><code class="functions">file</code><code class="plain"> -Dfile=appcelerator-sdk-android-1.0.0</code><code class="plain">/appcelerator-sdk-android-1</code><code class="plain">.0.0.jar -DgroupId=com.appcelerator -DartifactId=appcelerator-sdk-android -Dversion=1.0.0 -Dpackaging=jar</code></div>
</div>
</div>    <p>
Next, add the following lines of code to your Maven or Gradle POMs:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">Gradle</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">dependencies {</code></div>
<div class="line"><code class="plain">    compile </code><code class="string">'com.appcelerator: appcelerator-sdk-android:1.0.0'</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div><div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">Maven</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">&lt;dependencies&gt;</code></div>
<div class="line"><code class="plain">    &lt;dependency&gt;</code></div>
<div class="line"><code class="plain">        &lt;groupId&gt;com.appcelerator&lt;/groupId&gt;</code></div>
<div class="line"><code class="plain">        &lt;artifactId&gt;appcelerator-sdk-android&lt;/artifactId&gt;</code></div>
<div class="line"><code class="plain">        &lt;version&gt;</code><code class="value">1.0</code><code class="plain">.</code><code class="value">0</code><code class="plain">&lt;/version&gt;</code></div>
<div class="line"><code class="plain">    &lt;/dependency&gt;</code></div>
<div class="line"><code class="plain">&lt;/dependencies&gt;</code></div>
</div>
</div>    </div>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-CaptureUserSessionEvents">
        <h3 class="heading "><span>Capture User Session Events</span></h3>
    <p>
Unlike the iOS and Titanium platforms, you need to explicitly make analytic method calls in the application to send user session events to the Analytics service to capture user activity.    </p>
    <p>
Use the Activity's lifetime events to track when the user is actively using your application.  Call the APSAnalytics' <tt class=" ">sendAppEnrollEvent()</tt> method in the <tt class=" ">onCreateMethod</tt> <tt class=" ">()</tt>, which indicates the first installation or upgrade of the application.    </p>
    <p>
Before calling API calls to the APSAnalytics class, you need to get a shared instance of the APSAnalytics class using the <tt class=" ">getInstance()</tt> method.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="color1">@Override</code></div>
<div class="line"><code class="keyword">protected</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> onCreate(Bundle savedInstanceState) {</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">super</code><code class="plain">.onCreate(savedInstanceState);</code></div>
<div class="line"><code class="plain">    setContentView(R.layout.activity_main);</code></div>
<div class="line"><code class="plain">    APSAnalytics.getInstance().sendAppEnrollEvent();</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">    </code><code class="comments">// Other init calls...</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div>    <p>
Use <tt class=" ">onPause()</tt> and <tt class=" ">onResume() </tt>to call the APSAnalytics<tt class=" ">'</tt>   <tt class=" ">sendAppBackgroundEvent()</tt> and  <tt class=" ">sendAppForegroundEvent()</tt>, respectively.  These two APSAnalytics methods send user session events to the APS analytics servers to track how long a user engages with your application.      </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="color1">@Override</code></div>
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> onPause(){</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">super</code><code class="plain">.onPause();</code></div>
<div class="line"><code class="plain">    APSAnalytics.getInstance().sendAppBackgroundEvent();</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line"><code class="color1">@Override</code></div>
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> onResume(){</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">super</code><code class="plain">.onResume();</code></div>
<div class="line"><code class="plain">    APSAnalytics.getInstance().sendAppForegroundEvent();</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div>    </div>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-SendanAnalyticsFeatureEvent">
        <h3 class="heading "><span>Send an Analytics Feature Event</span></h3>
    <p>
Besides user session events, you can also send custom analytics events, as shown in this example. There are two types of custom events: feature events and navigation events.    </p>
    <p>
In the <tt class=" ">doClick</tt> <tt class=" ">()</tt> function, add a APSAnalytics' <tt class=" ">sendAppFeatureEvent()</tt> method call to send a feature event with the string &quot; sample.feature.login &quot;. The optional second parameter is set to null   for this example, but you can send additional data as a JSON object with the event.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">MainActivity.java</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> doClick(View view){</code></div>
<div class="line"><code class="plain">   	APSAnalytics.getInstance().sendAppFeatureEvent(</code><code class="string">"sample.feature.login"</code><code class="plain">, </code><code class="keyword">null</code><code class="plain">);</code></div>
<div class="line"><code class="plain">}; </code></div>
</div>
</div>    </div>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-QueryCloudUsers">
        <h3 class="heading "><span>Query Cloud Users</span></h3>
    <p>
To use the APS Cloud component, most of the methods require a user to be logged in.  This sample uses the Spinner widget to select a Cloud user accounts.  To populate the Spinner values, the application needs to retrieve a list of users. Use the <tt class=" ">APSUsers.query()</tt> method to retrieve a list of user accounts.    </p>
    <p>
Every APS Cloud method includes a <tt class=" ">handler</tt> parameter that specifies the callback to handle the server response. The callback is passed an <tt class=" ">APSResponse</tt> object that contains response metadata (such as success or failure) and the response payload.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">MainActivity.java</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> populateSpinner() {</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">try</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">        APSUsers.query(</code><code class="keyword">null</code><code class="plain">, </code><code class="keyword">new</code><code class="plain"> APSResponseHandler() {</code></div>
<div class="line"><code class="plain">            </code><code class="color1">@Override</code></div>
<div class="line"><code class="plain">            </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> onResponse(</code><code class="keyword">final</code><code class="plain"> APSResponse e) {</code></div>
<div class="line"><code class="plain">                </code><code class="keyword">if</code><code class="plain"> (e.getSuccess()) {</code></div>
<div class="line"><code class="plain">                    </code><code class="keyword">try</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">	                    JSONArray payload = e.getResponse().getJSONArray(</code><code class="string">"users"</code><code class="plain">);</code></div>
<div class="line"><code class="plain">	                    String[] items = </code><code class="keyword">new</code><code class="plain"> String[payload.length()];</code></div>
<div class="line"><code class="plain">	                    </code><code class="keyword">for</code><code class="plain"> (</code><code class="keyword">int</code><code class="plain"> i = </code><code class="value">0</code><code class="plain">; i &lt; payload.length(); i++) {</code></div>
<div class="line"><code class="plain">	                        items[i] = payload.getJSONObject(i).getString(</code><code class="string">"username"</code><code class="plain">);</code></div>
<div class="line"><code class="plain">	                    }</code></div>
<div class="line"><code class="plain">	                    ArrayAdapter spinnerArrayAdapter = </code><code class="keyword">new</code><code class="plain"> ArrayAdapter(currentActivity,</code></div>
<div class="line"><code class="plain">	                        android.R.layout.simple_spinner_item, items);</code></div>
<div class="line"><code class="plain">	                    spinner.setAdapter(spinnerArrayAdapter); </code></div>
<div class="line"><code class="plain">	                } </code><code class="keyword">catch</code><code class="plain"> (Exception ex) {</code></div>
<div class="line"><code class="plain">	                    Log.e(</code><code class="string">"ACSUsers"</code><code class="plain">, </code><code class="string">"Error parsing JSON object: "</code><code class="plain"> + ex.toString());</code></div>
<div class="line"><code class="plain">	                }</code></div>
<div class="line"><code class="plain">                }                </code></div>
<div class="line"><code class="plain">                </code><code class="keyword">else</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">                	Toast.makeText(currentActivity, </code><code class="string">"ERROR: Unable to get users."</code><code class="plain">, Toast.LENGTH_SHORT).show();</code></div>
<div class="line"><code class="plain">                    Log.e(</code><code class="string">"ACSUsers"</code><code class="plain">, e.getResponseString());</code></div>
<div class="line"><code class="plain">                }                   </code></div>
<div class="line"><code class="plain">            }</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">            </code><code class="color1">@Override</code></div>
<div class="line"><code class="plain">            </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> onException(APSCloudException e) {</code></div>
<div class="line"><code class="plain">                Log.e(</code><code class="string">"ACSUsers"</code><code class="plain">, e.toString());</code></div>
<div class="line"><code class="plain">            }</code></div>
<div class="line"><code class="plain">        });</code></div>
<div class="line"><code class="plain">    } </code><code class="keyword">catch</code><code class="plain"> (APSCloudException e) {</code></div>
<div class="line"><code class="plain">        Log.e(</code><code class="string">"ACSUsers"</code><code class="plain">, e.toString());</code></div>
<div class="line"><code class="plain">    }     </code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div>    </div>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-LogintoaCloudAccount">
        <h3 class="heading "><span>Login to a Cloud Account</span></h3>
    <p>
To login to a Cloud account, you need the username and password.  Since the application was modified to get all available user accounts and populate the Spinner, the application needs to get the current value of the spinner and the text entered in the EditText widget.  These values are passed to the <tt class=" ">APSUsers.login()</tt> method.  Modify the <tt class=" ">doClick()</tt> method to login to a Cloud user account.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> doClick(){</code></div>
<div class="line"><code class="plain">	APSAnalytics.getInstance().sendAppFeatureEvent(</code><code class="string">"sample.feature.login"</code><code class="plain">, </code><code class="keyword">null</code><code class="plain">);</code></div>
<div class="line"><code class="plain">	</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// Get the current value of the Spinner and EditField widgets</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">final</code><code class="plain"> String username = spinner.getSelectedItem().toString();</code></div>
<div class="line"><code class="plain">	String password = textField.getText().toString();</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Use a HashMap to send the method parameters for the request</code></div>
<div class="line"><code class="plain">    HashMap&lt;String, Object&gt; data = </code><code class="keyword">new</code><code class="plain"> HashMap&lt;String, Object&gt;();</code></div>
<div class="line"><code class="plain">    data.put(</code><code class="string">"login"</code><code class="plain">, username);</code></div>
<div class="line"><code class="plain">    data.put(</code><code class="string">"password"</code><code class="plain">, password);</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    </code><code class="keyword">try</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">        APSUsers.login(data, </code><code class="keyword">new</code><code class="plain"> APSResponseHandler() {</code></div>
<div class="line"><code class="plain">            </code><code class="color1">@Override</code></div>
<div class="line"><code class="plain">            </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> onResponse(</code><code class="keyword">final</code><code class="plain"> APSResponse e) {</code></div>
<div class="line"><code class="plain">                </code><code class="keyword">if</code><code class="plain"> (e.getSuccess()) {</code></div>
<div class="line"><code class="plain">                	Log.i(</code><code class="string">"ACSUsers"</code><code class="plain">, </code><code class="string">"Successfully logged in as "</code><code class="plain"> + username);</code></div>
<div class="line"><code class="plain">                }</code></div>
<div class="line"><code class="plain">                </code><code class="keyword">else</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">                    Log.e(</code><code class="string">"ACSUsers"</code><code class="plain">, e.getMessage());</code></div>
<div class="line"><code class="plain">                }                   </code></div>
<div class="line"><code class="plain">            }</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">            </code><code class="color1">@Override</code></div>
<div class="line"><code class="plain">            </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> onException(APSCloudException e) {</code></div>
<div class="line"><code class="plain">                Log.e(</code><code class="string">"ACSUsers"</code><code class="plain">, e.toString());</code></div>
<div class="line"><code class="plain">            }</code></div>
<div class="line"><code class="plain">        });</code></div>
<div class="line"><code class="plain">    } </code><code class="keyword">catch</code><code class="plain"> (APSCloudException e) {</code></div>
<div class="line"><code class="plain">        Log.e(</code><code class="string">"ACSUsers"</code><code class="plain">, e.toString());</code></div>
<div class="line"><code class="plain">    }          	</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div>    </div>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-LogaHandledException">
        <h3 class="heading "><span>Log a Handled Exception</span></h3>
    <p>
The Performance library automatically logs application crashes (unhandled exceptions) and handled exceptions to the backend Performance service. You can also leave breadcrumbs in your application, which are   developer-defined text strings (up to 140 characters) that are analogous  to log messages.     </p>
    <p>
For example, you can replace the <tt class=" ">Log</tt> calls in the catch statements with the APSPerformance's <tt class=" ">logHandledException()</tt> calls.  Instead, the application will generate a runtime exception, and then call the <tt class=" ">logHandledException()</tt> method to log that exception to the Performance backend.    </p>
    <p>
Before making API calls to the APSPerformance class, you need to retrieve a shared instance of the class using the <tt class=" ">getInstance()</tt> method.    </p>
    <p>
To the doClick method, add the following new code:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">MainActivity.java</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> doClick(){</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// Analytics call...</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// Cloud call...</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">try</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">    	</code><code class="keyword">throw</code><code class="plain"> </code><code class="keyword">new</code><code class="plain"> Exception(</code><code class="string">"Something happened..."</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    } </code><code class="keyword">catch</code><code class="plain"> (Exception exception) {</code></div>
<div class="line"><code class="plain">    	APSPerformance.getInstance().logHandledException(exception);</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div>    </div>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-SetaUsernameforCrashLogs">
        <h3 class="heading "><span>Set a Username for Crash Logs</span></h3>
    <p>
To help differentiate crash logs, use the APSPerformance's <tt class=" ">setUsername()</tt> method.  When the application successfully logs in to the Cloud user account, the application calls APSPerformance's <tt class=" ">setUsername()</tt> method.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">MainActivity.java</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">APSUsers.login(data, </code><code class="keyword">new</code><code class="plain"> APSResponseHandler() {</code></div>
<div class="line"><code class="plain">    </code><code class="color1">@Override</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> onResponse(</code><code class="keyword">final</code><code class="plain"> APSResponse e) {</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">if</code><code class="plain"> (e.getSuccess()) {</code></div>
<div class="line"><code class="plain">            Log.i(</code><code class="string">"ACSUsers"</code><code class="plain">, </code><code class="string">"Successfully logged in as "</code><code class="plain"> + username);</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">            </code><code class="comments">// Add this method call</code></div>
<div class="line"><code class="plain">            APSPerformance.getInstance().setUsername(</code><code class="string">"username"</code><code class="plain">);</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">else</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">            Log.e(</code><code class="string">"ACSUsers"</code><code class="plain">, e.getMessage());</code></div>
<div class="line"><code class="plain">        }                   </code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">});</code></div>
</div>
</div>    </div>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-TestingtheTutorialSample">
        <h3 class="heading "><span>Testing the Tutorial Sample</span></h3>
    <p>
Before testing the sample, you need to create user accounts for the application to query.  To create Cloud user accounts:    </p>
<ol class=" "><li class=" ">    <p>
Log in to <a class="external-link external-link" href="https://platform.appcelerator.com/" target="_blank">Appcelerator Dashboard</a>.    </p>
</li><li class=" ">    <p>
In Dashboard, select your application from the <strong class=" ">APIs</strong> menu in the upper-left corner.    </p>
</li><li class=" ">    <p>
In the left navigation bar, click <strong class=" ">Manage</strong> <strong class=" ">Data</strong>.    </p>
</li><li class=" ">    <p>
Click <strong class=" ">Users</strong>, then the <strong class=" ">Create User</strong> button.    </p>
</li><li class=" ">    <p>
In the <strong class=" ">Username</strong> field enter the user's username.    </p>
</li><li class=" ">    <p>
In the <strong class=" ">Password</strong> field enter the new user's password (four-character minimum).    </p>
</li><li class=" ">    <p>
Click <strong class=" ">Save Changes</strong>.    </p>
</li></ol>    <p>
    </p>
    <div class="confbox admonition admonition-info aui-message hint shadowed information-macro">
        
    <p>
To create a Cloud user account, you only need a username or e-mail address, and a password.    </p>
    <p>
For more information about managing Cloud user accounts, see <a class="document-link unresolved" href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK">Managing Users</a>.    </p>
    </div>
    
    <p>
After you have created a few Cloud user accounts, build the sample and launch it on either a device or emulator.    </p>
    <p>
Once the application launches:    </p>
<ol class=" "><li class=" ">    <p>
Click on the Picker/Spinner.  You should see a list of all the Cloud user accounts you added.    </p>
</li><li class=" ">    <p>
Select a user account from the Picker/Spinner and enter that user's password.  Click the Button.  In the log output, you should see an info log that login command was successful or not.    </p>
</li><li class=" ">    <p>
Go back to the <a class="external-link external-link" href="https://platform.appcelerator.com/" target="_blank">Appcelerator Dashboard</a>.    </p>
</li><li class=" ">    <p>
In Dashboard, select your application from the <strong class=" ">Apps</strong> menu in the upper-left corner.    </p>
</li><li class=" ">    <p>
In the left navbar, click <strong class=" ">Performance</strong>, then <strong class=" ">Handled Exceptions</strong>. You should see the &quot;Something happened...&quot; exception in the list.    </p>
</li><li class=" ">    <p>
In the left navbar, click <strong class=" ">Search by User</strong>.  Enter the username of the account that successfully logged in.  Click the username.  You should see a crash report for the user.    </p>
</li><li class=" ">    <p>
In the left navbar, select <strong class=" ">Analytics</strong>.    </p>
</li><li class=" ">    <p>
In the Real Time view, you should see at least one active session.    </p>
</li><li class=" ">    <p>
In the left navbar, click <strong class=" ">Events</strong>.  You should see the &quot;sample.feature.login&quot; feature event.    </p>
</li></ol>    </div>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-NextStepsforAppceleratorAnalytics,CloudandPerformance">
        <h3 class="heading "><span>Next Steps for Appcelerator Analytics, Cloud and Performance</span></h3>
    <p>
This tutorial only covers a small portion of what the Analytics, Cloud and Performance services can provide.  For more in-depth information about these features, see the following topics:    </p>
<ul class=" "><li class=" ">    <p>
<a class="document-link " href="#!/guide/APS_Analytics_for_Android">APS Analytics for Android</a>    </p>
</li><li class=" ">    <p>
<a class="external-link external-link" href="/arrowdb/latest/#!/guide/android">APS Cloud for Android</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/APS_Performance_for_Android">APS Performance for Android</a>    </p>
</li></ul>    </div>
    </div>
    <div class="section section-2 " id="43298718_QuickStartGuideforAndroidAPSSDK-SettingupAppceleratorTest">
        <h2 class="heading "><span>Setting up Appcelerator Test</span></h2>
    <p>
Before you can use Appcelerator Test, you need to configure it to enable it to connect to the Test service. To do this you run a small Java utility that makes some changes to your AndroidManifest.xml file. In particular, it adds some required permissions, as well as an Intent Filter and Service. Lastly, the tool registers your application with the external Test service, so that it's authorized for use.    </p>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-SetuptheApplication">
        <h3 class="heading "><span>Set up the Application</span></h3>
    <p>
To setup your application to use Appcelerator Test, download and run the <tt class=" ">appcelerator-test</tt> Utility.    </p>
<ol class=" "><li class=" ">    <p>
Download the <tt class=" ">appcelerator-test</tt> Utility and copy your Appcelerator Test application key from the Appcelerator Dashboard.  (For instructions, see <a class="document-link " href="#!/guide/Managing_Non-Titanium_Client_Applications_in_Dashboard">Managing Non-Titanium Client Applications in Dashboard</a>.)    </p>
</li><li class=" ">    <p>
Unpack the file to a common location. You will need to use this utility to enable Appcelerator Test for each of your applications.    </p>
</li></ol>    <p>
You can run the appcelerator-test utility either against an Android project (<i class=" ">static</i> instrumentation), or an APK file.    </p>
    <p>
<strong class=" ">To run the appcelerator-test utility against an APK file, first export your project as an APK file, then run the following command, and install the APK file to a device or emulator:</strong>    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">java -jar appcelerator-test.jar -apk &lt;APK_FILE&gt; -androidsdk &lt;PATH_TO_ANDROID_SDK&gt; -dashboardurl &lt;APPC_DASHBOARD_URL&gt; -app &lt;APP_GUID&gt; -username &lt;APPC_PLATFORM_USERNAME&gt; -password &lt;APPC_PLATFORM_PASSWORD&gt;</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">### Example</code></div>
<div class="line"><code class="plain">java -jar appcelerator-test.jar -apk ~/Documents/Eclipse_Workspace/SampleProject/SampleProject.apk -androidsdk ~/opt/android-sdk/ -appkey </code><code class="string">"11111111-2222-3333-4444-555555555555"</code><code class="plain"> -dashboardurl https:</code><code class="comments">//platform.appcelerator.com -username user@appcelerator.com  -password secret</code></div>
</div>
</div>    <p>
<strong class=" ">To run the appcelerator-test utility against a project, run the following command, then build the project and install the application to a device or emulator:</strong>    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">java -jar appcelerator-test.jar -project &lt;PATH_TO_PROJECT&gt; -dashboardurl &lt;APPC_DASHBOARD_URL&gt; -app &lt;APP_GUID&gt; -username &lt;APPC_PLATFORM_USERNAME&gt; -password &lt;APPC_PLATFORM_PASSWORD&gt;</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">### Example</code></div>
<div class="line"><code class="plain">java -jar appcelerator-test.jar -project ~/Documents/Eclipse_Workspace/SampleProject/ -appkey </code><code class="string">"11111111-2222-3333-4444-555555555555"</code><code class="plain"> -dashboardurl https:</code><code class="comments">//platform.appcelerator.com -username user@appcelerator.com  -password secret</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">### Successful Response</code></div>
<div class="line"><code class="plain">Mobile App Object </code><code class="string">"SampleProject_11111111-2222-3333-4444-555555555555"</code><code class="plain"> representing your Application </code><code class="string">"SampleProject"</code><code class="plain"> has been created in CloudTest Repository.</code></div>
</div>
</div>    <p>
This command modifies the Android Manifest file to require extra user permissions, and add an Intent Filter and Service to the application. The final manifest file should look similar to the one below:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">AndroidManifest.xml</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">&lt;?xml version=</code><code class="string">"1.0"</code><code class="plain"> encoding=</code><code class="string">"utf-8"</code><code class="plain">?&gt;</code></div>
<div class="line"><code class="plain">&lt;manifest xmlns:android=</code><code class="string">"http://schemas.android.com/apk/res/android"</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">package</code><code class="plain">=</code><code class="string">"com.appcelerator.sample"</code></div>
<div class="line"><code class="plain">    android:versionCode=</code><code class="string">"1"</code></div>
<div class="line"><code class="plain">    android:versionName=</code><code class="string">"1.0"</code><code class="plain"> &gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.ACCESS_NETWORK_STATE"</code><code class="plain">/&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.ACCESS_WIFI_STATE"</code><code class="plain">/&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.INTERNET"</code><code class="plain">/&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.WRITE_EXTERNAL_STORAGE"</code></div>
<div class="line"><code class="plain">                 android:maxSdkVersion=</code><code class="string">"18"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.GET_TASKS"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.READ_LOGS"</code><code class="plain">/&gt;</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">    &lt;!-- Added by appcelerator-test utility --&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.READ_PHONE_STATE"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.BLUETOOTH"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">    &lt;uses-permission android:name=</code><code class="string">"android.permission.BLUETOOTH_ADMIN"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">    </code></div>
<div class="line"><code class="plain">    &lt;application&gt;</code></div>
<div class="line"><code class="plain">        &lt;activity&gt;</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">            &lt;!-- Added by appcelerator-test utility --&gt;</code></div>
<div class="line"><code class="plain">            &lt;intent-filter&gt;</code></div>
<div class="line"><code class="plain">                &lt;data android:scheme=</code><code class="string">"touchtest-&lt;APP_GUID&gt;"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">                &lt;action android:name=</code><code class="string">"android.intent.action.VIEW"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">                &lt;category android:name=</code><code class="string">"android.intent.category.BROWSABLE"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">                &lt;category android:name=</code><code class="string">"android.intent.category.DEFAULT"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">            &lt;/intent-filter&gt;</code></div>
<div class="line"><code class="plain">        &lt;/activity&gt;</code></div>
<div class="line"><code class="plain">        &lt;service android:name=</code><code class="string">"com.appcelerator.aps.APSAnalyticsService"</code></div>
<div class="line"><code class="plain">                        android:exported=</code><code class="string">"false"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">        &lt;!-- Added by appcelerator-test utility --&gt;</code></div>
<div class="line"><code class="plain">        &lt;service android:name=</code><code class="string">"com.soasta.android.touchtest.TouchTestService"</code><code class="plain"> android:enabled=</code><code class="string">"true"</code><code class="plain"> android:exported=</code><code class="string">"false"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">    &lt;/application&gt;</code></div>
<div class="line"><code class="plain">&lt;/manifest&gt;</code></div>
</div>
</div>    </div>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-InstalltheTouchTestAgent">
        <h3 class="heading "><span>Install the TouchTest Agent</span></h3>
    <p>
To run tests on a device you need to install the <strong class=" ">TouchTest Agent </strong>a light-weight software agent that controls the device during test recording and playback. Once installed you also need to register your device with the Test service, and have the device approved by an administrator (see <a class="document-link " href="#!/guide/Getting_started_with_Test-section-43298707_GettingstartedwithTest-approval">Approving devices and simulators</a>).    </p>
    <p>
The TouchTest Agent application supports devices running Android 2.3.3 and later, and Android simulators running 2.3.5 and later. The install steps are the same for Android devices and emulators.    </p>
    <p>
<strong class=" ">To install TouchTest Agent on an Android device or emulator</strong>:    </p>
<ol class=" "><li class=" ">    <p>
Point your device's or emulator's web browser to the TouchTest Agent URL (    <span style="color: #000000;">
 <strong class=" ">    <a class="external-link external-link" href="http://appctest-2.appcelerator.com/concerto/touchtest" target="_blank">http://appctest-2.appcelerator.com/concerto/touchtest</a>    </strong>).    </span>
    </p>
</li><li class=" ">    <p>
In the login form enter your enter Appcelerator Platform credentials. You must append your organization ID to your login name.    </p>
</li><li class=" ">    <p>
Click <strong class=" ">Tap Here to Download TouchTest Agent.</strong>    </p>
</li><li class=" ">    <p>
Open the APK file that was downloaded to install the TouchTest Agent.    </p>
</li><li class=" ">    <p>
Open the TouchTest Agent application.    </p>
</li><li class=" ">    <p>
In the <strong class=" ">TouchTest Agent URL</strong> field enter the TouchTest Agent URL     <span style="color: #000000;">
and     </span>
click <strong class=" ">Go</strong>.    </p>
</li><li class=" ">    <p>
Enter your Appcelerator Platform credentials. You must append your organization ID to your login name.    </p>
</li><li class=" ">    <p>
On successful login, enter a name for your device and click <strong class=" ">Submit for Approval</strong>.    </p>
</li><li class=" ">    <p>
Once the device has been approved, the TouchTest Agent displays its current connection status to the Test web service, as well as the current TouchTest URL, user name, and TouchTest Agent build number.    </p>
</li></ol>    </div>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-RecordaTestClip">
        <h3 class="heading "><span>Record a Test Clip</span></h3>
    <p>
A <strong class=" ">clip</strong> is the basic building block of a test. You create clips in the <strong class=" ">Clip Editor</strong>. Clips are composed of App Actions &ndash; taps, gestures, text inputs, and so forth &ndash; that simulate actions a user take in an application. When you record a test clip, the actions you take on a device are automatically added as App Actions in the test clip.    </p>
    <p>
For example, the following screenshot shows a test clip containing four recorded actions: a <strong class=" ">tap</strong> operation, followed a <strong class=" ">type</strong> operation, followed by two more <strong class=" ">tap</strong> operations.    </p>
    <p>
        <img src="images/download/attachments/37547709/image2014-3-4_16_46_47.png" alt="images/download/attachments/37547709/image2014-3-4_16_46_47.png" class="confluence-embedded-image confluence-external-resource confluence-content-image-border" width="519"/>
            </p>
    <p>
Typically a recorded test clip is a starting point for you to refine, add validations, inputs, outputs and so forth.    </p>
    <p>
<strong class=" ">To record a test clip</strong>:    </p>
<ol class=" "><li class=" ">    <p>
Open <a class="external-link external-link" href="https://platform.appcelerator.com/" target="_blank">Appcelerator Dashboard</a> and click the <strong class=" ">Test</strong> tab.    </p>
</li><li class=" ">    <p>
Select the application to test from the Application menu in the upper-left corner.    </p>
</li><li class=" ">    <p>
With your application selected, on the <strong class=" ">Central</strong> tab select <strong class=" ">Clips</strong> in the left navigation, then click the <strong class=" ">New</strong> button. The <strong class=" ">Clip Editor</strong> opens a new untitled clip.    </p>
        <img src="images/download/attachments/37547709/image2014-3-16_20_8_24.png" alt="images/download/attachments/37547709/image2014-3-16_20_8_24.png" class="confluence-embedded-image confluence-external-resource"/>
            <p>
    </p>
</li><li class=" ">    <p>
In the Clip Editor, click the <strong class=" ">Record</strong> menu and select <strong class=" ">Record Mobile App</strong>.    </p>
        <img src="images/download/attachments/37547709/image2014-3-16_20_16_47.png" alt="images/download/attachments/37547709/image2014-3-16_20_16_47.png" class="confluence-embedded-image confluence-external-resource"/>
        </li><li class=" ">    <p>
In the <strong class=" ">Choose a Device Agent and Mobile App </strong>dialog select the test device from the upper pane, and the application to test, and click <strong class=" ">Record</strong>.    </p>
    <p>
        <img src="images/download/attachments/37547709/choose_agent_app.png" alt="images/download/attachments/37547709/choose_agent_app.png" class="confluence-embedded-image confluence-external-resource confluence-content-image-border" width="500"/>
            </p>
</li><li class=" ">    <p>
The test application launches on the device. Perform the following actions on the device:    </p>
<ol class=" "><li class=" ">    <p>
Click the Spinner widget.    </p>
</li><li class=" ">    <p>
Select a user account.    </p>
</li><li class=" ">    <p>
Click the EditText widget.    </p>
</li><li class=" ">    <p>
Enter the user's password.    </p>
</li><li class=" ">    <p>
Click <strong class=" ">Done</strong> on the software keyboard.    </p>
</li><li class=" ">    <p>
Click the Button widget.  You should see the following output in the test clip:    </p>
        <img src="images/download/attachments/43298718/TestClipOutput.png" alt="images/download/attachments/43298718/TestClipOutput.png" class="confluence-embedded-image"/>
        </li></ol></li><li class=" ">    <p>
Click the <strong class=" ">Record</strong> button in the Test tab in Dashboard again to stop recording.    </p>
</li><li class=" ">    <p>
Click <strong class=" ">Save</strong> or <strong class=" ">Save As</strong>         <img src="images/download/attachments/37523016/SaveButton.png" alt="images/download/attachments/37523016/SaveButton.png" class="confluence-embedded-image confluence-external-resource"/>
     in the toolbar, give the clip a name or accept the default, and click <strong class=" ">Save</strong>.    </p>
</li></ol>    <p>
To playback a test clip that you've recorded, it needs to be added to a <strong class=" ">test composition</strong>.  For simplicity, you can playback the clip immediately by clicking the  <strong class=" ">Play </strong> button and select  <strong class=" ">Play in Compostion</strong>  in the test clip.    </p>
    <p>
        <img src="images/download/attachments/43298718/Playback.png" alt="images/download/attachments/43298718/Playback.png" class="confluence-embedded-image"/>
            </p>
    <p>
The clip is added to a draft composition and starts playing.  Once the playback completes, results display in the test composition.    </p>
    <p>
        <img src="images/download/attachments/43298718/TestResults.png" alt="images/download/attachments/43298718/TestResults.png" class="confluence-embedded-image"/>
            </p>
    </div>
    <div class="section section-3 " id="43298718_QuickStartGuideforAndroidAPSSDK-NextStepsforAppceleratorTest">
        <h3 class="heading "><span>Next Steps for Appcelerator Test</span></h3>
    <p>
This tutorial only covers the very basics of using the Appcelerator Test service.  For more in-depth information, see <a class="document-link unresolved" href="#!/guide/Quick_Start_Guide_for_Android_APS_SDK">Test</a>.   For more information about the <tt class=" ">appcelerator-test</tt> utility, see <a class="document-link " href="#!/guide/Appcelerator_Test_CLI_Reference">Appcelerator Test CLI Reference</a>.    </p>
    <p>
    </p>
    <p>
    </p>
    </div>
    </div>
        </div><a id="editButton" href="https://wiki.appcelerator.org/pages/editpage.action?pageId=43298718"><span>Edit</span></a>
    
        <div class="footer">
            Created with <a href="http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence" target="_blank">Scroll EclipseHelp Exporter for Confluence</a>.
        </div>
    </div>
</body>
</html>
