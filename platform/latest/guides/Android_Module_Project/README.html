<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Android Module Project</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta content="Scroll EclipseHelp Exporter" name="generator"/>

    <link type="text/css" rel="stylesheet"/>
    <link type="text/css" rel="stylesheet"/>
    <link type="text/css" rel="stylesheet" media="print"/>
</head>
<body>
    <div class="container">
        <div class="header"/>

        <div id="43289002" class="content">
            <h1>Android Module Project</h1>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-Introduction">Introduction</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-Prerequisites">Prerequisites</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-ProjectStructure">Project Structure</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-BuildPropertiesFile">Build Properties File</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-ManifestFile">Manifest File</a>    </p>
</li></ul></li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-CLITasks">CLI Tasks</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-CreateaNewModuleProject">Create a New Module Project</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-BuildandPackagetheModule">Build and Package the Module</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-CleantheProject">Clean the Project</a>    </p>
</li></ul></li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-StudioTasks">Studio Tasks</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-CreateaNewModuleProject.1">Create a New Module Project</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-BuildandPackagetheModule.1">Build and Package the Module</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-StudioToolbar">Studio Toolbar</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-RunasAntBuild">Run as Ant Build</a>    </p>
</li></ul></li></ul></li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-TesttheModule">Test the Module</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-DebugtheModule">Debug the Module</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-Logging">Logging</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-DDMS">DDMS</a>    </p>
</li></ul></li></ul></li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-AddaThird-PartyJAR">Add a Third-Party JAR</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-BundleModuleAssets">Bundle Module Assets</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-AssetsFolder">Assets Folder</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-PlatformFolder">Platform Folder</a>    </p>
</li></ul></li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-DistributeyourModulethroughtheAppceleratorMarketplace">Distribute your Module through the Appcelerator Marketplace</a>    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-KnownIssues">Known Issues</a>    </p>
<ul class="toc-indentation "><li class=" ">    <p>
<a class="document-link " href="#!/guide/Android_Module_Project-section-43289002_AndroidModuleProject-Conflictingjarfilesdetected">Conflicting jar files detected</a>    </p>
</li></ul></li></ul>    <div class="section section-2 " id="43289002_AndroidModuleProject-Introduction">
        <h2 class="heading "><span>Introduction</span></h2>
    <p>
This guide covers how to manage your module project as well as how to add third-party frameworks and bundle assets with your module.  You can use Studio, Ant or Eclipse to build Android modules.    </p>
    </div>
    <div class="section section-2 " id="43289002_AndroidModuleProject-Prerequisites">
        <h2 class="heading "><span>Prerequisites</span></h2>
    <p>
To develop an Android-based Module, you need to install the following tools and setup a few additional environment variables:    </p>
<ul class=" "><li class=" ">    <p>
Titanium SDK    </p>
</li><li class=" ">    <p>
Android SDK 5.0.x (API 21)    </p>
</li><li class=" ">    <p>
Studio or the Appcelerator Command-Line Interface (CLI) for creating modules, and building and running test applications    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Installing_the_Android_NDK">Android NDK</a> and add an ANDROID_NDK environment variable pointing to the NDK folder. (See <a class="document-link " href="#!/guide/Installing_the_Android_NDK">Installing the Android NDK</a>.)    </p>
</li><li class=" ">    <p>
<a class="external-link external-link" href="http://ant.apache.org/bindownload.cgi" target="_blank">Ant</a> 1.7.1 or above must be installed and in your system PATH to build from the command line. (See <a class="document-link " href="#!/guide/Installing_Ant">Installing Ant</a>.)    </p>
</li><li class=" ">    <p>
<a class="document-link " href="#!/guide/Installing_gperf">gperf</a> must be installed and in your system PATH. (See <a class="document-link " href="#!/guide/Installing_gperf">Installing gperf</a>.)    </p>
</li><li class=" ">    <p>
Python, Python setuptools and the markdown module, and Python in your system PATH. (See <a class="document-link " href="#!/guide/Installing_Python">Installing Python</a> and <a class="document-link " href="#!/guide/Installing_Required_Python_Packages">Installing Required Python Packages</a>.)    </p>
</li></ul>    <p>
If you want to use Studio, install:    </p>
<ul class=" "><li class=" ">    <p>
<a class="external-link external-link" href="https://eclipse.org/jdt/" target="_blank">Eclipse Java Development Tools plugin</a> (See <a class="document-link " href="#!/guide/Installing_the_Java_Development_Tools">Installing the Java Development Tools</a>)    </p>
</li><li class=" ">    <p>
<a class="external-link external-link" href="http://developer.android.com/tools/sdk/eclipse-adt.html" target="_blank">Android Development Tools plugin</a> (See <a class="document-link " href="#!/guide/Installing_the_Android_Development_Tools">Installing the Android Development Tools</a>)    </p>
</li></ul>    </div>
    <div class="section section-2 " id="43289002_AndroidModuleProject-ProjectStructure">
        <h2 class="heading "><span>Project Structure</span></h2>
    <p>
A number of files and directories work together to define our module and what it does. Let's take a quick look at each of them:    </p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" "/><tfoot class=" "/><tbody class=" ">    <tr>
            <td class="highlight-grey confluenceTd" rowspan="1" colspan="1">
        <p>
File/Directory    </p>
            </td>
                <td class="highlight-grey confluenceTd" rowspan="1" colspan="1">
        <p>
Description    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
LICENSE    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
The module's full license text; this will be distributed with the module to let other developers know how they can use and redistribute it.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
assets/    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
The directory where you should place module assets, such as images. The items in this directory are added to the JAR library's <tt class=" ">asset</tt> folder, which is distributed with your module.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
documentation/    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
The directory where you should place your module documentation for end-users. The file <a class="external-link external-link" href="http://index.md/" target="_blank">index.md</a> is a Markdown-formatted template file that you should use when writing your module documentation. You may also write your documentation using the <a class="document-link " href="#!/guide/TDoc_Specification">TDoc Specification</a>. This is only required for module distributed in the Appcelerator Marketplace. You can safely ignore this directory if you do not intend to distribute your module.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
example/    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
The directory where your module example(s) should go. The file app.js will be generated to include a sample loading of your module in a test window. This file can be used for quickly testing your module as well as give an example to end-users on how to use your module. This directory is distributed with your module.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
android/build.properties    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
An Ant properties file that contains paths to the Titanium SDK, Google API add-ons, Android NDK and Android SDK on your computer. This file is not distributed with your module.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
android/build.xml    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
The main Ant build script used to build and package the module. This file is not distributed with your module.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
android/lib/    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
Place any third-party JAR dependencies here and they will be bundled up as a part of your module automatically.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
android/manifest    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
A special file that describes metadata about your module and used by the Titanium compiler. This file is required and is distributed with your module.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
android/platform/    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
This optional folder can include an <tt class=" ">android</tt> subdirectory, then add any of the resource directories defined in <a class="external-link external-link" href="http://developer.android.com/guide/topics/resources/providing-resources.html" target="_blank">Android Developer: Providing Resources</a> guide.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
android/src/    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
The source code for the module. This directory is not distributed with your module.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
android/timodule.xml    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
A place to put custom activities and general XML that will end up in the AndroidManifest.xml of apps. Read more about this file in the <a class="document-link " href="#!/guide/tiapp.xml_and_timodule.xml_Reference">tiapp.xml and timodule.xml reference</a>.    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <p>
You can also include an optional <tt class=" ">jni</tt> folder.  This optional folder (as of Titanium SDK 2.1.0) can include C or C++ code to compile shared libraries. You are required to have an <tt class=" ">Application.mk</tt> file in this directory if it is present. Modules using JNI or NDK support via shared libraries will work with both the V8 and Rhino runtimes.    </p>
    <div class="confbox admonition admonition-note aui-message warning shadowed information-macro">
        
    <p>
Since Release 3.3.0, the CLI creates a module project that contains multiple platforms. Each platform contains its own folder with platform-specific resources and common folders for <tt class=" ">assets</tt>, <tt class=" ">documentation</tt> and <tt class=" ">example</tt>.    </p>
    <p>
Prior to Release 3.3.0, none of the previous listed folder are contained in an <tt class=" ">android</tt> folder.    </p>
    </div>
    
    <div class="section section-3 " id="43289002_AndroidModuleProject-BuildPropertiesFile">
        <h3 class="heading "><span>Build Properties File</span></h3>
    <p>
The <tt class=" ">build.properties</tt> file contains build variables used by the Ant CLI.    </p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
        <p>
Variable    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>
Description    </p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
        <p>
Example    </p>
            </td>
        </tr>
</thead><tfoot class=" "/><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
titanium.platform    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
Path to the Titanium SDK <tt class=" ">android</tt> folder    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
/Users/&lt;USERNAME&gt;/Library/Application Support/Titanium/mobilesdk/osx/&lt;VERSION&gt;/android    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
android.platform    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
Path to the Android SDK <tt class=" ">platforms</tt> folder    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
/Users/&lt;USERNAME&gt;/opts/android-sdk/platforms/android-14    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
google.apis    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
Path to the Google APIs <tt class=" ">add-ons</tt> folder    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
/Users/&lt;USERNAME&gt;/opts/android-sdk/add-ons/addon-google_apis-google-14    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
android.ndk    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
Path to the Android NDK (if needed)    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
/Users/&lt;USERNAME&gt;/opts/android-ndk    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <div class="confbox panel panel">
            <div class="title">Titanium SDK 6.0.0 Changes</div>
        <p>
    </p>
    </div>
    </div>
    <div class="section section-3 " id="43289002_AndroidModuleProject-ManifestFile">
        <h3 class="heading "><span>Manifest File</span></h3>
    <p>
Titanium module metadata is described in a special text file named <tt class=" ">manifest</tt>. This file is a simple key/value property format.    </p>
    <p>
Before you distribute your module, you must edit this manifest and change a few values. Some of the values are pre-generated and should not be edited.  These are noted with the comment before them. In the manifest file, any line starting with a hash character (#) is ignored. The following are the descriptions of each entry in the manifest:    </p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" "/><tfoot class=" "/><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
<strong class=" ">Key</strong>    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
<strong class=" ">Description/Purpose</strong>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
version    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
This is the version of your module. You should change this value each time you make major changes and distribute them. Version should be in the dotted notation (X.Y.Z) and must not con-tain any spaces or non-number characters.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
architectures    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
The binary architectures the module supports as a delimited list. Example: armeabi armeabi-v7a<tt class=" "> x86</tt>    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
description    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
This is a human-readable description of your module. It should be short and suitable for display next to your module name.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
author    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
This is a human-readable author name you want to display next to your module. It can simply be your personal name, such as &quot;Jeff Haynie&quot; or an organizational name such as &quot;Appcelerator&quot;.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
license    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
This is a human-readable name of your license. You should use a short description such as &quot;Apache Public License&quot; or &quot;Commercial&quot;.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
copyright    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
This is a human-readable copyright string for your module. For example, &quot;Copyright (c) 2010 by Appcelerator, Inc.&quot;    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
name    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
This is a read-only name of your module that is generated when you created your project. You must not edit this value.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
moduleid    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
This is a read-only module id of your module that is generated when you created your project. You should not edit this value. NOTE: you must generate a unique id. We recommend using your reverse-DNS company name + module_name as a pattern to guarantee uniqueness. The Titanium Marketplace will only allow unique module ids when distributing modules. If you must edit this value, you must also edit the value in your module implementation file.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
guid    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
This is a read-only unique module id for your module that is generated when you created your project. You must not edit this value.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
platform    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
This is a read-only platform target of your module that is generated when you created your project. You must not edit this value.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
minsdk    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
The is a generated value for the minimum Titanium SDK version that was used when creating your module. This is currently not used and reserved for future use.    </p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
respackage    </p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
        <p>
This is specific package name to generate a R.java. If you got exception like <i class=" "><tt class=" ">java.lang.NoClassDefFoundError: com.example.mypackage.R$layout</tt></i> then add the following entry to the your module manifest file: <i class=" ">respackage: <tt class=" ">com.example.mypackage</tt></i>. This will generate a corresponding java R file <tt class=" ">com.example.mypackage.R.java</tt>    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <p>
    </p>
    </div>
    </div>
    <div class="section section-2 " id="43289002_AndroidModuleProject-CLITasks">
        <h2 class="heading "><span>CLI Tasks</span></h2>
    <div class="section section-3 " id="43289002_AndroidModuleProject-CreateaNewModuleProject">
        <h3 class="heading "><span>Create a New Module Project</span></h3>
    <p>
To create a new module project, run the following Appcelerator CLI command:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">appc </code><code class="keyword">new</code><code class="plain"> -d /PATH/TO/WORKSPACE -n &lt;MODULE_NAME&gt; --id &lt;MODULE_ID&gt;</code></div>
<div class="line"><code class="plain">### when prompted </code><code class="keyword">for</code><code class="plain"> the project type, select </code><code class="string">"Titanium Module"</code><code class="plain"> </code></div>
<div class="line"><code class="plain">### Example</code></div>
<div class="line"><code class="plain">$ ti create -d . -n test --id com.example.test</code></div>
<div class="line"><code class="plain">Appcelerator Command-Line Interface, version </code><code class="value">0.2</code><code class="plain">.</code><code class="value">230</code></div>
<div class="line"><code class="plain">Copyright (c) </code><code class="value">2014</code><code class="plain">-</code><code class="value">2015</code><code class="plain">, Appcelerator, Inc.  All Rights Reserved.</code></div>
<div class="line"><code class="plain">? What type of project are you creating? </code></div>
<div class="line"><code class="plain">  Native App </code></div>
<div class="line"><code class="plain">  Arrow App </code></div>
<div class="line"><code class="plain">❯ Titanium Module</code></div>
</div>
</div>    <p>
If you omit any of the options, the CLI will prompt you to enter them.    </p>
    </div>
    <div class="section section-3 " id="43289002_AndroidModuleProject-BuildandPackagetheModule">
        <h3 class="heading "><span>Build and Package the Module</span></h3>
    <p>
To build and package a module, run ti build in the <tt class=" ">android</tt> directory.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">cd /&lt;PATH_TO_MODULE_PROJECT&gt;/&lt;MODULE_NAME&gt;/android</code></div>
<div class="line"><code class="plain">ti build -p android --build-only</code></div>
</div>
</div>    <p>
After the build completes, you should have a ZIP file in the <tt class=" ">android/dist</tt> directory and see the following message in the console:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">** BUILD SUCCEEDED **</code></div>
</div>
</div>    <p>
With the ZIP file, you can either:    </p>
<ul class=" "><li class=" ">    <p>
Uncompress it in the Titanium SDK home path to install the module globally for all your Titanium applications    </p>
</li><li class=" ">    <p>
Uncompress it in a Titanium project's parent directory to install the module locally for that one Titanium application    </p>
</li><li class=" ">    <p>
Distribute the ZIP file    </p>
</li></ul>    </div>
    <div class="section section-3 " id="43289002_AndroidModuleProject-CleantheProject">
        <h3 class="heading "><span>Clean the Project</span></h3>
    <p>
To clean the module project of generated binary files, you can run <tt class=" ">ant</tt> with the <tt class=" ">clean</tt> target from the <tt class=" ">android</tt> directory:    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">ant clean</code></div>
</div>
</div>    <p>
    </p>
    </div>
    </div>
    <div class="section section-2 " id="43289002_AndroidModuleProject-StudioTasks">
        <h2 class="heading "><span>Studio Tasks</span></h2>
    <div class="section section-3 " id="43289002_AndroidModuleProject-CreateaNewModuleProject.1">
        <h3 class="heading "><span>Create a New Module Project</span></h3>
<ol class=" "><li class=" ">    <p>
From the menu, select <strong class=" ">File</strong> &gt; <strong class=" ">New</strong> &gt; <strong class=" ">Mobile Module Project</strong> to open the <strong class=" ">New Mobile Module Project</strong> dialog.    </p>
</li><li class=" ">    <p>
In the <strong class=" ">Project hame</strong> field, enter a name for the module.    </p>
</li><li class=" ">    <p>
In the <strong class=" ">Module Id</strong> field, enter a module ID for the module.    </p>
</li><li class=" ">    <p>
In <strong class=" ">Deployment Targets</strong>, select <strong class=" ">Android</strong>.    </p>
</li><li class=" ">    <p>
Click <strong class=" ">Next.</strong>    </p>
</li><li class=" ">    <p>
In the <strong class=" ">Module Manifest File</strong> page, enter information about your module, such as the license information, version number, etc.  You can also edit this information in the <tt class=" ">manifest</tt> file later.    </p>
</li><li class=" ">    <p>
Click <strong class=" ">Finish</strong>.    </p>
</li></ol>    </div>
    <div class="section section-3 " id="43289002_AndroidModuleProject-BuildandPackagetheModule.1">
        <h3 class="heading "><span>Build and Package the Module</span></h3>
    <p>
You can either use Studio's launch toolbar or use Ant from the right-click context menu.    </p>
    <div class="section section-4 " id="43289002_AndroidModuleProject-StudioToolbar">
        <h4 class="heading "><span>Studio Toolbar</span></h4>
<ol class=" "><li class=" ">    <p>
Select your module folder in the <strong class=" ">Project Explorer</strong> view.    </p>
</li><li class=" ">    <p>
Verify <strong class=" ">Package</strong> and <strong class=" ">Android Module</strong> are displayed in <strong class=" ">Launch Mode</strong> and <strong class=" ">Launch Target</strong>, respectively.    </p>
</li><li class=" ">    <p>
Click the Package icon to open the <strong class=" ">Package Android Module</strong> dialog.    </p>
</li><li class=" ">    <p>
In <strong class=" ">Output Location</strong>, select either    </p>
<ol class=" "><li class=" ">    <p>
<strong class=" ">Titanium SDK</strong> to install the module in the Titanium SDK home path to be accessed by any Titanium application    </p>
</li><li class=" ">    <p>
<strong class=" ">Mobile App Project</strong> and choose an application to install the module locally that can be accessed by one that Titanium application    </p>
</li><li class=" ">    <p>
<strong class=" ">Location</strong> and enter a path to copy the ZIP file to for distribution    </p>
</li></ol></li><li class=" ">    <p>
Click <strong class=" ">Finish</strong>.    </p>
</li></ol>    </div>
    <div class="section section-4 " id="43289002_AndroidModuleProject-RunasAntBuild">
        <h4 class="heading "><span>Run as Ant Build</span></h4>
<ol class=" "><li class=" ">    <p>
In the <strong class=" ">Project Explorer</strong> view, expand the module's <tt class=" ">android</tt> folder.    </p>
</li><li class=" ">    <p>
Right-click the <tt class=" ">build.xml</tt> file and select <strong class=" ">Run As...</strong> &gt;<strong class=" "> Ant Build</strong>.    </p>
</li></ol>    <p>
In the <strong class=" ">Console</strong> view, you will see the build log output.  After the build completes, the package (ZIP file) will be in the module's <tt class=" ">android/dist</tt> folder.    </p>
    </div>
    </div>
    </div>
    <div class="section section-2 " id="43289002_AndroidModuleProject-TesttheModule">
        <h2 class="heading "><span>Test the Module</span></h2>
    <p>
To test a module:    </p>
<ol class=" "><li class=" ">    <p>
Create a new Titanium Classic or Alloy project.    </p>
</li><li class=" ">    <p>
Install the module to either the Titanium SDK home directory or in the project.    </p>
</li><li class=" ">    <p>
Add the module as a dependency to the project.    </p>
</li><li class=" ">    <p>
Load the module and make module API calls.    </p>
</li></ol>    <div class="section section-3 " id="43289002_AndroidModuleProject-DebugtheModule">
        <h3 class="heading "><span>Debug the Module</span></h3>
    <p>
The best way to debug your Android modules right now is a bit old fashioned. When there is a problem or unexpected behavior in your module, use log statements to trace through your code's execution.    </p>
    <div class="section section-4 " id="43289002_AndroidModuleProject-Logging">
        <h4 class="heading "><span>Logging</span></h4>
    <p>
The <a class="external-link external-link" href="http://builds.appcelerator.com.s3.amazonaws.com/module-apidoc/2.0.0/android/org/appcelerator/kroll/common/Log.html" target="_blank">Log</a> class offers several static methods for writing to the log.    </p>
    <p>
It is considered a best practice to define a LCAT or TAG variable at the top of your class, and to use that as the first parameter to all calls to Log.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="keyword">private</code><code class="plain"> </code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">final</code><code class="plain"> String TAG = </code><code class="string">"FooProxy"</code><code class="plain">;</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="color1">@Kroll</code><code class="plain">.method</code></div>
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> fooFunction(String arg)</code></div>
<div class="line"><code class="plain">{ </code></div>
<div class="line"><code class="plain">    Log.i(TAG, </code><code class="string">"fooFunction received: "</code><code class="plain"> + arg);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div>    </div>
    <div class="section section-4 " id="43289002_AndroidModuleProject-DDMS">
        <h4 class="heading "><span>DDMS</span></h4>
    <p>
DDMS, or Dalvik Debug Monitor Server, is a Google-provided application that lets you grab debug information from emulators and connected Android devices.  To get started, see <a class="external-link external-link" href="http://developer.android.com/guide/developing/debugging/ddms.html" target="_blank">Android Developer: Using DDMS</a>.    </p>
    </div>
    </div>
    </div>
    <div class="section section-2 " id="43289002_AndroidModuleProject-AddaThird-PartyJAR">
        <h2 class="heading "><span>Add a Third-Party JAR</span></h2>
    <p>
To use a third-party JAR in your module, add the JAR file to the module's <tt class=" ">lib</tt> directory (not the <tt class=" ">libs</tt> directory), so it can be copied over during the module's build process and linked when building the application.  If you are using Studio, you need to add the JAR as a dependency to the module project before importing the package and making API calls.    </p>
    <p>
To add a JAR as a dependency in Studio:    </p>
<ol class=" "><li class=" ">    <p>
Right-click the module project (root folder) and select <strong class=" ">Properties</strong> to open the project's properties dialog.    </p>
</li><li class=" ">    <p>
In the left pane, select <strong class=" ">Java Build Path</strong>.    </p>
</li><li class=" ">    <p>
In the right pane, click the <strong class=" ">Libraries</strong> tab.    </p>
</li><li class=" ">    <p>
Click the <strong class=" ">Add External JARs...</strong> button to open the <strong class=" ">JAR Selection</strong> dialog.    </p>
</li><li class=" ">    <p>
Navigate to the module's <tt class=" ">android/lib</tt> folder and select the JAR to add.    </p>
</li><li class=" ">    <p>
Click <strong class=" ">Open</strong>.  The JAR should be added to the JARs list.    </p>
</li><li class=" ">    <p>
Click <strong class=" ">OK</strong> to dismiss the dialog.    </p>
</li></ol>    </div>
    <div class="section section-2 " id="43289002_AndroidModuleProject-BundleModuleAssets">
        <h2 class="heading "><span>Bundle Module Assets</span></h2>
    <p>
For Android modules, you can either add assets in the module's <tt class=" ">assets</tt> folder or <tt class=" ">android/platform</tt> folder.    </p>
    <div class="section section-3 " id="43289002_AndroidModuleProject-AssetsFolder">
        <h3 class="heading "><span>Assets Folder</span></h3>
    <p>
Files in the <tt class=" ">assets</tt> folder are added to the JAR library's <tt class=" ">assets</tt> folder.  To access these files, use the Android Class's <tt class=" ">getResource()</tt> method to retrieve a <tt class=" ">URL</tt> object or <a class="external-link external-link" href="http://developer.android.com/reference/java/lang/Class.html#getResourceAsStream(java.lang.String)" target="_blank"><tt class=" ">getResourceAsStream()</tt></a> method to retrieve an <tt class=" ">InputStream</tt> object.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="comments">// Original file was in assets/image.png</code></div>
<div class="line"><code class="plain">URL url = getClass().getClassLoader().getResource(</code><code class="string">"assets/image.png"</code><code class="plain">);</code></div>
<div class="line"><code class="plain">Log.i(</code><code class="string">"GETFILE"</code><code class="plain">, url.toString());</code></div>
<div class="line"><code class="comments">// do something with the URL</code></div>
</div>
</div>    <div class="confbox admonition admonition-note aui-message warning shadowed information-macro">
        
    <p>
The <tt class=" ">README</tt> file and JavaScript files (any file with a <tt class=" ">.js</tt> extension) in the <tt class=" ">assets</tt> folder are not added to the JAR library.    </p>
    </div>
    
    <p>
    </p>
    </div>
    <div class="section section-3 " id="43289002_AndroidModuleProject-PlatformFolder">
        <h3 class="heading "><span>Platform Folder</span></h3>
    <p>
Files in the <tt class=" ">platform</tt> folder are distributed in the module's ZIP file and copied over to the application's <tt class=" ">platform</tt> folder.  Add an <tt class=" ">android</tt> subfolder, then add any of the resource directories defined in <a class="external-link external-link" href="http://developer.android.com/guide/topics/resources/providing-resources.html" target="_blank">Android Developer: Providing Resources</a>. To access these files, you can use Android's <tt class=" ">AssetManager</tt> class or the Titanium SDK <tt class=" ">TiRHelper</tt> helper library.    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="comments">// Original file was in android/platform/android/res/drawable/image.png</code></div>
<div class="line"><code class="keyword">int</code><code class="plain"> result = </code><code class="value">0</code><code class="plain">;</code></div>
<div class="line"><code class="keyword">try</code><code class="plain"> {</code></div>
<div class="line"><code class="plain">    result = TiRHelper.getApplicationResource(</code><code class="string">"drawable.image"</code><code class="plain">);</code></div>
<div class="line"><code class="plain">    Log.i(</code><code class="string">"GOODSTUFF"</code><code class="plain">, </code><code class="keyword">new</code><code class="plain"> Integer(result).toString());</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// do something with the result</code></div>
<div class="line"><code class="plain">} </code><code class="keyword">catch</code><code class="plain"> (ResourceNotFoundException e) {</code></div>
<div class="line"><code class="plain">    Log.e(</code><code class="string">"BADSTUFF"</code><code class="plain">, </code><code class="string">"[ERROR] EXCEPTION -- RESOURCE NOT FOUND"</code><code class="plain">);</code></div>
<div class="line"><code class="plain">}		</code></div>
</div>
</div>    <p>
    </p>
    </div>
    </div>
    <div class="section section-2 " id="43289002_AndroidModuleProject-DistributeyourModulethroughtheAppceleratorMarketplace">
        <h2 class="heading "><span>Distribute your Module through the Appcelerator Marketplace</span></h2>
    <p>
To distribute your module through the Titanium+Plus Marketplace, you'll first need to package normally. Once you have tested your module locally and are ready to distribute it, you can then submit it to the marketplace for distribution. There are several prerequisites you'll need before you can distribute:    </p>
<ul class=" "><li class=" ">    <p>
You must have a valid Titanium developer account.    </p>
</li><li class=" ">    <p>
You must have fully completed filling our your manifest values.    </p>
</li><li class=" ">    <p>
You must have a valid license text in the LICENSE file in your project.    </p>
</li><li class=" ">    <p>
You must have a valid documentation file in the <a class="external-link external-link" href="http://index.md/" target="_blank">index.md</a> file in your documentation directory of your project.    </p>
</li><li class=" ">    <p>
You must specify some additional metadata upon upload such as the price (which can be free).    </p>
</li><li class=" ">    <p>
If you are charging for your module, you must establish a payment setup with Appcelerator so we can pay you.    </p>
</li><li class=" ">    <p>
You must accept the Titanium+Plus Marketplace terms of service agreement.    </p>
</li></ul>    <p>
Once you have upload your module and completed the necessary submission steps, your module will be queued for submission and availability in the marketplace directory.    </p>
    </div>
    <div class="section section-2 " id="43289002_AndroidModuleProject-KnownIssues">
        <h2 class="heading "><span>Known Issues</span></h2>
    <div class="section section-3 " id="43289002_AndroidModuleProject-Conflictingjarfilesdetected">
        <h3 class="heading "><span>Conflicting jar files detected</span></h3>
    <p>
When building an application that includes two or more modules that contains the same library, in particular, the <tt class=" ">google-play-services.jar</tt>, the JAR files may conflict indicating that each module is using a different version of the library (<a class="external-link external-link" href="https://jira.appcelerator.org/browse/MOD-1985" target="_blank">MOD-1985</a>).    </p>
<div xmlns="http://www.w3.org/1999/xhtml" class="confbox programlisting scroll-unprocessed">
<div class="title">Error Log</div>
<div class="defaultnew syntaxhighlighter">
<div class="line"><code class="plain">[ERROR] Application Installer abnormal process termination. Process exit value was </code><code class="value">1</code></div>
<div class="line"><code class="plain">[ERROR] :  Conflicting jar files detected:</code></div>
<div class="line"><code class="plain">[ERROR] :  </code></div>
<div class="line"><code class="plain">[ERROR] :  The following modules have different </code><code class="string">"google-play-services.jar"</code><code class="plain"> files</code></div>
<div class="line"><code class="plain">[ERROR] :     mymodule   (version </code><code class="value">3.0</code><code class="plain">.</code><code class="value">3</code><code class="plain">) (hash=8b95ece0c3ae132fb898ec8beef1cb2d)</code></div>
<div class="line"><code class="plain">[ERROR] :     ti.map     (version </code><code class="value">2.2</code><code class="plain">.</code><code class="value">3</code><code class="plain">) (hash=a9b753b4c63719e24d0022e341c57b2e)</code></div>
<div class="line"><code class="plain">[ERROR] :  </code></div>
<div class="line"><code class="plain">[ERROR] :  You can either select a version of these modules where the conflicting jar file is the same or you</code></div>
<div class="line"><code class="plain">[ERROR] :  can </code><code class="keyword">try</code><code class="plain"> copying the jar file from one module</code><code class="string">'s "lib" folder to the other module'</code><code class="plain">s </code><code class="string">"lib"</code><code class="plain"> folder. </code></div>
</div>
</div>    <p>
To resolve this issue, you can either delete one of the JAR files from one of the modules or copy the JAR file from one module's <tt class=" ">lib</tt> folder to the other's to make both versions the same.  This solution only works on a per-application basis and is not a global solution.    </p>
    <p>
If you include the Google Play services library in your module, you many need to include instructions telling the developer how to workaround this issue if they include other modules that use the Google Play services library, such as the <tt class=" ">ti.map</tt> or <tt class=" ">ti.cloudpush</tt> modules.    </p>
    </div>
    </div>
        </div><a id="editButton" href="https://wiki.appcelerator.org/pages/editpage.action?pageId=43289002"><span>Edit</span></a>
    
        <div class="footer">
            Created with <a href="http://k15t.com/display/web/Scroll-Wiki-EclipseHelp-Exporter-for-Confluence" target="_blank">Scroll EclipseHelp Exporter for Confluence</a>.
        </div>
    </div>
</body>
</html>
