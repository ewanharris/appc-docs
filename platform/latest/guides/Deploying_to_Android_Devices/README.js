Ext.data.JsonP['Deploying_to_Android_Devices']({"guide":" <!doctype html> <html> <head> <title>Deploying to Android Devices</title> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"> </meta></head> <body> <div class=\"container\"> <div class=\"header\"/> <div id=\"src-29004923\" class=\"content\"> <h1>Deploying to Android Devices</h1> <p> </p> <ul class=\"toc-indentation\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_DeployingtoAndroidDevices-Objective\">Objective</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_DeployingtoAndroidDevices-Contents\">Contents</a> </p> <ul class=\"toc-indentation\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_DeployingtoAndroidDevices-ConfiguretheAndroiddevice\">Configure the Android device</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_safe-id-RGVwbG95aW5ndG9BbmRyb2lkRGV2aWNlcy1JbnN0YWxsdGhlVVNCZHJpdmVyKFdpbmRvd3Nvbmx5KQ\">Install the USB driver (Windows only)</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_DeployingtoAndroidDevices-Connectthedevice\">Connect the device</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_DeployingtoAndroidDevices-Deploytheapplicationusingadb\">Deploy the application using adb</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_DeployingtoAndroidDevices-Deploytoremotetesters\">Deploy to remote testers</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_DeployingtoAndroidDevices-InstalltotheSDcard\">Install to the SD card</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_DeployingtoAndroidDevices-Changetheversionnumber\">Change the version number</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_DeployingtoAndroidDevices-Troubleshooting\">Troubleshooting</a> </p> <ul class=\"toc-indentation\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_DeployingtoAndroidDevices-Restartadb\">Restart adb</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_DeployingtoAndroidDevices-USBcord\">USB cord</a> </p> </li></ul></li></ul></li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Deploying_to_Android_Devices-section-src-29004923_DeployingtoAndroidDevices-Summary\">Summary</a> </p> </li></ul> <div class=\"section section-2\" id=\"src-29004923_DeployingtoAndroidDevices-Objective\"> <h2 class=\"heading\"><span>Objective</span></h2> <p>In this chapter, you will learn how to deploy an Android app to a device for testing. </p> </div> <div class=\"section section-2\" id=\"src-29004923_DeployingtoAndroidDevices-Contents\"> <h2 class=\"heading\"><span>Contents</span></h2> <div class=\"section section-3\" id=\"src-29004923_DeployingtoAndroidDevices-ConfiguretheAndroiddevice\"> <h3 class=\"heading\"><span>Configure the Android device</span></h3> <p>In order to install an application directly to your device, you need to configure it to use a USB connection. The configuration settings vary by device. </p> <p>For Android 4.2 and later devices, you need to enable <strong class=\"\">Developer options</strong> by opening <strong class=\"\">Settings</strong>, click <strong class=\"\">About</strong> then click the <strong class=\"\">Build number</strong> item seven items. If you do not do this, you will not see the <strong class=\"\">Developer options</strong> item in <strong>Settings</strong>. </p> <ol class=\"\"><li class=\"\"> <p>Open <strong>Settings</strong>. </p> </li><li class=\"\"> <p>Click <strong>Security</strong>. </p> </li><li class=\"\"> <p>Enable <strong>Unknown sources</strong>, that is, check this option. This permits the device to install apps that do not originate from Google Play. </p> </li><li class=\"\"> <p>Back out to <strong>Settings</strong>. </p> </li><li class=\"\"> <p>Click <strong>Developer options</strong>. </p> </li><li> <p>If available: Set the switch in the title bar to on. </p> </li><li class=\"\"> <p>Enable <strong>USB debugging</strong>, that is, check this option. This permits the device to install apps over a USB connection. </p> </li><li class=\"\"> <p>Optional: Enable <strong>Stay awake</strong>, that is, check this option. This option keeps the screen on and disables the lock screen while the device is connected to USB. </p> </li><li class=\"\"> <p>Optional: Enable <strong>Allow mock locations</strong>, that is, check this option. This option creates fake GPS locations to test location services. </p> </li><li class=\"\"> <p>Back out of or close <strong>Settings</strong>. </p> </li></ol> <p> </p> <div class=\"confbox admonition admonition-note aui-message warning shadowed information-macro\"> <p>These configuration settings are the default Android settings. Some options may not appear or you may need to configure other manufacturer-specific settings. </p> </div> </div> <div class=\"section section-3\" id=\"src-29004923_safe-id-RGVwbG95aW5ndG9BbmRyb2lkRGV2aWNlcy1JbnN0YWxsdGhlVVNCZHJpdmVyKFdpbmRvd3Nvbmx5KQ\"> <h3 class=\"heading\"><span>Install the USB driver (Windows only)</span></h3> <p>Developers on Windows may need to install a USB driver specific to the manufacturer and model of the device on which they&apos;ll be testing. The driver enables your Windows computer to communicate with your Android device. Google provides download links to the drivers at <a class=\"external-link external-link\" href=\"http://developer.android.com/sdk/oem-usb.html\" target=\"_blank\">Android Developer: OEM USB Drivers</a>. </p> </div> <div class=\"section section-3\" id=\"src-29004923_DeployingtoAndroidDevices-Connectthedevice\"> <h3 class=\"heading\"><span>Connect the device</span></h3> <p>Connect the Android device to your computer using an USB cord. Note that some USB cables are only power cables and do not allow communications with the device. Make sure you use a USB cable that allows a data connection. </p> <p>For 4.2 devices, an &quot;Allow USB debugging?&quot; dialog will appear once connected via USB. Click the <strong>OK</strong> button. </p> <p> </p> <p> <span style=\"color: #2b4771;\"> Deploy the application using Axway Appcelerator Studio </span> </p> <p>Once you have configured your device and connected it to your computer&apos;s USB port, you are ready to deploy your app to it. </p> <p> <img src=\"images/download/attachments/29004923/LaunchAndroidDevice.png\" alt=\"images/download/attachments/29004923/LaunchAndroidDevice.png\" class=\"confluence-embedded-image\"> </img></p> <p>In Studio, first select the project in the <strong class=\"\">Project Explorer</strong> view, then in the global tool bar, select <strong class=\"\">Run</strong> from the <strong class=\"\">Launch Mode </strong>drop-down list and an Android device from the <strong class=\"\">Target</strong> drop-down list under the <strong class=\"\">Android Application Installer</strong> category. If the <strong class=\"\">Launch Automatically</strong> option is enabled under the <strong class=\"\">Target</strong> drop-down list, the application will be automatically launched after the device is selected. If not, you need to click the <strong>Run</strong> button to start the build process. Your app will be built, installed to your device and automatically launched. </p> <p> </p> <p> <span style=\"color: #2b4771;\"> Deploying the application using the CLI </span> </p> <p>To launch the application using the Titanium CLI, run the following command: </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">appc run -p android -T device --device-</code><code class=\"functions\">id</code><code class=\"plain\"> </code><code class=\"string\">&quot;&lt;DEVICE_ID&gt;&quot;</code></div> </div> </div> <p>You may omit the <tt>--device-id</tt> parameter if you only have one device connected. To retrieve a list of connected devices, run one of the following commands: </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">appc ti info -t android</code></div> <div class=\"line\"><code class=\"comments\">## or</code></div> <div class=\"line\"><code class=\"plain\">adb devices -l</code></div> </div> </div> </div> <div class=\"section section-3\" id=\"src-29004923_DeployingtoAndroidDevices-Deploytheapplicationusingadb\"> <h3 class=\"heading\"><span>Deploy the application using adb</span></h3> <p>You can use the <tt class=\"\">adb</tt> command to install apps to a connected device if you have a built APK file. If the <tt>platform-tools</tt> directory (within the Android SDK) is in your system&apos;s PATH, from a terminal, run the following command: </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">adb </code><code class=\"functions\">install</code><code class=\"plain\"> -r your_project</code><code class=\"plain\">/build/android/bin/app</code><code class=\"plain\">.apk</code></div> </div> </div> <p>Hint: use the <tt class=\"\">-e</tt> switch to interact with a single running Android emulator; use <tt>-d</tt> to interact with a single connected device. </p> <p>You can uninstall an app with <tt>adb</tt> as well via your app&apos;s unique Android package name: </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">adb uninstall com.your.appid</code></div> </div> </div> </div> <div class=\"section section-3\" id=\"src-29004923_DeployingtoAndroidDevices-Deploytoremotetesters\"> <h3 class=\"heading\"><span>Deploy to remote testers</span></h3> <p>You can deploy your app to remote users for testing. They will need to configure their device as described above. From there, all you need to do is get the APK file to them and their device. A simple solution is to post it on a web site (such as a Dropbox) account. You could also email it to them, as long as they receive the email on their device and not a desktop. In either case, on a device, if you tap on an APK file, Android will prompt you to install that application. </p> <p>Over the air distribution frameworks were popularized in the iOS space by services such as TestFlight App. With such systems, users install a common client app on their device. That client interacts with a remote server, which is used to distribute beta versions of your app. When you update your app, the client component can detect the change and notify the user to upgrade your app. The open source HockeyKit system (<a class=\"external-link external-link\" href=\"http://hockeykit.net/\" target=\"_blank\">http://hockeykit.net/</a>) supports distributing both iOS and Android apps to beta testers. It also provides a framework for gathering user feedback and statistics. You can install HockeyKit on your own web server or subscribe to their HockeyApp service and they&apos;ll host the server for you. </p> </div> <div class=\"section section-3\" id=\"src-29004923_DeployingtoAndroidDevices-InstalltotheSDcard\"> <h3 class=\"heading\"><span>Install to the SD card</span></h3> <p>By default, your application is installed to the device&apos;s internal storage. To configure you application to install to the SD card, you need to add the <tt class=\"\">android:installLocation</tt> attribute to the <tt class=\"\">manifest</tt> element in the <tt class=\"\">tiapp.xml</tt> file. Assign the <tt>installLocation</tt> element to one of the following values: </p> <ul class=\"\"><li class=\"\"> <p><strong>preferExternal</strong> - specifies that you prefer your app to be installed to the SD card, but if one is not present the app can be installed to internal storage. </p> </li><li class=\"\"> <p><strong class=\"\">auto</strong> - specifies that the phone&apos;s configuration will determine the installation location. Generally, your app will be installed to internal storage if sufficient space is available. In that case, users could still move your app by opening <strong class=\"\">Settings</strong> &gt; <strong class=\"\">Applications</strong> &gt; <strong class=\"\">Manage</strong> <strong class=\"\">applications </strong>or <strong class=\"\">Settings </strong>&gt;<strong class=\"\"> Application manager</strong>, tapping your app, and tapping <strong>Move to SD card</strong>. Note that some manufacturers do not allow applications to be run from the SD card. </p> </li><li class=\"\"> <p><strong>internalOnly</strong> - which specifies that your app cannot be installed to the SD card. See the <a class=\"external-link external-link\" href=\"http://developer.android.com/guide/appendix/install-location.html#ShouldNot\" target=\"_blank\">Android docs</a> for the various reasons why you might choose this option. </p> </li></ul> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"title\">tiapp.xml</div> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\" data-title=\"tiapp.xml\"> <div class=\"line\"><code class=\"plain\">&lt;android xmlns:android=</code><code class=\"string\">&quot;http://schemas.android.com/apk/res/android&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;manifest android:installLocation=</code><code class=\"string\">&quot;preferExternal&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;/android&gt;</code></div> </div> </div> </div> <div class=\"section section-3\" id=\"src-29004923_DeployingtoAndroidDevices-Changetheversionnumber\"> <h3 class=\"heading\"><span>Change the version number</span></h3> <p>To change the version of the application, add the following attributes to the <tt class=\"\">manifest</tt> element in your <tt>tiapp.xml</tt>: </p> <ul class=\"\"><li class=\"\"> <p><strong>android:versionCode</strong> - A 32-bit integer (i.e.: a whole number like &quot;2&quot;) that must be incremented up whenever a newer version is being submitted to the app store. It cannot be set to a floating point number. </p> </li><li class=\"\"> <p><strong>android:versionName</strong> - The version name string can be anything you want. </p> </li></ul> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"title\">tiapp.xml</div> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\" data-title=\"tiapp.xml\"> <div class=\"line\"><code class=\"plain\">&lt;android xmlns:android=</code><code class=\"string\">&quot;http://schemas.android.com/apk/res/android&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;manifest android:versionCode=</code><code class=\"string\">&quot;2&quot;</code><code class=\"plain\"> android:versionName=</code><code class=\"string\">&quot;8.675.309&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;/android&gt;</code></div> </div> </div> <p>For more information on versioning in Android, see <a class=\"external-link external-link\" href=\"http://developer.android.com/guide/publishing/versioning.html\" target=\"_blank\">http://developer.android.com/guide/publishing/versioning.html</a>. </p> <p> <img src=\"images/download/attachments/29004923/android-app-versioning.jpg\" alt=\"images/download/attachments/29004923/android-app-versioning.jpg\" class=\"confluence-embedded-image\"> </img></p> </div> <div class=\"section section-3\" id=\"src-29004923_DeployingtoAndroidDevices-Troubleshooting\"> <h3 class=\"heading\"><span>Troubleshooting</span></h3> <div class=\"section section-4\" id=\"src-29004923_DeployingtoAndroidDevices-Restartadb\"> <h4 class=\"heading\"><span>Restart adb</span></h4> <p>If your device is not recognized after following the above instructions, the adb process may have hung. Run the following commands in a terminal to restart adb: </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">adb devices </code><code class=\"plain\">//</code><code class=\"plain\"> print list of attached devices</code></div> <div class=\"line\"><code class=\"plain\">adb </code><code class=\"functions\">kill</code><code class=\"plain\">-server</code></div> <div class=\"line\"><code class=\"plain\">adb start-server</code></div> <div class=\"line\"><code class=\"plain\">adb devices </code><code class=\"plain\">//</code><code class=\"plain\"> verify that device has been recognized</code></div> </div> </div> </div> <div class=\"section section-4\" id=\"src-29004923_DeployingtoAndroidDevices-USBcord\"> <h4 class=\"heading\"><span>USB cord</span></h4> <p>Some USB cords are only power cables and do not allow a data connection. Make sure that your USB cord allows a data connection. </p> </div> </div> </div> <div class=\"section section-2\" id=\"src-29004923_DeployingtoAndroidDevices-Summary\"> <h2 class=\"heading\"><span>Summary</span></h2> <p>In this chapter, you learned that deploying to an Android device is fairly simple. You configure the device to accept non-market apps. Then, you just need to get the APK file to the testing device. You can do that via Studio, <tt>adb</tt>, an ad-hoc distribution method like a web page, or via a framework like HockeyKit. </p> </div> </div><a id=\"editButton\" href=\"https://wiki.appcelerator.org/pages/editpage.action?pageId=29004923\"><span>Edit</span></a> </div> </body> </html> ","title":"Deploying to Android Devices"});