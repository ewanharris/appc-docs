Ext.data.JsonP['Theme_Actions']({"guide":" <!doctype html> <html> <head> <title>Theme Actions</title> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"> </meta></head> <body> <div class=\"container\"> <div class=\"header\"/> <div id=\"src-31523365\" class=\"content\"> <h1>Theme Actions</h1> <div class=\"section section-2\" id=\"src-31523365_ThemeActions-Actions\"> <h2 class=\"heading\"><span>Actions</span></h2> <p> </p> <ul class=\"toc-indentation\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Theme_Actions-section-src-31523365_ThemeActions-Requirements\">Requirements</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Theme_Actions-section-src-31523365_ThemeActions-Description\">Description</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Theme_Actions-section-src-31523365_ThemeActions-Invocation\">Invocation</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Theme_Actions-section-src-31523365_ThemeActions-Getallavailablethemes\">Get all available themes</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Theme_Actions-section-src-31523365_ThemeActions-Gettheactivethemename\">Get the active theme name</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Theme_Actions-section-src-31523365_ThemeActions-Setanactivetheme\">Set an active theme</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Theme_Actions-section-src-31523365_ThemeActions-Sampleofuse\">Sample of use</a> </p> </li></ul> </div> <div class=\"section section-2\" id=\"src-31523365_ThemeActions-Requirements\"> <h2 class=\"heading\"><span>Requirements</span></h2> <p>The examples in this page use the <i class=\"\"><strong>Prototype</strong></i> library, which is included by default inside a portal. However, the same concepts may be applied using other implementations. </p> </div> <div class=\"section section-2\" id=\"src-31523365_ThemeActions-Description\"> <h2 class=\"heading\"><span>Description</span></h2> <p>These set of actions can retrieve a Theme information from the Studio. This includes getting a list of available themes, getting the active theme, and setting the active theme. </p> </div> <div class=\"section section-2\" id=\"src-31523365_ThemeActions-Invocation\"> <h2 class=\"heading\"><span>Invocation</span></h2> <p>This command is executed immediately in a synchronous way. </p> </div> <div class=\"section section-2\" id=\"src-31523365_ThemeActions-Getallavailablethemes\"> <h2 class=\"heading\"><span>Get all available themes</span></h2> <p>The following <i>dispatch</i> call will get a names array of all the available Themes names: </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">var allThemes = dispatch($H({</code></div> <div class=\"line\"><code class=\"plain\">\tcontroller: </code><code class=\"string\">&apos;portal.themes&apos;</code><code class=\"plain\">,</code></div> <div class=\"line\"><code class=\"plain\">\taction: </code><code class=\"string\">&quot;getThemes&quot;</code></div> <div class=\"line\"><code class=\"plain\">}).toJSON()).evalJSON();</code></div> </div> </div> <p>The returned value is an array of strings (names). </p> </div> <div class=\"section section-2\" id=\"src-31523365_ThemeActions-Gettheactivethemename\"> <h2 class=\"heading\"><span>Get the active theme name</span></h2> <p>The following <i>dispatch</i> call will get the active theme name string: </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">var activeTheme= dispatch($H({</code></div> <div class=\"line\"><code class=\"plain\">\tcontroller: </code><code class=\"string\">&apos;portal.themes&apos;</code><code class=\"plain\">,</code></div> <div class=\"line\"><code class=\"plain\">\taction: </code><code class=\"string\">&quot;getActiveTheme&quot;</code></div> <div class=\"line\"><code class=\"plain\">}).toJSON()).evalJSON();</code></div> </div> </div> </div> <div class=\"section section-2\" id=\"src-31523365_ThemeActions-Setanactivetheme\"> <h2 class=\"heading\"><span>Set an active theme</span></h2> <p>The following code will set an active theme by passing a valid theme name. </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">var result = dispatch($H({</code></div> <div class=\"line\"><code class=\"plain\">\tcontroller: </code><code class=\"string\">&apos;portal.themes&apos;</code><code class=\"plain\">,</code></div> <div class=\"line\"><code class=\"plain\">\taction: </code><code class=\"string\">&quot;setActiveTheme&quot;</code><code class=\"plain\">,</code></div> <div class=\"line\"><code class=\"plain\">\targs: </code><code class=\"string\">&apos;[&quot;My-Theme&quot;]&apos;</code></div> <div class=\"line\"><code class=\"plain\">}).toJSON()).evalJSON();</code></div> </div> </div> <p>The <i>result</i> value can be &apos;OK&apos; or &apos;ERROR&apos;, which indicates if the operation was successful. </p> </div> <div class=\"section section-2\" id=\"src-31523365_ThemeActions-Sampleofuse\"> <h2 class=\"heading\"><span>Sample of use</span></h2> <p>This code lists all available themes in a dropdown list, select the active theme in the list, and allow switching a theme with a click of a button. </p> <p>From <i class=\"\"><strong class=\"\"><a class=\"external-link external-link\" href=\"https://github.com/aptana/studio3-sdk\" target=\"_blank\">studio3-sdk</a></strong></i> repository (<i>themes.js</i>) </p> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"preprocessor\">/**</code></div> <div class=\"line\"><code class=\"preprocessor\"> * Render the items that will display Theme information and control.</code></div> <div class=\"line\"><code class=\"preprocessor\"> */</code></div> <div class=\"line\"><code class=\"plain\">render : function() {</code></div> <div class=\"line\"><code class=\"plain\"> var themeDiv = $(</code><code class=\"string\">&apos;themes&apos;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\"> with (Elements.Builder) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">if</code><code class=\"plain\"> (typeof (console) !== </code><code class=\"string\">&apos;undefined&apos;</code><code class=\"plain\"> &amp;&amp; typeof (dispatch) !== </code><code class=\"string\">&apos;undefined&apos;</code><code class=\"plain\">) {</code></div> <div class=\"line\"><code class=\"plain\"> console.log(</code><code class=\"string\">&quot;Dispatching the &apos;getThemes&apos; action on the &apos;portal.themes&apos; controller...&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\"> var allThemes = dispatch($H({</code></div> <div class=\"line\"><code class=\"plain\"> controller: </code><code class=\"string\">&apos;portal.themes&apos;</code><code class=\"plain\">,</code></div> <div class=\"line\"><code class=\"plain\"> action: </code><code class=\"string\">&quot;getThemes&quot;</code></div> <div class=\"line\"><code class=\"plain\"> }).toJSON()).evalJSON();</code></div> <div class=\"line\"><code class=\"plain\"> console.log(</code><code class=\"string\">&quot;Dispatching the &apos;getActiveTheme&apos; action on the &apos;portal.themes&apos; controller...&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\"> var activeTheme = dispatch($H({</code></div> <div class=\"line\"><code class=\"plain\"> controller: </code><code class=\"string\">&apos;portal.themes&apos;</code><code class=\"plain\">,</code></div> <div class=\"line\"><code class=\"plain\"> action: </code><code class=\"string\">&quot;getActiveTheme&quot;</code></div> <div class=\"line\"><code class=\"plain\"> }).toJSON()).evalJSON();</code></div> <div class=\"line\"><code class=\"plain\"> themeSelectElement = select();</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">for</code><code class=\"plain\"> (var i = </code><code class=\"value\">0</code><code class=\"plain\">; i &lt; allThemes.length; i++) {</code></div> <div class=\"line\"><code class=\"plain\"> var op = option(allThemes[i]);</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">if</code><code class=\"plain\"> (activeTheme == allThemes[i]) {</code></div> <div class=\"line\"><code class=\"plain\"> op.selected = </code><code class=\"keyword\">true</code><code class=\"plain\">;</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> themeSelectElement.appendChild(op);</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> themeDiv.appendChild(span(</code><code class=\"string\">&quot;Installed Themes: &quot;</code><code class=\"plain\">));</code></div> <div class=\"line\"><code class=\"plain\"> themeDiv.appendChild(themeSelectElement);</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"comments\">// Add a button to trigger a Theme change</code></div> <div class=\"line\"><code class=\"plain\"> var changeBt = button({</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"string\">&apos;type&apos;</code><code class=\"plain\">: </code><code class=\"string\">&apos;button&apos;</code></div> <div class=\"line\"><code class=\"plain\"> }, </code><code class=\"string\">&quot;Change&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\"> themeDiv.appendChild(changeBt);</code></div> <div class=\"line\"><code class=\"plain\"> changeBt.observe(</code><code class=\"string\">&apos;click&apos;</code><code class=\"plain\">, function(e) {</code></div> <div class=\"line\"><code class=\"plain\"> var item = themeSelectElement.options[themeSelectElement.selectedIndex].text;</code></div> <div class=\"line\"><code class=\"plain\"> console.log(</code><code class=\"string\">&quot;Dispatching the &apos;setActiveTheme&apos; action on the &apos;portal.themes&apos; controller with the value of &quot;</code><code class=\"plain\"> + item + </code><code class=\"string\">&quot;...&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\"> dispatch($H({</code></div> <div class=\"line\"><code class=\"plain\"> controller: </code><code class=\"string\">&apos;portal.themes&apos;</code><code class=\"plain\">,</code></div> <div class=\"line\"><code class=\"plain\"> action: </code><code class=\"string\">&quot;setActiveTheme&quot;</code><code class=\"plain\">,</code></div> <div class=\"line\"><code class=\"plain\"> args: </code><code class=\"string\">&apos;[&quot;&apos;</code><code class=\"plain\"> + item + </code><code class=\"string\">&apos;&quot;]&apos;</code></div> <div class=\"line\"><code class=\"plain\"> }).toJSON()).evalJSON();</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">return</code><code class=\"plain\"> </code><code class=\"keyword\">false</code><code class=\"plain\">;</code></div> <div class=\"line\"><code class=\"plain\"> });</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> </div> </div> </div> </div><a id=\"editButton\" href=\"https://wiki.appcelerator.org/pages/editpage.action?pageId=31523365\"><span>Edit</span></a> </div> </body> </html> ","title":"Theme Actions"});