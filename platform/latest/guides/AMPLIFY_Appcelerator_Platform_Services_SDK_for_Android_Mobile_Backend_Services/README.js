Ext.data.JsonP['AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services']({"guide":" <!doctype html> <html> <head> <title>AMPLIFY Appcelerator Platform Services SDK for Android Mobile Backend Services</title> <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"> </meta></head> <body> <div class=\"container\"> <div class=\"header\"/> <div id=\"src-49153767\" class=\"content\"> <h1>AMPLIFY Appcelerator Platform Services SDK for Android Mobile Backend Services</h1> <p> </p> <ul class=\"toc-indentation\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-GettingtheSDK\">Getting the SDK</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-RunningtheAPSCloudexampleapplication\">Running the APSCloud example application</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-EnablingCloudservicesinanewproject\">Enabling Cloud services in a new project</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-MakingAPICallsandHandlingResponses\">Making API Calls and Handling Responses</a> </p> <ul class=\"toc-indentation\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-BuildingRequestParameters\">Building Request Parameters</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-HandlingResponses\">Handling Responses</a> </p> <ul class=\"toc-indentation\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_safe-id-QU1QTElGWUFwcGNlbGVyYXRvclBsYXRmb3JtU2VydmljZXNTREtmb3JBbmRyb2lkTW9iaWxlQmFja2VuZFNlcnZpY2VzLUV4YW1wbGU6QVBTVXNlcnNMb2dpbkNhbGx3aXRoUmVzcG9uc2VIYW5kbGVy\">Example: APSUsers Login Call with Response Handler</a> </p> </li></ul></li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-MonitoringRequestProgress\">Monitoring Request Progress</a> </p> <ul class=\"toc-indentation\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_safe-id-QU1QTElGWUFwcGNlbGVyYXRvclBsYXRmb3JtU2VydmljZXNTREtmb3JBbmRyb2lkTW9iaWxlQmFja2VuZFNlcnZpY2VzLUV4YW1wbGU6QVBTRmlsZXNDcmVhdGVDYWxsd2l0aFByb2dyZXNzSGFuZGxlcg\">Example: APSFiles Create Call with Progress Handler</a> </p> </li></ul></li></ul></li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-MakingGenericRESTAPIsMethodCalls\">Making Generic REST APIs Method Calls</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-WorkingwithPushNotifications\">Working with Push Notifications</a> </p> <ul class=\"toc-indentation\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-AndroidProjectRequirementsforusingAPSCloudPush\">Android Project Requirements for using APSCloud Push</a> </p> <ul class=\"toc-indentation\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-AddGooglePlayservices\">Add Google Play services</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-AndroidManifestchanges\">AndroidManifest changes</a> </p> </li></ul></li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-SubscribetopushnotificationsSubscribetopushnotifications\">Subscribe to push notifications</a> </p> </li><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-CloudPushsampleapplication\">CloudPush sample application</a> </p> </li></ul></li></ul> <p>The AMPLIFY Appcelerator Platform Services SDK for Android provides APIs for your Android application built with Java to access Mobile Backend Services (MBS). </p> <div class=\"section section-2\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-GettingtheSDK\"> <h2 class=\"heading\"><span>Getting the SDK</span></h2> <p>To download and start using the SDK, you first need to register your Android application in <a class=\"external-link external-link\" href=\"https://platform.axway.com/\" target=\"_blank\">Dashboard</a>. See <a class=\"document-link\" href=\"#!/guide/Managing_Non-Titanium_Client_Applications_in_Dashboard\">Managing Non-Titanium Client Applications in Dashboard</a> for details on registering a new application. After you register the application, a service key is generated that associates your application with all the Platform services. Appcelerator Dashboard also provides full instructions for enabling all Platform Services in your application. This guide will deal specifically with enabling and using MBS in an Android application. </p> <p> <img src=\"images/download/attachments/49153767/dashboard_latest.png\" alt=\"images/download/attachments/49153767/dashboard_latest.png\" class=\"confluence-embedded-image\" width=\"700\"> </img></p> </div> <div class=\"section section-2\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-RunningtheAPSCloudexampleapplication\"> <h2 class=\"heading\"><span>Running the APSCloud example application</span></h2> <p>The SDK ZIP file includes an Android sample project that demonstrates basic usage of each of the Cloud APIs. To run the sample you first need to register a new application in Dashboard to obtain the necessary service key. You will then copy the key into the imported sample project&apos;s main Activity and then run the application. </p> <p><strong>To create the APSCloudExample application in Dashboard:</strong> </p> <ol class=\"\"><li> <p>Login to the <a class=\"external-link external-link\" href=\"https://platform.axway.com/\" target=\"_blank\">Dashboard</a>. </p> </li><li class=\"\"> <p>From the <strong>Orgs</strong> menu, select the organization to associate with the application. Note that the Orgs menu will not appear if you are not a member of multiple organizations. </p> </li><li class=\"\"> <p>Click the Add menu (+) and select <strong>Register App for Services</strong>. </p> </li><li> <p>In the dialog: </p> <ul class=\"\"><li class=\"\"> <p>Type <strong class=\"\">APSCloudExampleApp</strong> (or another name) in the <strong>Name</strong> field. </p> </li><li class=\"\"> <p>Select <strong class=\"\">Android</strong> from the <strong>Platform</strong> menu. </p> </li><li class=\"\"> <p>Select any category from the <strong>Category</strong> menu. </p> </li></ul></li><li class=\"\"> <p>Click <strong class=\"\">Next</strong> and then click the <strong>Overview</strong> tab. </p> </li><li class=\"\"> <p>Click the <strong class=\"\">Services</strong> tab, then click <strong class=\"\">Show Key</strong> under <strong class=\"\">Cloud </strong>&gt;<strong class=\"\"> Performance </strong>&gt;<strong> Analytics</strong>. </p> </li><li class=\"\"> <p>Select <strong class=\"\">Development</strong> from the Environment menu, then click the <strong>clipboard icon</strong> to copy the key to your clipboard. </p> </li></ol> <p>Next, import the APSCloudExample project into Eclipse, copy the key from your clipboard into the application&apos;s main activity, and run the application. </p> <p><strong>To import the completed APSCloudExample project:</strong> </p> <ol class=\"\"><li class=\"\"> <p>In Eclipse, select <strong class=\"\">File </strong>&gt;<strong class=\"\"> Import </strong>&gt;<strong class=\"\"> General </strong>&gt;<strong class=\"\"> Existing Code into Workspace</strong>, then click <strong>Next</strong>. </p> </li><li class=\"\"> <p>Click <strong class=\"\">Browse</strong> and navigate to the <strong class=\"\"><tt class=\"\">appcelerator-sdk-android-&lt;VERSION&gt;/examples/APSCloudExample</tt></strong> folder, and click <strong>Open</strong>. </p> </li><li class=\"\"> <p>Click <strong>Finish</strong>. </p> </li><li class=\"\"> <p>Open <strong class=\"\"><tt>src/main/java/com/appcelerator/apscloudexample/MainActivity.java</tt></strong>. </p> </li><li class=\"\"> <p>Locate the following line of code and replace <strong>&lt;&lt; YOUR APP KEY &gt;&gt;</strong> with the application key you copied to your clipboard previously. </p> <pre class=\"\"><tt class=\"\">APSServiceManager.getInstance().enable(getApplicationContext(), &quot;&lt;&lt; YOUR APP KEY &gt;&gt;&quot;);;</tt></pre></li><li> <p>Run the application on an Android device or emulator. </p> </li></ol> <p>Once the application is running, try the following: </p> <ul class=\"\"><li class=\"\"> <p>Create a new user by selecting <strong class=\"\">Users </strong>&gt;<strong class=\"\"> Create User</strong>. Enter a username, password and password confirmation, then click <strong>Create</strong>. If the user is created successfully, the following dialog is shown: </p> <img src=\"images/download/attachments/49153767/new_user_success.png\" alt=\"images/download/attachments/49153767/new_user_success.png\" class=\"confluence-embedded-image\"> <p> </p> </img></li></ul><ul class=\"\"><li> <p>View the newly created user in Dashboard: </p> <ol class=\"\"><li class=\"\"> <p>Open <a class=\"external-link external-link\" href=\"https://platform.axway.com/\" target=\"_blank\">Dashboard</a> and select your application from the <i>Projects</i> view. </p> </li><li class=\"\"> <p>Select <strong class=\"\">Manage Data</strong>, then click <strong>Users</strong> in the Manage Data Objects table. You should see the user you created listed in the Users table. </p> <img src=\"images/download/attachments/49153767/verify_new_user_latest.png\" alt=\"images/download/attachments/49153767/verify_new_user_latest.png\" class=\"confluence-embedded-image\" width=\"700\"> </img></li></ol></li></ul> </div> <div class=\"section section-2\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-EnablingCloudservicesinanewproject\"> <h2 class=\"heading\"><span>Enabling Cloud services in a new project</span></h2> <p>Once you&apos;ve <a class=\"document-link\" href=\"#!/guide/Managing_Non-Titanium_Client_Applications_in_Dashboard\">registered an application in Dashboard</a>, downloaded the SDK, and obtained your application service key, there are few steps to enable Cloud services in your Android project. </p> <p><strong>To enable the Cloud services in your project</strong>: </p> <ol class=\"\"><li class=\"\"> <p>Copy <strong class=\"\"><tt class=\"\">appcelerator-sdk-android-&lt;VERSION&gt;.jar</tt></strong> to your project&apos;s <tt>libs</tt> folder. </p> </li><li class=\"\"> <p>Add the following permission to your project&apos;s <tt>AndroidManifest.xml</tt> file: </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.INTERNET&quot;</code><code class=\"plain\">/&gt;`</code></div> </div> </div> </td> </tr> </tbody> </table> </div> </li><li> <p>Import the APSServiceManager class into the project&apos;s main Activity: </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">import com.appcelerator.aps.APSServiceManager;</code></div> </div> </div> </td> </tr> </tbody> </table> </div> </li><li class=\"\"> <p>Call <tt>APSServiceManager.getInstance().enable()</tt>, passing it the application context and the application key provided by Dashboard: </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">APSServiceManager.getInstance().enable(getApplicationContext(), </code><code class=\"string\">&quot;&lt;&lt;YOUR APP KEY&gt;&gt;&quot;</code><code class=\"plain\">);</code></div> </div> </div> </td> </tr> </tbody> </table> </div> <p>At this point, your application can begin making API calls. Note that the application will need to import additional classes, depending on which APS APIs it uses. </p> </li></ol> </div> <div class=\"section section-2\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-MakingAPICallsandHandlingResponses\"> <h2 class=\"heading\"><span>Making API Calls and Handling Responses</span></h2> <p>The <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com/aps-sdk-apidoc/latest/android/index.html?com/appcelerator/aps/package-summary.html\" target=\"_blank\">com.appcelerator.aps</a> package contains a collection of classes whose methods map to individual REST API method endpoints. For example, the <tt class=\"\">APSUsers.create()</tt> method corresponds to the <tt>/users/create.json</tt> method endpoint. </p> <p>Alternatively, you can use the generic <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com/aps-sdk-apidoc/latest/android/com/appcelerator/aps/APSCloud.html#sendRequest(java.lang.String, java.lang.String, java.util.Map, com.appcelerator.aps.APSResponseHandler)\" target=\"_blank\">APSCloud.sendRequest()</a> method to make REST calls directly against the Cloud APIs. For more information, see <a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-MakingGenericRESTAPIsMethodCalls\">Making Generic REST API Calls</a>. </p> <div class=\"confbox admonition admonition-note aui-message warning shadowed information-macro\"> <p>All Cloud API calls must be made on the UI (main) thread, and callbacks are executed on the UI thread. </p> </div> <div class=\"section section-3\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-BuildingRequestParameters\"> <h3 class=\"heading\"><span>Building Request Parameters</span></h3> <p>The first parameter of each Cloud API method is a <tt class=\"\">HashMap</tt> object that contains the parameters to send with the request. For example, the <tt class=\"\">APSPhotos.show()</tt> method takes a <tt>photo_id</tt> parameter whose value is, naturally, the ID of the photo to show. </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"comments\">// Create dictionary of parameters to be passed with the request</code></div> <div class=\"line\"><code class=\"plain\">HashMap&lt;String, Object&gt; data = </code><code class=\"keyword\">new</code><code class=\"plain\"> HashMap&lt;String, Object&gt;();</code></div> <div class=\"line\"><code class=\"plain\">data.put(</code><code class=\"string\">&quot;photo_id&quot;</code><code class=\"plain\">, photoId);</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"plain\">APSPhotos.show(data, </code><code class=\"keyword\">new</code><code class=\"plain\"> APSResponseHandler() {</code></div> <div class=\"line\"><code class=\"plain\"> ...</code></div> <div class=\"line\"><code class=\"plain\">});</code></div> </div> </div> </td> </tr> </tbody> </table> </div> </div> <div class=\"section section-3\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-HandlingResponses\"> <h3 class=\"heading\"><span>Handling Responses</span></h3> <p>The second parameter of each method call is an instance of <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com/aps-sdk-apidoc/latest/android/com/appcelerator/aps/APSResponseHandler.html\" target=\"_blank\">APSResponseHandler</a>, an interface that has the following signature: </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">public interface APSResponseHandler {</code></div> <div class=\"line\"><code class=\"plain\"> void onResponse(final APSResponse e);</code></div> <div class=\"line\"><code class=\"plain\"> void onException(final APSCloudException e);</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> </div> </div> </td> </tr> </tbody> </table> </div> <p>The instance you specify must override the <tt class=\"\">onResponse</tt> and <tt class=\"\">onException</tt> methods. The <tt class=\"\">onResponse</tt> method is invoked upon completion of a Cloud API call, and the <tt>onException</tt> handler is invoked if there is an exception while communicating with the MBS server. </p> <p>The <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com/aps-sdk-apidoc/latest/android/com/appcelerator/aps/APSResponse.html\" target=\"_blank\">APSResponse</a> object provides getter methods to access information about the response. For instance, the <tt class=\"\">getSuccess()</tt> method returns a boolean indicating if the method call was successful or not; the <tt>getResponse()</tt> method returns a JSON-encoded object with the results of the method call. </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">@Override</code></div> <div class=\"line\"><code class=\"plain\">public void onResponse(final APSResponse e) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">if</code><code class=\"plain\"> (e.getSuccess()) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"comments\">// Read JSON response</code></div> <div class=\"line\"><code class=\"plain\"> JSONObject res = e.getResponse();</code></div> <div class=\"line\"><code class=\"plain\"> } </code><code class=\"keyword\">else</code><code class=\"plain\"> {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"comments\">// Log error message:</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;LOGIN&quot;</code><code class=\"plain\">, e.getMessage());</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> </div> </div> </td> </tr> </tbody> </table> </div> <p>The <tt>onException()</tt> handler is invoked for any exceptions that occur during communication with the MBS server. </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">@Override</code></div> <div class=\"line\"><code class=\"plain\">public void onException(APSCloudException e) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"comments\">// Handle exception</code></div> <div class=\"line\"><code class=\"plain\"> Log(e.getErrorType(), e.getErrorCode());</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> </div> </div> </td> </tr> </tbody> </table> </div> <div class=\"section section-4\" id=\"src-49153767_safe-id-QU1QTElGWUFwcGNlbGVyYXRvclBsYXRmb3JtU2VydmljZXNTREtmb3JBbmRyb2lkTW9iaWxlQmFja2VuZFNlcnZpY2VzLUV4YW1wbGU6QVBTVXNlcnNMb2dpbkNhbGx3aXRoUmVzcG9uc2VIYW5kbGVy\"> <h4 class=\"heading\"><span>Example: APSUsers Login Call with Response Handler</span></h4> <p>The following example logs in an existing MBS user by their username and password. After a successful login, the application updates a TextView object with the user&apos;s MBS username. </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">HashMap&lt;String, Object&gt; data = </code><code class=\"keyword\">new</code><code class=\"plain\"> HashMap&lt;String, Object&gt;();</code></div> <div class=\"line\"><code class=\"plain\">data.put(</code><code class=\"string\">&quot;login&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;username&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\">data.put(</code><code class=\"string\">&quot;password&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;password&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"keyword\">try</code><code class=\"plain\"> {</code></div> <div class=\"line\"><code class=\"plain\"> APSUsers.login(data, </code><code class=\"keyword\">new</code><code class=\"plain\"> APSResponseHandler() {</code></div> <div class=\"line\"><code class=\"plain\"> @Override</code></div> <div class=\"line\"><code class=\"plain\"> public void onResponse(final APSResponse e) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">if</code><code class=\"plain\"> (e.getSuccess()) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">try</code><code class=\"plain\"> {</code></div> <div class=\"line\"><code class=\"plain\"> JSONObject res = e.getResponse();</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"comments\">// Response returns an array containing a single user</code></div> <div class=\"line\"><code class=\"plain\"> JSONArray payload = res.getJSONArray(</code><code class=\"string\">&quot;users&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\"> res = payload.getJSONObject(0);</code></div> <div class=\"line\"><code class=\"plain\"> loginTextView.setText(res.getString(</code><code class=\"string\">&quot;username&quot;</code><code class=\"plain\">));</code></div> <div class=\"line\"><code class=\"plain\"> } </code><code class=\"keyword\">catch</code><code class=\"plain\"> (Exception e) {</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;LOGIN&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;Error parsing JSON object: &quot;</code><code class=\"plain\"> + e.toString());</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">else</code><code class=\"plain\"> {</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;LOGIN&quot;</code><code class=\"plain\">, e.getMessage());</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> @Override</code></div> <div class=\"line\"><code class=\"plain\"> public void onException(APSCloudException e) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"comments\">// Handle exception that occured</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> });</code></div> <div class=\"line\"><code class=\"plain\">} </code><code class=\"keyword\">catch</code><code class=\"plain\"> (APSClientError e) {</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;LOGIN&quot;</code><code class=\"plain\">, e.getErrorType());</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> </div> </div> </td> </tr> </tbody> </table> </div> </div> </div> <div class=\"section section-3\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-MonitoringRequestProgress\"> <h3 class=\"heading\"><span>Monitoring Request Progress</span></h3> <p>For Cloud API methods that involve uploading large files, such as <tt class=\"\">APSPhotos.create()</tt> or <tt class=\"\">APSFiles.create()</tt>, there is an overloaded version that takes an optional <tt class=\"\">progressHandler</tt> parameter. This parameter takes an <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com/aps-sdk-apidoc/latest/android/com/appcelerator/aps/APSProgressHandler.html\" target=\"_blank\">APSProgressHandler</a> instance, which must provide an <tt>onProgress</tt> handler. This handler is periodically triggered as the file transfer continues, and is passed an integer between 0-100 indicating the current upload progress. </p> <div class=\"section section-4\" id=\"src-49153767_safe-id-QU1QTElGWUFwcGNlbGVyYXRvclBsYXRmb3JtU2VydmljZXNTREtmb3JBbmRyb2lkTW9iaWxlQmFja2VuZFNlcnZpY2VzLUV4YW1wbGU6QVBTRmlsZXNDcmVhdGVDYWxsd2l0aFByb2dyZXNzSGFuZGxlcg\"> <h4 class=\"heading\"><span>Example: APSFiles Create Call with Progress Handler</span></h4> <p>The following example uploads a file from the device (<tt class=\"\">/res/raw/reference.pdf</tt>) to the MBS storage server. Since the method call requires that uploaded data be an instance of <tt>java.io.File</tt>, the application needs to copy the resource to a read-write directory before uploading it. Storing the file locally requires that the <a class=\"external-link external-link\" href=\"http://developer.android.com/reference/android/Manifest.permission.html#WRITE_EXTERNAL_STORAGE\" target=\"_blank\">WRITE_EXTERNAL_STORAGE</a> permission is included in your AndroidManifest.xml file. </p> <p>The progress callback calls the <tt class=\"\">setProgress()</tt> method on a <tt>ProgressBar</tt> object, displaying the status of the upload. After the request successfully completes, the application displays a toast notification. </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">HashMap&lt;String, Object&gt; data = </code><code class=\"keyword\">new</code><code class=\"plain\"> HashMap&lt;String, Object&gt;();</code></div> <div class=\"line\"><code class=\"plain\">String filename = </code><code class=\"string\">&quot;reference.pdf&quot;</code><code class=\"plain\">;</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"comments\">// Need to copy the resource to a read-write directory to upload it</code></div> <div class=\"line\"><code class=\"keyword\">if</code><code class=\"plain\"> (!createExternalStoragePrivateFile(R.raw.reference, filename)) </code><code class=\"keyword\">return</code><code class=\"plain\">;</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"plain\">File file = </code><code class=\"keyword\">new</code><code class=\"plain\"> File(currentActivity.getExternalFilesDir(</code><code class=\"keyword\">null</code><code class=\"plain\">), filename);</code></div> <div class=\"line\"><code class=\"plain\">data.put(</code><code class=\"string\">&quot;file&quot;</code><code class=\"plain\">, file);</code></div> <div class=\"line\"><code class=\"plain\">data.put(</code><code class=\"string\">&quot;name&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;Reference Manual&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"keyword\">try</code><code class=\"plain\"> {</code></div> <div class=\"line\"><code class=\"plain\"> APSFiles.create(data, </code><code class=\"keyword\">new</code><code class=\"plain\"> APSClient.APSResponseHandler() {</code></div> <div class=\"line\"><code class=\"plain\"> @Override</code></div> <div class=\"line\"><code class=\"plain\"> public void onResponse(final APSResponse e) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">if</code><code class=\"plain\"> (e.getSuccess()) {</code></div> <div class=\"line\"><code class=\"plain\"> APSCloud.log(</code><code class=\"string\">&quot;PUSH&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;Successfully subscribed to push!&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\"> progressBar.setVisibility(View.GONE);</code></div> <div class=\"line\"><code class=\"plain\"> Toast.makeText(currentActivity, </code><code class=\"string\">&quot;File uploaded!&quot;</code><code class=\"plain\">, Toast.LENGTH_SHORT).show();</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">else</code><code class=\"plain\"> {</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;UPLOAD&quot;</code><code class=\"plain\">, e.getMessage());</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> },</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">new</code><code class=\"plain\"> APSClient.APSProgressHandler() {</code></div> <div class=\"line\"><code class=\"plain\"> @Override</code></div> <div class=\"line\"><code class=\"plain\"> public void onProgress(final int percentProgress, final boolean upload) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">if</code><code class=\"plain\"> (currentActivity != </code><code class=\"keyword\">null</code><code class=\"plain\">) {</code></div> <div class=\"line\"><code class=\"plain\"> progressBar.setProgress(percentProgress);</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> });</code></div> <div class=\"line\"><code class=\"plain\">} </code><code class=\"keyword\">catch</code><code class=\"plain\"> (APSClientError e) {</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;UPLOAD&quot;</code><code class=\"plain\">, e.getMessage());</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"comments\">// Helper function to copy a resource to external storage, modified from:</code></div> <div class=\"line\"><code class=\"comments\">// http://developer.android.com/reference/android/content/Context.html#getExternalFilesDir(java.lang.String)</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"plain\">public static boolean createExternalStoragePrivateFile(int inputResource, String filename) {</code></div> <div class=\"line\"><code class=\"plain\"> File file = </code><code class=\"keyword\">new</code><code class=\"plain\"> File(currentActivity.getExternalFilesDir(</code><code class=\"keyword\">null</code><code class=\"plain\">), filename);</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">try</code><code class=\"plain\"> {</code></div> <div class=\"line\"><code class=\"plain\"> InputStream is = currentActivity.getResources().openRawResource(inputResource);</code></div> <div class=\"line\"><code class=\"plain\"> OutputStream os = </code><code class=\"keyword\">new</code><code class=\"plain\"> FileOutputStream(file);</code></div> <div class=\"line\"><code class=\"plain\"> byte[] data = </code><code class=\"keyword\">new</code><code class=\"plain\"> byte[is.available()];</code></div> <div class=\"line\"><code class=\"plain\"> is.read(data);</code></div> <div class=\"line\"><code class=\"plain\"> os.write(data);</code></div> <div class=\"line\"><code class=\"plain\"> is.close();</code></div> <div class=\"line\"><code class=\"plain\"> os.close();</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">return</code><code class=\"plain\"> </code><code class=\"keyword\">true</code><code class=\"plain\">;</code></div> <div class=\"line\"><code class=\"plain\"> } </code><code class=\"keyword\">catch</code><code class=\"plain\"> (IOException e) {</code></div> <div class=\"line\"><code class=\"plain\"> Log.w(</code><code class=\"string\">&quot;ExternalStorage&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;Error writing &quot;</code><code class=\"plain\"> + file, e);</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">return</code><code class=\"plain\"> </code><code class=\"keyword\">false</code><code class=\"plain\">;</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> </div> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> <div class=\"section section-2\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-MakingGenericRESTAPIsMethodCalls\"> <h2 class=\"heading\"><span>Making Generic REST APIs Method Calls</span></h2> <p>The <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com/aps-sdk-apidoc/latest/android/com/appcelerator/aps/APSCloud.html#sendRequest(java.lang.String, java.lang.String, java.util.Map, com.appcelerator.aps.APSResponseHandler)\" target=\"_blank\"><tt class=\"\">APSCloud.sendRequest()</tt></a> method lets you easily make REST API calls directly against MBS, rather than using the specialized classes (like <tt>APSUsers</tt>). In general, you should use the specialized classes as they provide an easier API. However, if new REST methods are deployed to the APS Cloud backend, this approach lets you immediately start using those methods without waiting for an update to the SDK. </p> <p>To make a generic request, you call <tt class=\"\">APSCloud.getInstance()</tt> to get a reference to the shared APSCloud object and call its <tt>sendRequest()</tt> method. For each call, you must specify the following: </p> <ul class=\"\"><li class=\"\"> <p>REST API method endpoint relative to <tt class=\"\">api.cloud.appcelerator.com/v1</tt>. Method endpoints are listed in the corresponding entries in the <a class=\"document-link\" href=\"#!/guide/Using_the_REST_API\">REST API</a> documentation. </p> </li><li> <p>The HTTP method to use. </p> </li><li> <p>Data to send with the request. </p> </li></ul> <p>For example, to <a class=\"external-link external-link\" href=\"/arrowdb/latest/#!/api/Posts-method-create\">create a post</a>, pass the <tt>sendRequest()</tt> method the following information: </p> <ul class=\"\"><li class=\"\"> <p>REST API method endpoint: <tt>posts/create.json</tt> </p> </li><li class=\"\"> <p>The HTTP method to use: <tt>POST</tt> </p> </li><li class=\"\"> <p>Data to send with the request: at a minimum, you must specify the <tt>content</tt> property. </p> </li></ul> <p>The following uses the <tt>sendRequest()</tt> API to create a new Post object. </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">HashMap&lt;String, Object&gt; data = </code><code class=\"keyword\">new</code><code class=\"plain\"> HashMap&lt;String, Object&gt;();</code></div> <div class=\"line\"><code class=\"plain\">data.put(</code><code class=\"string\">&quot;title&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;What&apos;s up?&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\">data.put(</code><code class=\"string\">&quot;content&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;The sun, the cloud, space...&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"keyword\">try</code><code class=\"plain\"> {</code></div> <div class=\"line\"><code class=\"plain\"> APSCloud.getInstance().sendRequest(</code><code class=\"string\">&quot;posts/create.json&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;POST&quot;</code><code class=\"plain\">, data, </code><code class=\"keyword\">new</code><code class=\"plain\"> APSClient.APSResponseHandler() {</code></div> <div class=\"line\"><code class=\"plain\"> public void onResponse(final APSResponse e) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">if</code><code class=\"plain\"> (e.getSuccess()) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">try</code><code class=\"plain\"> {</code></div> <div class=\"line\"><code class=\"plain\"> JSONObject res = e.getResponse();</code></div> <div class=\"line\"><code class=\"plain\"> JSONArray payload = res.getJSONArray(</code><code class=\"string\">&quot;posts&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\"> res = payload.getJSONObject(0);</code></div> <div class=\"line\"><code class=\"plain\"> latestPost.setText(res.getString(</code><code class=\"string\">&quot;title&quot;</code><code class=\"plain\">));</code></div> <div class=\"line\"><code class=\"plain\"> } </code><code class=\"keyword\">catch</code><code class=\"plain\"> (Exception err) {</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;REST&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;JSON Error: &quot;</code><code class=\"plain\"> + err.getMessage());</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">else</code><code class=\"plain\"> {</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;REST&quot;</code><code class=\"plain\">, e.getMessage());</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> });</code></div> <div class=\"line\"><code class=\"plain\">} </code><code class=\"keyword\">catch</code><code class=\"plain\"> (APSClientError e) {</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;REST&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;Error: &quot;</code><code class=\"plain\"> + e.getMessage());</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> </div> </div> </td> </tr> </tbody> </table> </div> </div> <div class=\"section section-2\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-WorkingwithPushNotifications\"> <h2 class=\"heading\"><span>Working with Push Notifications</span></h2> <p>The <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com/aps-sdk-apidoc/latest/android/com/appcelerator/aps/APSPushNotifications.html\" target=\"_blank\"><tt class=\"\">APSPushNotifications</tt></a> class lets your application subscribe, send and receive push notifications. To use the class, you also need the <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com/aps-sdk-apidoc/latest/android/com/appcelerator/aps/APSCloudPush.html\" target=\"_blank\"><tt>APSCloudPush</tt></a> class, which provides the underlying services to handle incoming push notifications. </p> <p>To use these classes: </p> <ul class=\"\"><li class=\"\"> <p><a class=\"document-link\" href=\"#!/guide/Configuring_push_services\">Configure push services</a> for your application. </p> </li><li class=\"\"> <p>Add Google Play services as a dependency to your project and update the project&apos;s <tt class=\"\">AndroidManifest.xml</tt> file. See the <a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-AndroidProjectRequirementsforusingAPSCloudPush\">Android Project Requirements section below</a>. </p> </li><li class=\"\"> <p>Retrieve the device token and subscribe to push notifications with MBS. See the <a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-Subscribetopushnotifications\">Subscribe to push notifications</a> section below. </p> </li></ul> <div class=\"section section-3\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-AndroidProjectRequirementsforusingAPSCloudPush\"> <h3 class=\"heading\"><span>Android Project Requirements for using APSCloud Push</span></h3> <p>Once you have configured your Google Cloud Messaging (GCM) or Firebase Cloud Messaging (FCM) settings in Dashboard, there are some required configuration changes to your Android project to use <tt>APSCloudPush</tt>. <a class=\"external-link external-link\" href=\"http://firebase.google.com/docs/cloud-messaging/\" target=\"_blank\">Firebase Cloud Messaging</a> (FCM) is the new version of GCM. </p> <div class=\"section section-4\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-AddGooglePlayservices\"> <h4 class=\"heading\"><span>Add Google Play services</span></h4> <p><tt>APSCloudPush</tt> requires that Google Play services be included in your application. </p> <ol class=\"\"><li> <p>Download the Google Play services SDK using the Android SDK Manager. </p> </li><li class=\"\"> <p>Copy the <tt>&lt;android-sdk&gt;/extras/google/google_play_services/libproject/google-play-services_lib</tt> folder to the same workspace folder as your Android projects (not into your Android project). </p> </li><li class=\"\"> <p>Add the following inside the <strong class=\"\"><tt class=\"\">&lt;application/&gt;</tt></strong> element of your <tt>AndroidManifest.xml</tt> file: </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">meta</code><code class=\"plain\">-data </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;com.google.android.gms.version&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:value</code><code class=\"plain\">=</code><code class=\"string\">&quot;@integer/google_play_services_version&quot;</code><code class=\"plain\"> /&gt;</code></div> </div> </div> </td> </tr> </tbody> </table> </div> <p>For <strong class=\"\">Android Studio</strong> projects, update the <tt class=\"\">dependencies</tt> field of the <tt>build.gradle</tt> file, then save and sync the gradle file. </p> </li></ol> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">...</code></div> <div class=\"line\"><code class=\"plain\">dependencies {</code></div> <div class=\"line\"><code class=\"plain\"> ...</code></div> <div class=\"line\"><code class=\"plain\"> compile </code><code class=\"string\">&apos;com.google.android.gms:play-services:6.5.87&apos;</code></div> <div class=\"line\"><code class=\"plain\">}</code></div> </div> </div> </td> </tr> </tbody> </table> </div> <p>For <strong>Eclipse</strong> projects: </p> <ol class=\"\"><li class=\"\"> <p>Import the library project into Eclipse. (From the menu, click <strong class=\"\">File</strong> &gt; <strong class=\"\">Import</strong>, then select <strong class=\"\">Android</strong> &gt; <strong>Existing Android Code into Workspace</strong>, and browse to the copy of the library project to import it.) </p> </li><li class=\"\"> <p>In the application project, reference the Google Play services library project. Right-click the project folder and select <strong class=\"\">Properties</strong>, then select <strong class=\"\">Android</strong>, click <strong>Add..</strong> and select the library project. </p> </li></ol> <p>For other projects, update the <tt>project.properties</tt> file to reference the library project: </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">android.library.reference.1=../google-play-services_lib</code></div> </div> </div> </td> </tr> </tbody> </table> </div> <p>For detailed directions, see <a class=\"external-link external-link\" href=\"http://developer.android.com/google/play-services/setup.html\" target=\"_blank\">Android Developer: Setting Up Google Play Services</a>. </p> </div> <div class=\"section section-4\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-AndroidManifestchanges\"> <h4 class=\"heading\"><span>AndroidManifest changes</span></h4> <p>The following changes must be added to your project&apos;s <tt class=\"\">AndroidManifest.xml</tt> to use <tt class=\"\">APSCloudPush</tt>. Replace each occurrence of <i>&quot;YOURAPPSPACKAGENAME&quot;</i> with the actual package name of your application. </p> <ul class=\"\"><li class=\"\"> <p>Inside the <tt>&lt;manifest/&gt;</tt> element: </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.INTERNET&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.GET_ACCOUNTS&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.WAKE_LOCK&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;com.google.android.c2dm.permission.RECEIVE&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.READ_PHONE_STATE&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.VIBRATE&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"color1\">android:maxSdkVersion</code><code class=\"plain\">=</code><code class=\"string\">&quot;18&quot;</code><code class=\"plain\"> /&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">permission</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;YOURAPPSPACKAGENAME.permission.C2D_MESSAGE&quot;</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"color1\">android:protectionLevel</code><code class=\"plain\">=</code><code class=\"string\">&quot;signature&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">uses</code><code class=\"plain\">-permission </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;YOURAPPSPACKAGENAME.permission.C2D_MESSAGE&quot;</code><code class=\"plain\">/&gt;</code></div> </div> </div> </td> </tr> </tbody> </table> </div> </li><li class=\"\"> <p>Inside the <tt>&lt;application/&gt;</tt> element: </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">receiver</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;com.appcelerator.aps.IntentReceiver&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">receiver</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;com.appcelerator.aps.GCMReceiver&quot;</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"color1\">android:permission</code><code class=\"plain\">=</code><code class=\"string\">&quot;com.google.android.c2dm.permission.SEND&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;com.google.android.c2dm.intent.RECEIVE&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">category</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;YOURAPPSPACKAGENAME&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;/</code><code class=\"keyword\">receiver</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">receiver</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;com.appcelerator.aps.PushBroadcastReceiver&quot;</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"color1\">android:permission</code><code class=\"plain\">=</code><code class=\"string\">&quot;com.google.android.c2dm.permission.SEND&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.action.BOOT_COMPLETED&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;com.google.android.c2dm.intent.REGISTRATION&quot;</code><code class=\"plain\"> /&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;com.appcelerator.aps.intent.DEL_GROUPED_MSG&quot;</code><code class=\"plain\"> /&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">category</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;YOURAPPSPACKAGENAME&quot;</code><code class=\"plain\"> /&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;/</code><code class=\"keyword\">receiver</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;</code><code class=\"keyword\">receiver</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;com.appcelerator.aps.PushBroadcastReceiver&quot;</code><code class=\"plain\">&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.action.PACKAGE_ADDED&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">action</code><code class=\"plain\"> </code><code class=\"color1\">android:name</code><code class=\"plain\">=</code><code class=\"string\">&quot;android.intent.action.PACKAGE_REPLACED&quot;</code><code class=\"plain\">/&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;</code><code class=\"keyword\">data</code><code class=\"plain\"> </code><code class=\"color1\">android:scheme</code><code class=\"plain\">=</code><code class=\"string\">&quot;package&quot;</code><code class=\"plain\"> </code><code class=\"color1\">android:path</code><code class=\"plain\">=</code><code class=\"string\">&quot;YOURAPPSPACKAGENAME&quot;</code><code class=\"plain\"> /&gt;</code></div> <div class=\"line\"><code class=\"plain\"> &lt;/</code><code class=\"keyword\">intent</code><code class=\"plain\">-filter&gt;</code></div> <div class=\"line\"><code class=\"plain\">&lt;/</code><code class=\"keyword\">receiver</code><code class=\"plain\">&gt;</code></div> </div> </div> </td> </tr> </tbody> </table> </div> <h4 id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-SubscribetopushnotificationsSubscribetopushnotifications\" class=\"heading\"><span>Subscribe to push notifications</span></h4> </li></ul> <p>Once the project is set up, the application needs to register with MBS to receive push notifications. The application should do this once the application starts, for example, in the <tt>onCreate()</tt> method of the application&apos;s main activity. </p> <p>To register for push notifications, the application needs to retrieve the device token using the <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com/aps-sdk-apidoc/latest/android/com/appcelerator/aps/APSCloudPush.html#retrieveDeviceToken(com.appcelerator.aps.APSRetrieveDeviceTokenHandler)\" target=\"_blank\"><tt class=\"\">APSCloudPush.getInstance.retrieveDeviceToken()</tt></a> method, then pass the token to either the <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com/aps-sdk-apidoc/latest/android/com/appcelerator/aps/APSPushNotifications.html#subscribe(java.util.Map,com.appcelerator.aps.APSResponseHandler)\" target=\"_blank\"><tt class=\"\">APSPushNotifications.subscribe()</tt></a> or <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com/aps-sdk-apidoc/latest/android/com/appcelerator/aps/APSPushNotifications.html#subscribeToken(java.util.Map,com.appcelerator.aps.APSResponseHandler)\" target=\"_blank\"><tt>APSPushNotifications.subscribeToken()</tt></a> method to subscribe to a push channel. </p> <div class=\"confbox admonition admonition-note aui-message warning shadowed information-macro\"> <p>Call <a class=\"external-link external-link\" href=\"http://docs.appcelerator.com/aps-sdk-apidoc/latest/android/com/appcelerator/aps/APSServiceManager.html#getInstance()\" target=\"_blank\"><tt class=\"\">APSServiceManager.getInstance()</tt></a> before calling any methods on <tt>APSCloudPush</tt>, otherwise, an exception will be thrown. </p> </div> <p>For example, the code below can be added to the main activity&apos;s <tt class=\"\">onCreate()</tt> method to subscribe the device to the <tt>friend_channel</tt>: </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">APSCloudPush.getInstance().retrieveDeviceToken(</code><code class=\"keyword\">new</code><code class=\"plain\"> APSRetrieveDeviceTokenHandler() {</code></div> <div class=\"line\"><code class=\"plain\"> @Override</code></div> <div class=\"line\"><code class=\"plain\"> public void onError(String message) {</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;APSCloudPush&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;Could not retrieve device token: &quot;</code><code class=\"plain\"> + message);</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"plain\"> @Override</code></div> <div class=\"line\"><code class=\"plain\"> public void onSuccess(String deviceToken) {</code></div> <div class=\"line\"><code class=\"plain\"> HashMap&lt;String, Object&gt; data = </code><code class=\"keyword\">new</code><code class=\"plain\"> HashMap&lt;String, Object&gt;();</code></div> <div class=\"line\"><code class=\"plain\"> data.put(</code><code class=\"string\">&quot;type&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;android&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\"> data.put(</code><code class=\"string\">&quot;channel&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;friend_channel&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\"> data.put(</code><code class=\"string\">&quot;device_token&quot;</code><code class=\"plain\">, deviceToken);</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">try</code><code class=\"plain\"> {</code></div> <div class=\"line\"><code class=\"plain\"> APSPushNotifications.subscribeToken(data, </code><code class=\"keyword\">new</code><code class=\"plain\"> APSResponseHandler() {</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"plain\"> @Override</code></div> <div class=\"line\"><code class=\"plain\"> public void onResponse(final APSResponse e) {</code></div> <div class=\"line\"><code class=\"plain\"> </code><code class=\"keyword\">if</code><code class=\"plain\"> (e.getSuccess()) {</code></div> <div class=\"line\"><code class=\"plain\"> Log.i(</code><code class=\"string\">&quot;APSPushNotifications&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;Subscribed!&quot;</code><code class=\"plain\">);</code></div> <div class=\"line\"><code class=\"plain\"> } </code><code class=\"keyword\">else</code><code class=\"plain\"> {</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;APSPushNotifications&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;ERROR: &quot;</code><code class=\"plain\"> + e.getErrorMessage());</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\">&#xA0;</div> <div class=\"line\"><code class=\"plain\"> @Override</code></div> <div class=\"line\"><code class=\"plain\"> public void onException(final APSCloudException e) {</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;APSPushNotifications&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;Exception throw: &quot;</code><code class=\"plain\"> + e.toString());</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> });</code></div> <div class=\"line\"><code class=\"plain\"> } </code><code class=\"keyword\">catch</code><code class=\"plain\"> (APSCloudException e) {</code></div> <div class=\"line\"><code class=\"plain\"> Log.e(</code><code class=\"string\">&quot;APSPushNotifications&quot;</code><code class=\"plain\">, </code><code class=\"string\">&quot;Exception thrown: &quot;</code><code class=\"plain\"> + e.toString());</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\"> }</code></div> <div class=\"line\"><code class=\"plain\">});</code></div> </div> </div> </td> </tr> </tbody> </table> </div> <p>Once push services have been configured, and you&apos;ve obtained a device token by registering your application to receive push notifications, you can start calling methods of the <tt class=\"\">APSCloudPush</tt> and <tt>APSPushNotifications</tt> classes. </p> </div> </div> <div class=\"section section-3\" id=\"src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-CloudPushsampleapplication\"> <h3 class=\"heading\"><span>CloudPush sample application</span></h3> <p>The SDK includes the <tt class=\"\">APSCloudPushExample</tt> application that demonstrates the use of the <tt class=\"\">APSPushNotifications</tt> and <tt class=\"\">APSCloudPush</tt> APIs. To run the sample application, you&apos;ll first need to create an Android application in Dashboard (or use an existing application) and configure its push notification settings to include a GCM or FCM sender ID and application key. <tt>APSCloudPush</tt> requires Google Play services, so you&apos;ll also need to add that library as a dependency to your project. </p> <p><strong>To import and run the APSCloudPushExample application</strong>: </p> <ol class=\"\"><li class=\"\"> <p>In Eclipse, select <strong class=\"\">File </strong>&gt;<strong class=\"\"> Import </strong>&gt;<strong class=\"\"> General </strong>&gt;<strong class=\"\"> Existing Projects into Workspace</strong> and click <strong>Browse</strong>. </p> </li><li class=\"\"> <p>Navigate to the <strong class=\"\"><tt class=\"\">appcelerator-sdk-android-&lt;VERSION&gt;/examples/APSCloudPushExample</tt></strong> folder and click <strong>Open</strong>. </p> </li><li class=\"\"> <p>Click <strong>Finish</strong> to import the project. </p> </li><li class=\"\"> <p>Add the Google Play services to your project (see <a class=\"document-link\" href=\"#!/guide/AMPLIFY_Appcelerator_Platform_Services_SDK_for_Android_Mobile_Backend_Services-section-src-49153767_AMPLIFYAppceleratorPlatformServicesSDKforAndroidMobileBackendServices-AndroidProjectRequirementsforusingAPSCloudPush\">Android Project Requirements</a> for instructions). </p> </li><li class=\"\"> <p>In MainActivity.java, locate the following line and replace <strong>&lt;&lt; YOUR APP KEY &gt;&gt;</strong> with the application key generated by Dashboard: </p> <div class=\"tablewrap\"> <table> <thead class=\"\"/><tfoot class=\"\"/><tbody> <tr> <td rowspan=\"1\" colspan=\"1\"> <div class=\"confbox programlisting defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"defaultnew syntaxhighlighter scroll-html-formatted-code\"> <div class=\"line\"><code class=\"plain\">String appKey = </code><code class=\"string\">&quot;&lt;&lt; YOUR APP KEY &gt;&gt;&quot;</code><code class=\"plain\">;</code></div> </div> </div> </td> </tr> </tbody> </table> </div> </li><li> <p>Run the application on an Android device or emulator. </p> </li></ol> </div> </div> </div><a id=\"editButton\" href=\"https://wiki.appcelerator.org/pages/editpage.action?pageId=49153767\"><span>Edit</span></a> </div> </body> </html> ","title":"AMPLIFY Appcelerator Platform Services SDK for Android Mobile Backend Services"});